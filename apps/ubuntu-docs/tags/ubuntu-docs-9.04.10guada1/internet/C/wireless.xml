<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD Docbook XML V.4.3//EN"
	  "http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
	  <!ENTITY % globalent SYSTEM "../../libs/global.ent">
	  %globalent;
	  <!ENTITY % gnome-menus-C SYSTEM "../../libs/gnome-menus-C.ent">
	  %gnome-menus-C;
	  <!ENTITY % xinclude SYSTEM "../../libs/xinclude.mod">
	  %xinclude;
	  <!ENTITY language "en">
	  <!ENTITY ubuntu '<phrase>Ubuntu</phrase>'>
	  ]>
	  <?db.chunk.max_depth 4?>
<?yelp:chunk-depth 4?>
<chapter id="wireless" status="review">
	<title>Wireless Networking</title>
	<sect1 id="wireless-connecting" status="review">
		<title>Connect to a wireless network</title>
		<important>
			<para>If there is no <guilabel>Wireless Connection</guilabel> shown see Troubleshooting (<xref linkend="troubleshooting"/>)</para>
		</important>
		<sect2 id="wireless-connecting-networkmanager" status="review">
			<title>Connecting using Network Manager</title>
			<para><application>Network Manager</application> (&networking;) supports Roaming mode. This allows you to connect to any available wireless network in range.</para>
			<orderedlist>
				<listitem><para>In the <guilabel>Taskbar</guilabel> click the <application>Network Manager</application> icon.</para></listitem>
				<listitem><para>Select your wireless network from the list.</para></listitem>
				<listitem><para>Enter your <guilabel>Network Key</guilabel>.</para></listitem>
				<listitem><para>Click <guibutton>Connect</guibutton>.</para></listitem>
			</orderedlist>		
		</sect2>
		<sect2 id="wireless-connecting-hidden" status="review">
			<title>Connecting to a hidden network</title>
			<orderedlist>
				<listitem><para>Left click the Network Manager icon in the system tray.</para></listitem>
				<listitem><para>Click<guilabel>Connect to Hidden Wireless Network</guilabel></para></listitem>
				<listitem><para>In the network name text box enter the ESSID you are connecting to.</para></listitem>
				<listitem><para>Select the type of security used from the drop down list.</para></listitem>
				<listitem><para>Click <guibutton>Connect</guibutton>.</para></listitem>
			</orderedlist>
		</sect2>
	</sect1>
	<sect1 id="wireless-disconnecting" status="review">
		<title>Change or disable a wireless network</title>
		<sect2 id="wireless-disconnecting-another" status="review">
			<title>Connecting to another wireless network</title>
			<para><application>Network Manager</application> (&networking;) supports Roaming mode. This allows you to connect to any available wireless network in range.</para>
			<orderedlist>
				<listitem><para>In the <guilabel>Taskbar</guilabel> click the <application>Network Manager</application> icon.</para></listitem>
				<listitem><para>Select your wireless network from the list.</para></listitem>
				<listitem><para>Enter your <guilabel>Network Key</guilabel>.</para></listitem>
				<listitem><para>Click <guibutton>Connect</guibutton>.</para></listitem>
			</orderedlist>		
		</sect2>		
		<sect2 id="wireless-disconnecting-drop" status="review">
			<title>Disabling wireless connections</title>
			<orderedlist>
				<listitem><para>Right click the Network Manager icon in the system tray.</para></listitem>
				<listitem><para>Click <guilabel>Enable Wireless</guilabel> removing the check mark.</para></listitem>
			</orderedlist>
		</sect2>
	</sect1>
	
	<sect1 id="troubleshooting" status="review">
		<title>Wireless troubleshooting</title>
		<para>While not exhaustive, this section covers some common problems faced with wireless support.</para>
		<para>There is much more information available from the <ulink url="https://help.ubuntu.com/community/WifiDocs">Community Documentation</ulink>.</para>
		<note><para>This troubleshooting guide is designed to be carried out in order.</para></note>
		<sect2 id="troubleshooting-disabled" status="review">
			<title>Check that the device is on</title>
			<orderedlist>
				<listitem><para>Many wireless network devices can be turned on or off. Check to see if there is a hardware switch, some devices can be switched off from Windows and may need to be turned back on from Windows.</para></listitem>
				<listitem><para>If it is turned on then see <xref linkend="troubleshooting-device"/>.</para></listitem>
			</orderedlist>
		</sect2>
		<sect2 id="troubleshooting-device" status="review">
			<title>Check for device recognition</title>
			<orderedlist>
				<listitem><para>Open a <application>Terminal</application> (&terminal;) and type the command: <code>sudo lshw -C network</code></para></listitem>
			</orderedlist>
			<para>You should see an output, along with the words "CLAIMED, UNCLAIMED, ENABLED or DISABLED"</para>
			<orderedlist>				
				<listitem><para>Claimed - this indicates a driver is loaded but not functioning, see <xref linkend="ndiswrapper"/></para></listitem>
				<listitem><para>Unclaimed - there is no driver loaded, see <xref linkend="ndiswrapper"/>.</para></listitem>
				<listitem><para>Enabled - move on to If there is a driver listed then see <xref linkend="troubleshooting-connection" />.</para></listitem>
				<listitem><para>Disabled - see <xref linkend="troubleshooting-disabled"/>.</para></listitem>
			</orderedlist>
		</sect2>
		<sect2 id="troubleshooting-connection" status="review">
			<title>Check for a connection to the router</title>
			<orderedlist>
				<listitem><para>Open a <application>Terminal</application> (&terminal;) and type the command: <code>iwconfig</code>.</para></listitem>
				<listitem><para>If there is an entry that says <code>ESSID=""</code> then see <xref linkend="security-wpa"/>.</para></listitem>
				<listitem><para>If the ESSID for our router is shown there may be a problem with ACPI support. Boot the kernel with the <code>pci=noacpi</code> option.</para></listitem>
			</orderedlist>
		</sect2>	
		<sect2 id="troubleshooting-ip" status="review">
			<title>Check IP assignment</title>
			<orderedlist>
				<listitem><para>Open a <application>Terminal</application> (&terminal;) and type the command: <code>ifconfig</code>.</para></listitem>
				<listitem><para>If there is an IP address shown see <xref linkend="troubleshooting-dns"/>.</para></listitem>
				<listitem><para>From the <application>Terminal</application> enter the command: <code>sudo dhclient if_name</code> where if_name is the connection listed earlier.</para></listitem>
				<listitem><para>If you receive a message that says <code>bound to xxx.xxx.xxx.xxx</code> then see <xref linkend="troubleshooting-dns"/></para></listitem>
				<listitem><para>If not then reboot the system.</para></listitem>
			</orderedlist>
		</sect2>
		<sect2 id="troubleshooting-dns" status="review">
			<title>Check DNS</title>
			<orderedlist>
				<listitem><para>Open a <application>Terminal</application> (&terminal;) and type the command: <code>ping -c3 85.190.27.2</code>.</para></listitem>
				<listitem><para>Now type the command: <code>ping www.ubuntu.com</code>. If you get a response from the both then see <xref linkend="troubleshooting-ipv6"/>.</para></listitem>
				<listitem><para>Type the command: <code>cat /etc/resolv.conf</code>. If there is no nameserver listed then contact your ISP and find out your primary and secondary domain name servers. Once you have this information see <xref linkend="wireless-connecting"/>.</para></listitem>
			</orderedlist>
		</sect2>
		<sect2 id="troubleshooting-ipv6" status="review">
			<title>IPv6 Not Supported</title>
			<orderedlist>
				<listitem><para>IPv6 is supported by default in Ubuntu and can sometimes cause problems.</para></listitem>
				<listitem><para>To disable it, open a <application>Terminal</application> (&terminal;) and type the command: <code>gksudo gedit /etc/modprobe.d/aliases</code>.</para></listitem>
				<listitem><para>Find the line <code>alias net-pf-10 ipv6</code> and change it to read <code>alias net-pf-10 off</code>.</para></listitem>
				<listitem><para>Reboot Ubuntu.</para></listitem>
			</orderedlist>
		</sect2>	
	</sect1>


	<sect1 id="ndiswrapper" status="review">
		<title>Using Windows Wireless Drivers</title>
		<para>Ubuntu supports a system known as NDISWrapper. This allows you to use a Windows wireless device driver under Ubuntu.</para>
		<orderedlist>
			<listitem><para>Obtain the Windows Driver for your system and locate the file that ends with <code>.inf</code>.</para></listitem>
			<listitem><para>Install <application>ndisgtk</application> (&synaptic;).</para></listitem>
			<listitem><para>Open <application>ndisgtk</application> (&ndisgtk;).</para></listitem>
			<listitem><para>Select <guilabel>Install new driver</guilabel>.</para></listitem>
			<listitem><para>Choose the location of your Windows .inf file and click <guibutton>Install</guibutton>.</para></listitem>
			<listitem><para>Click <guibutton>OK</guibutton>.</para></listitem>
		</orderedlist>
	</sect1>

	<sect1 id="security" status="review">
		<title>Wireless network security</title>
		<para></para>
		<sect2 id="security-wpa" status="review">
			<title>Configuring WPA support.</title>
			<para>WPA support is now integrated with <application>Network Manager</application>.</para>
			<para>If you need to manually configure WPA support, see the <ulink url="https://help.ubuntu.com/community/WifiDocs/WPAHowTo?highlight=%28wpa%29">Wiki Entry</ulink>.</para>
		</sect2>
	</sect1>
</chapter>
