<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN" 
	"http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
<!ENTITY % globalent SYSTEM "../../libs/global.ent">
%globalent;
<!ENTITY % gnome-menus-C SYSTEM "../../libs/gnome-menus-C.ent">
%gnome-menus-C;
<!ENTITY % xinclude SYSTEM "../../libs/xinclude.mod">
%xinclude;
<!ENTITY language "&EnglishAmerican;">
]>
<chapter id="wiki-applications" status="complete">
	<title>Wiki Applications</title>
		<para>A Wiki is a website that allows the visitors to easily add,
    remove and modify available content easily. The ease of interaction
    and operation makes Wiki an effective tool for mass collaborative
    authoring. The term Wiki is also referred to the collaborative
    software.</para>

    <para>In this section, we explain howto install and configure the
    Wiki applications, <application>MoinMoin</application> and
    <application>MediaWiki</application> on your Ubuntu system.</para>

	<sect1 id="moinmoin" status="complete">
		<title>Moin Moin</title>
    <para>MoinMoin is a Wiki engine implemented in Python, based on the
    PikiPiki Wiki engine, and licensed under the GNU GPL.</para>
  <sect2 id="moinmoin-installation" status="complete">
    <title>Installation</title>
    <para>
    To install <application>MoinMoin</application>, run the following
    command in the command prompt:
    </para>

    <para>
<screen>
<command>sudo apt-get install python-moinmoin</command>
</screen>
    </para>
    <para>
    You should also install <application>apache2</application> web
    server.  For installing <application>apache2</application> web
    server, please refer to <xref linkend="http-installation"/>
    sub-section in <xref linkend="httpd"/> section.</para> 
  </sect2>
  <sect2 id="moinmoin-configuration" status="complete">
    <title>Configuration</title>
    <para>For configuring your first Wiki application, please run the
    following set of commands. Let us assume that you are creating a
    Wiki named <emphasis>mywiki</emphasis>:</para>

<programlisting>
cd /usr/share/moin
sudo mkdir mywiki
sudo cp -R data mywiki
sudo cp -R underlay mywiki
sudo cp server/moin.cgi mywiki
sudo chown -R www-data.www-data mywiki 
sudo chmod -R ug+rwX mywiki
sudo chmod -R o-rwx mywiki
</programlisting>

  <para>
  Now you should configure <application>MoinMoin</application> to find
  your new Wiki <emphasis>mywiki</emphasis>. To configure
  <application>MoinMoin</application>, open
  <filename>/etc/moin/mywiki.py</filename> file and change the following
  line:
  </para>
  <programlisting>data_dir = '/org/moin/mywiki/data'</programlisting>

  <para>
  to
  </para>
  <programlisting>data_dir = '/usr/share/moin/mywiki/data'</programlisting>

  <note>
  <para>
  If the <filename>/etc/moin/mywiki.py</filename> file does not exists,
  you should copy <filename>/etc/moin/moinmaster.py</filename> file to
  <filename>/etc/moin/mywiki.py</filename> file and do the above mentioned
  change.
  </para>
  </note>

  <note>
  <para>
  If you have named your Wiki as <emphasis>my_wiki_name</emphasis> you
  should insert a line <quote>("my_wiki_name", r".*")</quote> in
  <filename>/etc/moin/farmconfig.py</filename> file after the line
  <quote>("mywiki", r".*")</quote>.
  </para>
  </note>

  <para>
  Once you have configured <application>MoinMoin</application> to find
  your first Wiki application <emphasis>mywiki</emphasis>, you should
  configure <application>apache2</application> and make it ready for
  your Wiki application.
  </para>

  <para>
  You should add the following lines in
  <filename>/etc/apache2/sites-available/default</filename> file inside
  the <quote>&lt;VirtualHost *&gt;</quote> tag:</para>

  <programlisting>
### moin
  ScriptAlias /mywiki "/usr/share/moin/mywiki/moin.cgi"
  alias /wiki "/usr/share/moin/htdocs"
  &lt;Directory /usr/share/moin/htdocs&gt;
  Order allow,deny
  allow from all
  &lt;/Directory&gt;
### end moin
  </programlisting>

  <para>
  Once you configure the <application>apache2</application> web server and
  make it ready for your Wiki application, you should restart it. You
  can run the following command to restart the
  <application>apache2</application> web server:
  </para>

<screen>
<command>sudo /etc/init.d/apache2 restart</command>
</screen>
  </sect2>
  <sect2 id="moinmoin-verification" status="complete">
    <title>Verification</title>
    <para>You can verify the Wiki application and see if it works by
    pointing your web browser to the following URL:</para>

<programlisting>
http://localhost/mywiki
</programlisting>

  <para>
  You can also run the test command by pointing your web browser to the
  following URL:
  </para>
<programlisting>
http://localhost/mywiki?action=test
</programlisting>
  <para>
  For more details, please refer to the <ulink
  url="http://moinmoin.wikiwikiweb.de/">MoinMoin</ulink> web site.
  </para>
  </sect2>
  </sect1>
	<sect1 id="mediawiki" status="complete">
		<title>MediaWiki</title>
    <para>MediaWiki is an web based Wiki software written in the PHP
    language. It can either use <application>MySQL</application> or
    <application>PostgreSQL</application> Database Management
    System.</para>
  <sect2 id="mediawiki-installation" status="complete">
  <title>Installation</title>
    <para>
    Before installing <application>Mediawiki</application> you should also install 
    <application>Apache2</application>, the <application>PHP5</application> scripting language 
    and Database a Management System.  <application>MySQL</application> or <application>PostgreSQL</application>
    are the most common, choose one depending on your need.  Please refer to those 
    sections in this manual for installation instructions.
    </para>
    <para>
    To install <application>MediaWiki</application>, run the following
    command in the command prompt:
    </para>
    <para>
<screen>
<command>sudo apt-get install mediawiki php5-gd</command>
</screen>
    </para>

  </sect2>

  <sect2 id="mediawiki-configuration" status="complete">
  <title>Configuration</title>
    <para>
    Run the following commands to configure MediaWiki:
   </para>

<screen>
<command>sudo ln -s /var/lib/mediawiki /var/www/mediawiki</command>
</screen>

  <para>
  Point your web browser to the following URL for MediaWiki setup:
  </para>

<programlisting>
http://localhost/mediawiki/config/index.php
</programlisting>
  <tip>
  <para>
  Please read the <quote>Checking environment...</quote> section in this
  page.  You should be able to fix many issues by carefully reading this
  section.
  </para>
  </tip>
  <para>
  For more details, please refer to the <ulink
  url="http://www.mediawiki.org">MediaWiki</ulink> web site.
  </para>
  </sect2>
  </sect1>
</chapter>
