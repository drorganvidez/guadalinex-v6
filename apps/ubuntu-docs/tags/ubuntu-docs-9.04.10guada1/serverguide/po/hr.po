# Croatian translation for ubuntu-docs
# Copyright (c) (c) 2006 Canonical Ltd, and Rosetta Contributors 2006
# This file is distributed under the same license as the ubuntu-docs package.
# FIRST AUTHOR <EMAIL@ADDRESS>, 2006.
#
msgid ""
msgstr ""
"Project-Id-Version: ubuntu-docs\n"
"Report-Msgid-Bugs-To: FULL NAME <EMAIL@ADDRESS>\n"
"POT-Creation-Date: 2009-03-26 16:35+0000\n"
"PO-Revision-Date: 2008-10-25 02:43+0000\n"
"Last-Translator: Launchpad Translations Administrators "
"<rosetta@launchpad.net>\n"
"Language-Team: Croatian <hr@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"X-Launchpad-Export-Date: 2009-04-01 10:43+0000\n"
"X-Generator: Launchpad (build Unknown)\n"

#: serverguide/C/serverguide-C.omf:6(creator) serverguide/C/serverguide-C.omf:7(maintainer)
msgid "ubuntu-doc@lists.ubuntu.com (Ubuntu Documentation Project)"
msgstr ""

#: serverguide/C/serverguide-C.omf:8(title) serverguide/C/serverguide-C.omf:11(description) serverguide/C/serverguide.xml:14(title) serverguide/C/bookinfo.xml:13(title)
msgid "Ubuntu Server Guide"
msgstr ""

#: serverguide/C/serverguide-C.omf:9(date)
msgid "2007-09-30"
msgstr ""

#: serverguide/C/windows-networking.xml:13(title)
msgid "Windows Networking"
msgstr ""

#: serverguide/C/windows-networking.xml:15(para)
msgid ""
"Computer networks are often comprised of diverse systems, and while "
"operating a network made up entirely of Ubuntu desktop and server computers "
"would certainly be fun, some network environments must consist of both "
"Ubuntu and <trademark class=\"registered\">Microsoft</trademark><trademark "
"class=\"registered\">Windows</trademark> systems working together in "
"harmony. This section of the <phrase>Ubuntu</phrase> Server Guide introduces "
"principles and tools used in configuring your Ubuntu Server for sharing "
"network resources with Windows computers."
msgstr ""

#: serverguide/C/windows-networking.xml:25(title) serverguide/C/virtualization.xml:397(title) serverguide/C/security.xml:412(title) serverguide/C/remote-administration.xml:22(title) serverguide/C/package-management.xml:20(title) serverguide/C/jeos.xml:16(title) serverguide/C/introduction.xml:13(title)
msgid "Introduction"
msgstr ""

#: serverguide/C/windows-networking.xml:27(para)
msgid ""
"Successfully networking your Ubuntu system with Windows clients involves "
"providing and integrating with services common to Windows environments. Such "
"services assist the sharing of data and information about the computers and "
"users involved in the network, and may be classified under three major "
"categories of functionality:"
msgstr ""

#: serverguide/C/windows-networking.xml:35(para)
msgid ""
"<emphasis role=\"bold\">File and Printer Sharing Services</emphasis>. Using "
"the Server Message Block (SMB) protocol to facilitate the sharing of files, "
"folders, volumes, and the sharing of printers throughout the network."
msgstr ""

#: serverguide/C/windows-networking.xml:41(para)
msgid ""
"<emphasis role=\"bold\">Directory Services</emphasis>. Sharing vital "
"information about the computers and users of the network with such "
"technologies as the Lightweight Directory Access Protocol (LDAP) and "
"Microsoft <trademark class=\"registered\">Active Directory</trademark>."
msgstr ""

#: serverguide/C/windows-networking.xml:48(para)
msgid ""
"<emphasis role=\"bold\">Authentication and Access</emphasis>. Establishing "
"the identity of a computer or user of the network and determining the "
"information the computer or user is authorized to access using such "
"principles and technologies as file permissions, group policies, and the "
"Kerberos authentication service."
msgstr ""

#: serverguide/C/windows-networking.xml:56(para)
msgid ""
"Fortunately, your Ubuntu system may provide all such facilities to Windows "
"clients and share network resources among them. One of the principal pieces "
"of software your Ubuntu system includes for Windows networking is the Samba "
"suite of SMB server applications and tools."
msgstr ""

#: serverguide/C/windows-networking.xml:62(para)
msgid ""
"This section of the <phrase>Ubuntu</phrase> Server Guide will introduce some "
"of the common Samba use cases, and how to install and configure the "
"necessary packages. Additional detailed documentation and information on "
"Samba can be found on the <ulink url=\"http://www.samba.org\">Samba "
"website</ulink>."
msgstr ""

#: serverguide/C/windows-networking.xml:70(title)
msgid "Samba File Server"
msgstr ""

#: serverguide/C/windows-networking.xml:72(para)
msgid ""
"One of the most common ways to network Ubuntu and Windows computers is to "
"configure Samba as a File Server. This section covers setting up a "
"<application>Samba</application> server to share files with Windows clients."
msgstr ""

#: serverguide/C/windows-networking.xml:77(para)
msgid ""
"The server will be configured to share files with any client on the network "
"without prompting for a password. If your environment requires stricter "
"Access Controls see <xref linkend=\"samba-fileprint-security\"/>"
msgstr ""

#: serverguide/C/windows-networking.xml:83(title) serverguide/C/windows-networking.xml:282(title) serverguide/C/windows-networking.xml:1279(title) serverguide/C/web-servers.xml:41(title) serverguide/C/web-servers.xml:669(title) serverguide/C/web-servers.xml:804(title) serverguide/C/web-servers.xml:925(title) serverguide/C/virtualization.xml:62(title) serverguide/C/virtualization.xml:1341(title) serverguide/C/vcs.xml:28(title) serverguide/C/vcs.xml:86(title) serverguide/C/vcs.xml:400(title) serverguide/C/remote-administration.xml:52(title) serverguide/C/remote-administration.xml:220(title) serverguide/C/network-config.xml:625(title) serverguide/C/network-auth.xml:52(title) serverguide/C/network-auth.xml:1230(title) serverguide/C/network-auth.xml:1736(title) serverguide/C/network-auth.xml:2127(title) serverguide/C/mail.xml:33(title) serverguide/C/mail.xml:297(title) serverguide/C/mail.xml:470(title) serverguide/C/mail.xml:614(title) serverguide/C/mail.xml:1094(title) serverguide/C/lamp-applications.xml:108(title) serverguide/C/lamp-applications.xml:275(title) serverguide/C/lamp-applications.xml:359(title) serverguide/C/installation.xml:13(title) serverguide/C/installation.xml:907(title) serverguide/C/file-server.xml:342(title) serverguide/C/file-server.xml:454(title) serverguide/C/dns.xml:23(title) serverguide/C/databases.xml:40(title) serverguide/C/databases.xml:159(title) serverguide/C/backups.xml:593(title)
msgid "Installation"
msgstr ""

#: serverguide/C/windows-networking.xml:85(para)
msgid ""
"The first step is to install the <application>samba</application> package. "
"From a terminal prompt enter:"
msgstr ""

#: serverguide/C/windows-networking.xml:90(command) serverguide/C/windows-networking.xml:294(command)
msgid "sudo apt-get install samba"
msgstr ""

#: serverguide/C/windows-networking.xml:93(para)
msgid ""
"That's all there is to it; you are now ready to configure Samba to share "
"files."
msgstr ""

#: serverguide/C/windows-networking.xml:99(title) serverguide/C/windows-networking.xml:299(title) serverguide/C/web-servers.xml:61(title) serverguide/C/web-servers.xml:720(title) serverguide/C/web-servers.xml:815(title) serverguide/C/web-servers.xml:952(title) serverguide/C/web-servers.xml:1046(title) serverguide/C/virtualization.xml:1226(title) serverguide/C/virtualization.xml:1415(title) serverguide/C/vcs.xml:39(title) serverguide/C/vcs.xml:418(title) serverguide/C/remote-administration.xml:74(title) serverguide/C/remote-administration.xml:245(title) serverguide/C/package-management.xml:365(title) serverguide/C/network-config.xml:647(title) serverguide/C/network-auth.xml:88(title) serverguide/C/network-auth.xml:1775(title) serverguide/C/network-auth.xml:2148(title) serverguide/C/mail.xml:306(title) serverguide/C/mail.xml:480(title) serverguide/C/mail.xml:699(title) serverguide/C/mail.xml:1119(title) serverguide/C/lamp-applications.xml:128(title) serverguide/C/lamp-applications.xml:302(title) serverguide/C/lamp-applications.xml:389(title) serverguide/C/file-server.xml:355(title) serverguide/C/file-server.xml:480(title) serverguide/C/dns.xml:39(title) serverguide/C/databases.xml:84(title) serverguide/C/databases.xml:178(title) serverguide/C/clustering.xml:39(title) serverguide/C/backups.xml:616(title)
msgid "Configuration"
msgstr ""

#: serverguide/C/windows-networking.xml:101(para)
msgid ""
"The main Samba configuration file is located in "
"<filename>/etc/samba/smb.conf</filename>. The default configuration file has "
"a significant amount of comments in order to document various configuration "
"directives."
msgstr ""

#: serverguide/C/windows-networking.xml:106(para)
msgid ""
"Not all the available options are included in the default configuration "
"file. See the <filename>smb.conf</filename><application>man</application> "
"page or the <ulink url=\"http://samba.org/samba/docs/man/Samba-HOWTO-"
"Collection/\">Samba HOWTO Collection</ulink> for more details."
msgstr ""

#: serverguide/C/windows-networking.xml:116(para)
msgid ""
"First, edit the following key/value pairs in the "
"<emphasis>[global]</emphasis> section of "
"<filename>/etc/samba/smb.conf</filename>:"
msgstr ""

#: serverguide/C/windows-networking.xml:121(programlisting) serverguide/C/windows-networking.xml:306(programlisting) serverguide/C/windows-networking.xml:975(programlisting)
#, no-wrap
msgid ""
"\n"
"   workgroup = EXAMPLE\n"
"   ...\n"
"   security = user\n"
msgstr ""

#: serverguide/C/windows-networking.xml:127(para)
msgid ""
"The <emphasis>security</emphasis> parameter is farther down in the [global] "
"section, and is commented by default. Also, change "
"<emphasis>EXAMPLE</emphasis> to better match your environment."
msgstr ""

#: serverguide/C/windows-networking.xml:135(para)
msgid ""
"Create a new section at the bottom of the file, or uncomment one of the "
"examples, for the directory to be shared:"
msgstr ""

#: serverguide/C/windows-networking.xml:139(programlisting)
#, no-wrap
msgid ""
"\n"
"[share]\n"
"    comment = Ubuntu File Server Share\n"
"    path = /srv/samba/share\n"
"    browsable = yes\n"
"    guest ok = yes\n"
"    read only = no\n"
"    create mask = 0755\n"
msgstr ""

#: serverguide/C/windows-networking.xml:151(para)
msgid ""
"<emphasis>comment:</emphasis> a short description of the share. Adjust to "
"fit your needs."
msgstr ""

#: serverguide/C/windows-networking.xml:156(para)
msgid "<emphasis>path:</emphasis> the path to the directory to share."
msgstr ""

#: serverguide/C/windows-networking.xml:159(para)
msgid ""
"This example uses <filename>/srv/samba/sharename</filename> because, "
"according to the <emphasis>Filesystem Hierarchy Standard (FHS)</emphasis>, "
"<ulink url=\"http://www.pathname.com/fhs/pub/fhs-"
"2.3.html#SRVDATAFORSERVICESPROVIDEDBYSYSTEM\">/srv</ulink> is where site-"
"specific data should be served. Technically Samba shares can be placed "
"anywhere on the filesystem as long as the permissions are correct, but "
"adhering to standards is recommended."
msgstr ""

#: serverguide/C/windows-networking.xml:168(para)
msgid ""
"<emphasis>browsable:</emphasis> enables Windows clients to browse the shared "
"directory using <application>Windows Explorer</application>."
msgstr ""

#: serverguide/C/windows-networking.xml:174(para)
msgid ""
"<emphasis>guest ok:</emphasis> allows clients to connect to the share "
"without supplying a password."
msgstr ""

#: serverguide/C/windows-networking.xml:179(para)
msgid ""
"<emphasis>read only:</emphasis> gives write access to the shared directory."
msgstr ""

#: serverguide/C/windows-networking.xml:184(para)
msgid ""
"<emphasis>create mask:</emphasis> determines the permissions new files will "
"have when created."
msgstr ""

#: serverguide/C/windows-networking.xml:193(para)
msgid ""
"Now that <application>Samba</application> is configured, the directory needs "
"to be created and the permissions changed. From a terminal enter:"
msgstr ""

#: serverguide/C/windows-networking.xml:199(command)
msgid "sudo mkdir -p /srv/samba/share"
msgstr ""

#: serverguide/C/windows-networking.xml:200(command)
msgid "sudo chown nobody.nogroup /srv/samba/share/"
msgstr ""

#: serverguide/C/windows-networking.xml:204(para)
msgid ""
"The <emphasis>-p</emphasis> switch tells mkdir to create the entire "
"directory tree if it doesn't exist. Change the share name to fit your "
"environment."
msgstr ""

#: serverguide/C/windows-networking.xml:213(para)
msgid ""
"Finally, restart the <application>samba</application> services to enable the "
"new configuration:"
msgstr ""

#: serverguide/C/windows-networking.xml:218(command) serverguide/C/windows-networking.xml:326(command) serverguide/C/windows-networking.xml:458(command) serverguide/C/windows-networking.xml:557(command) serverguide/C/windows-networking.xml:922(command) serverguide/C/windows-networking.xml:1032(command) serverguide/C/windows-networking.xml:1142(command) serverguide/C/network-auth.xml:1510(command)
msgid "sudo /etc/init.d/samba restart"
msgstr ""

#: serverguide/C/windows-networking.xml:225(para)
msgid ""
"Once again, the above configuration gives all access to any client on the "
"local network. For a more secure configuration see <xref linkend=\"samba-"
"fileprint-security\"/>."
msgstr ""

#: serverguide/C/windows-networking.xml:231(para)
msgid ""
"From a Windows client you should now be able to browse to the Ubuntu file "
"server and see the shared directory. To check that everything is working try "
"creating a directory from Windows."
msgstr ""

#: serverguide/C/windows-networking.xml:236(para)
msgid ""
"To create additional shares simply create new <emphasis>[dir]</emphasis> "
"sections in <filename>/etc/samba/smb.conf</filename>, and restart "
"<emphasis>Samba</emphasis>. Just make sure that the directory you want to "
"share actually exists and the permissions are correct."
msgstr ""

#: serverguide/C/windows-networking.xml:243(title) serverguide/C/windows-networking.xml:336(title) serverguide/C/windows-networking.xml:686(title) serverguide/C/windows-networking.xml:1051(title) serverguide/C/windows-networking.xml:1253(title) serverguide/C/virtualization.xml:366(title) serverguide/C/virtualization.xml:1163(title) serverguide/C/remote-administration.xml:478(title) serverguide/C/network-config.xml:269(title) serverguide/C/network-config.xml:512(title) serverguide/C/network-auth.xml:1186(title) serverguide/C/network-auth.xml:1625(title) serverguide/C/network-auth.xml:2223(title) serverguide/C/network-auth.xml:2727(title) serverguide/C/jeos.xml:782(title) serverguide/C/installation.xml:847(title) serverguide/C/installation.xml:1123(title) serverguide/C/databases.xml:122(title) serverguide/C/databases.xml:268(title) serverguide/C/backups.xml:855(title)
msgid "Resources"
msgstr ""

#: serverguide/C/windows-networking.xml:247(para) serverguide/C/windows-networking.xml:340(para) serverguide/C/windows-networking.xml:690(para) serverguide/C/windows-networking.xml:1055(para)
msgid ""
"For in depth Samba configurations see the <ulink "
"url=\"http://samba.org/samba/docs/man/Samba-HOWTO-Collection/\">Samba HOWTO "
"Collection</ulink>"
msgstr ""

#: serverguide/C/windows-networking.xml:253(para) serverguide/C/windows-networking.xml:346(para) serverguide/C/windows-networking.xml:696(para) serverguide/C/windows-networking.xml:1061(para)
msgid ""
"The guide is also available in <ulink "
"url=\"http://www.amazon.com/exec/obidos/tg/detail/-/0131882228\">printed "
"format</ulink>."
msgstr ""

#: serverguide/C/windows-networking.xml:259(para) serverguide/C/windows-networking.xml:352(para)
msgid ""
"O'Reilly's <ulink "
"url=\"http://www.oreilly.com/catalog/9780596007690/\">Using Samba</ulink> is "
"another good reference."
msgstr ""

#: serverguide/C/windows-networking.xml:269(title)
msgid "Samba Print Server"
msgstr ""

#: serverguide/C/windows-networking.xml:271(para)
msgid ""
"Another common use of Samba is to configure it to share printers installed, "
"either locally or over the network, on an Ubuntu server. Similar to <xref "
"linkend=\"samba-fileserver\"/> this section will configure Samba to allow "
"any client on the local network to use the installed printers without "
"prompting for a username and password."
msgstr ""

#: serverguide/C/windows-networking.xml:277(para)
msgid ""
"For a more secure configuration see <xref linkend=\"samba-fileprint-"
"security\"/>."
msgstr ""

#: serverguide/C/windows-networking.xml:284(para)
msgid ""
"Before installing and configuring Samba it is best to already have a working "
"<application>CUPS</application> installation. See <xref linkend=\"cups\"/> "
"for details."
msgstr ""

#: serverguide/C/windows-networking.xml:289(para)
msgid ""
"To install the <application>samba</application> package, from a terminal "
"enter:"
msgstr ""

#: serverguide/C/windows-networking.xml:300(para)
msgid ""
"After installing samba edit <filename>/etc/samba/smb.conf</filename>. Change "
"the <emphasis>workgroup</emphasis> attribute to what is appropriate for your "
"network, and change <emphasis>security</emphasis> to <emphasis "
"role=\"italic\">share</emphasis>:"
msgstr ""

#: serverguide/C/windows-networking.xml:312(para)
msgid ""
"In the <emphasis>[printers]</emphasis> section change the <emphasis>guest "
"ok</emphasis> option to <emphasis role=\"italic\">yes</emphasis>:"
msgstr ""

#: serverguide/C/windows-networking.xml:316(programlisting)
#, no-wrap
msgid ""
"\n"
"   browsable = yes\n"
"   guest ok = yes\n"
msgstr ""

#: serverguide/C/windows-networking.xml:321(para)
msgid "After editing <filename>smb.conf</filename> restart Samba:"
msgstr ""

#: serverguide/C/windows-networking.xml:329(para)
msgid ""
"The default Samba configuration will automatically share any printers "
"installed. Simply install the printer locally on your Windows clients."
msgstr ""

#: serverguide/C/windows-networking.xml:358(para)
msgid ""
"Also, see the <ulink url=\"http://www.cups.org/\">CUPS Website</ulink> for "
"more information on configuring CUPS."
msgstr ""

#: serverguide/C/windows-networking.xml:367(title)
msgid "Securing a Samba File and Print Server"
msgstr ""

#: serverguide/C/windows-networking.xml:370(title)
msgid "Samba Security Modes"
msgstr ""

#: serverguide/C/windows-networking.xml:372(para)
msgid ""
"There are two security levels available to the Common Internet Filesystem "
"(CIFS) network protocol <emphasis>user-level</emphasis> and <emphasis>share-"
"level</emphasis>. Samba's <emphasis>security mode</emphasis> implementation "
"allows more flexibility, providing four ways of implementing user-level "
"security and one way to implement share-level:"
msgstr ""

#: serverguide/C/windows-networking.xml:381(para)
msgid ""
"<emphasis>security = user:</emphasis> requires clients to supply a username "
"and password to connect to shares. Samba user accounts are separate from "
"system accounts, but the <application>libpam-smbpass</application> package "
"will sync system users and passwords with the Samba user database."
msgstr ""

#: serverguide/C/windows-networking.xml:388(para)
msgid ""
"<emphasis>security = domain:</emphasis> this mode allows the Samba server to "
"appear to Windows clients as a Primary Domain Controller (PDC), Backup "
"Domain Controller (BDC), or a Domain Member Server (DMS). See <xref "
"linkend=\"samba-dc\"/> for further information."
msgstr ""

#: serverguide/C/windows-networking.xml:395(para)
msgid ""
"<emphasis>security = ADS:</emphasis> allows the Samba server to join an "
"Active Directory domain as a native member. See <xref linkend=\"samba-ad-"
"integration\"/> for details."
msgstr ""

#: serverguide/C/windows-networking.xml:401(para)
msgid ""
"<emphasis>security = server:</emphasis> this mode is left over from before "
"Samba could become a member server, and due to some security issues should "
"not be used. See the <ulink url=\"http://samba.org/samba/docs/man/Samba-"
"HOWTO-Collection/ServerType.html#id349531\">Server Security</ulink> section "
"of the Samba guide for more details."
msgstr ""

#: serverguide/C/windows-networking.xml:409(para)
msgid ""
"<emphasis>security = share:</emphasis> allows clients to connect to shares "
"without supplying a username and password."
msgstr ""

#: serverguide/C/windows-networking.xml:416(para)
msgid ""
"The security mode you choose will depend on your environment and what you "
"need the Samba server to accomplish."
msgstr ""

#: serverguide/C/windows-networking.xml:422(title)
msgid "Security = User"
msgstr ""

#: serverguide/C/windows-networking.xml:424(para)
msgid ""
"This section will reconfigure the Samba file and print server, from <xref "
"linkend=\"samba-fileserver\"/> and <xref linkend=\"samba-printserver\"/>, to "
"require authentication."
msgstr ""

#: serverguide/C/windows-networking.xml:429(para)
msgid ""
"First, install the <application>libpam-smbpass</application> package which "
"will sync the system users to the Samba user database:"
msgstr ""

#: serverguide/C/windows-networking.xml:435(command)
msgid "sudo apt-get install libpam-smbpass"
msgstr ""

#: serverguide/C/windows-networking.xml:439(para)
msgid ""
"If you chose the <emphasis>Samba Server</emphasis> task during installation "
"<application>libpam-smbpass</application> is already installed."
msgstr ""

#: serverguide/C/windows-networking.xml:445(para)
msgid ""
"Edit <filename>/etc/samba/smb.conf</filename>, and in the "
"<emphasis>[share]</emphasis> section change:"
msgstr ""

#: serverguide/C/windows-networking.xml:449(programlisting)
#, no-wrap
msgid ""
"\n"
"    guest ok = no\n"
msgstr ""

#: serverguide/C/windows-networking.xml:453(para)
msgid "Finally, restart Samba for the new settings to take effect:"
msgstr ""

#: serverguide/C/windows-networking.xml:461(para)
msgid ""
"Now when connecting to the shared directories or printers you should be "
"prompted for a username and password."
msgstr ""

#: serverguide/C/windows-networking.xml:466(para)
msgid ""
"If you choose to map a network drive to the share you can check the "
"<quote>Reconnect at Logon</quote> check box, which will require you to only "
"enter the username and password once, at least until the password changes."
msgstr ""

#: serverguide/C/windows-networking.xml:474(title)
msgid "Share Security"
msgstr ""

#: serverguide/C/windows-networking.xml:476(para)
msgid ""
"There are several options available to increase the security for each "
"individual shared directory. Using the <emphasis>[share]</emphasis> example, "
"this section will cover some common options."
msgstr ""

#: serverguide/C/windows-networking.xml:482(title)
msgid "Groups"
msgstr ""

#: serverguide/C/windows-networking.xml:484(para)
msgid ""
"Groups define a collection of computers or users which have a common level "
"of access to particular network resources and offer a level of granularity "
"in controlling access to such resources. For example, if a group <emphasis "
"role=\"italic\">qa</emphasis> is defined and contains the users <emphasis "
"role=\"italic\">freda</emphasis>, <emphasis "
"role=\"italic\">danika</emphasis>, and <emphasis "
"role=\"italic\">rob</emphasis> and a second group <emphasis "
"role=\"italic\">support</emphasis> is defined and consists of users "
"<emphasis role=\"italic\">danika</emphasis>, <emphasis "
"role=\"italic\">jeremy</emphasis>, and <emphasis "
"role=\"italic\">vincent</emphasis> then certain network resources configured "
"to allow access by the <emphasis role=\"italic\">qa</emphasis> group will "
"subsequently enable access by freda, danika, and rob, but not jeremy or "
"vincent. Since the user <emphasis role=\"italic\">danika</emphasis> belongs "
"to both the <emphasis role=\"italic\">qa</emphasis> and <emphasis "
"role=\"italic\">support</emphasis> groups, she will be able to access "
"resources configured for access by both groups, whereas all other users will "
"have only access to resources explicitly allowing the group they are part of."
msgstr ""

#: serverguide/C/windows-networking.xml:498(para)
msgid ""
"By default Samba looks for the local system groups defined in "
"<filename>/etc/group</filename> to determine which users belong to which "
"groups. For more information on adding and removing users from groups see "
"<xref linkend=\"adding-deleting-users\"/>."
msgstr ""

#: serverguide/C/windows-networking.xml:504(para)
msgid ""
"When defining groups in the Samba configuration file, "
"<filename>/etc/samba/smb.conf</filename>, the recognized syntax is to "
"preface the group name with an \"@\" symbol. For example, if you wished to "
"define a group named <emphasis role=\"italic\">sysadmin</emphasis> in a "
"certain section of the <filename>/etc/samba/smb.conf</filename>, you would "
"do so by entering the group name as <emphasis "
"role=\"bold\">@sysadmin</emphasis>."
msgstr ""

#: serverguide/C/windows-networking.xml:513(title)
msgid "File Permissions"
msgstr ""

#: serverguide/C/windows-networking.xml:515(para)
msgid ""
"File Permissions define the explicit rights a computer or user has to a "
"particular directory, file, or set of files. Such permissions may be defined "
"by editing the <filename>/etc/samba/smb.conf</filename> file and specifying "
"the explicit permissions of a defined file share."
msgstr ""

#: serverguide/C/windows-networking.xml:521(para)
msgid ""
"For example, if you have defined a Samba share called "
"<emphasis>share</emphasis> and wish to give <emphasis role=\"italic\">read-"
"only</emphasis> permissions to the group of users known as <emphasis "
"role=\"italic\">qa</emphasis>, but wanted to allow writing to the share by "
"the group called <emphasis role=\"italic\">sysadmin</emphasis> and the user "
"named <emphasis role=\"italic\">vincent</emphasis>, then you could edit the "
"<filename>/etc/samba/smb.conf</filename> file, and add the following entries "
"under the <emphasis>[share]</emphasis> entry:"
msgstr ""

#: serverguide/C/windows-networking.xml:530(programlisting)
#, no-wrap
msgid ""
"\n"
"    read list = @qa\n"
"    write list = @sysadmin, vincent\n"
msgstr ""

#: serverguide/C/windows-networking.xml:535(para)
msgid ""
"Another possible Samba permission is to declare "
"<emphasis>administrative</emphasis> permissions to a particular shared "
"resource. Users having administrative permissions may read, write, or modify "
"any information contained in the resource the user has been given explicit "
"administrative permissions to."
msgstr ""

#: serverguide/C/windows-networking.xml:541(para)
msgid ""
"For example, if you wanted to give the user <emphasis "
"role=\"italic\">melissa</emphasis> administrative permissions to the "
"<emphasis role=\"italic\">share</emphasis> example, you would edit the "
"<filename>/etc/samba/smb.conf</filename> file, and add the following line "
"under the <emphasis>[share]</emphasis> entry:"
msgstr ""

#: serverguide/C/windows-networking.xml:548(programlisting)
#, no-wrap
msgid ""
"\n"
"    admin users = melissa\n"
msgstr ""

#: serverguide/C/windows-networking.xml:552(para)
msgid ""
"After editing <filename>/etc/samba/smb.conf</filename>, restart Samba for "
"the changes to take effect:"
msgstr ""

#: serverguide/C/windows-networking.xml:561(para)
msgid ""
"For the <emphasis>read list</emphasis> and <emphasis>write list</emphasis> "
"to work the Samba security mode must <emphasis>not</emphasis> be set to "
"<emphasis role=\"italic\">security = share</emphasis>"
msgstr ""

#: serverguide/C/windows-networking.xml:567(para)
msgid ""
"Now that Samba has been configured to limit which groups have access to the "
"shared directory, the filesystem permissions need to be updated."
msgstr ""

#: serverguide/C/windows-networking.xml:572(para)
msgid ""
"Traditional Linux file permissions do not map well to Windows NT Access "
"Control Lists (ACLs). Fortunately POSIX ACLs are available on Ubuntu servers "
"providing more fine grained control. For example, to enable ACLs on "
"<filename>/srv</filename> an EXT3 filesystem, edit "
"<filename>/etc/fstab</filename> adding the <emphasis>acl</emphasis> option:"
msgstr ""

#: serverguide/C/windows-networking.xml:579(programlisting)
#, no-wrap
msgid ""
"\n"
"UUID=66bcdd2e-8861-4fb0-b7e4-e61c569fe17d /srv  ext3    noatime,relatime,acl "
"0       1\n"
msgstr ""

#: serverguide/C/windows-networking.xml:583(para)
msgid "Then remount the partition:"
msgstr ""

#: serverguide/C/windows-networking.xml:588(command)
msgid "sudo mount -v -o remount /srv"
msgstr ""

#: serverguide/C/windows-networking.xml:592(para)
msgid ""
"The above example assumes <filename>/srv</filename> on a separate partition. "
"If <filename>/srv</filename>, or wherever you have configured your share "
"path, is part of the <filename>/</filename> partition a reboot may be "
"required."
msgstr ""

#: serverguide/C/windows-networking.xml:599(para)
msgid ""
"To match the Samba configuration above the <emphasis>sysadmin</emphasis> "
"group will be given read, write, and execute permissions to "
"<filename>/srv/samba/share</filename>, the <emphasis>qa</emphasis> group "
"will be given read and execute permissions, and the files will be owned by "
"the username <emphasis>melissa</emphasis>. Enter the following in a terminal:"
msgstr ""

#: serverguide/C/windows-networking.xml:607(command)
msgid "sudo chown -R melissa /srv/samba/share/"
msgstr ""

#: serverguide/C/windows-networking.xml:608(command)
msgid "sudo chgrp -R sysadmin /srv/samba/share/"
msgstr ""

#: serverguide/C/windows-networking.xml:609(command)
msgid "sudo setfacl -R -m g:qa:rx /srv/samba/share/"
msgstr ""

#: serverguide/C/windows-networking.xml:613(para)
msgid ""
"The <application>setfacl</application> command above gives "
"<emphasis>execute</emphasis> permissions to all files in the "
"<filename>/srv/samba/share</filename> directory, which you may or may not "
"want."
msgstr ""

#: serverguide/C/windows-networking.xml:619(para)
msgid ""
"Now from a Windows client you should notice the new file permissions are "
"implemented. See the <application>acl</application> and "
"<application>setfacl</application> man pages for more information on POSIX "
"ACLs."
msgstr ""

#: serverguide/C/windows-networking.xml:627(title)
msgid "Samba AppArmor Profile"
msgstr ""

#: serverguide/C/windows-networking.xml:629(para)
msgid ""
"Ubuntu comes with the <application>AppArmor</application> security module, "
"which provides mandatory access controls. The default AppArmor profile for "
"Samba will need to be adapted to your configuration. For more details on "
"using AppArmor see <xref linkend=\"apparmor\"/>."
msgstr ""

#: serverguide/C/windows-networking.xml:635(para)
msgid ""
"There are default AppArmor profiles for <filename>/usr/sbin/smbd</filename> "
"and <filename>/usr/sbin/nmbd</filename>, the Samba daemon binaries, as part "
"of the <application>apparmor-profiles</application> packages. To install the "
"package, from a terminal prompt enter:"
msgstr ""

#: serverguide/C/windows-networking.xml:642(command) serverguide/C/security.xml:978(command)
msgid "sudo apt-get install apparmor-profiles"
msgstr ""

#: serverguide/C/windows-networking.xml:646(para)
msgid "This package contains profiles for several other binaries."
msgstr ""

#: serverguide/C/windows-networking.xml:651(para)
msgid ""
"By default the profiles for <application>smbd</application> and "
"<application>nmbd</application> are in <emphasis>complain</emphasis> mode "
"allowing Samba to work without modifying the profile, and only logging "
"errors. To place the <application>smbd</application> profile into "
"<emphasis>enforce</emphasis> mode, and have Samba work as expected, the "
"profile will need to be modified to reflect any directories that are shared."
msgstr ""

#: serverguide/C/windows-networking.xml:658(para)
msgid ""
"Edit <filename>/etc/apparmor.d/usr.sbin.smbd</filename> adding information "
"for <emphasis>[share]</emphasis> from the file server example:"
msgstr ""

#: serverguide/C/windows-networking.xml:663(programlisting)
#, no-wrap
msgid ""
"\n"
"  /srv/samba/share/ r,\n"
"  /srv/samba/share/** rwkix,\n"
msgstr ""

#: serverguide/C/windows-networking.xml:668(para)
msgid ""
"Now place the profile into <emphasis>enforce</emphasis> and reload it:"
msgstr ""

#: serverguide/C/windows-networking.xml:673(command)
msgid "sudo aa-enforce /usr/sbin/smbd"
msgstr ""

#: serverguide/C/windows-networking.xml:674(command)
msgid "cat /etc/apparmor.d/usr.sbin.smbd | sudo apparmor_parser -r"
msgstr ""

#: serverguide/C/windows-networking.xml:677(para)
msgid ""
"You should now be able to read, write, and execute files in the shared "
"directory as normal, and the <application>smbd</application> binary will "
"have access to only the configured files and direcotories. Be sure to add "
"entries for each directory you configure Samba to share. Also, any errors "
"will be logged to <filename>/var/log/syslog</filename>."
msgstr ""

#: serverguide/C/windows-networking.xml:702(para) serverguide/C/windows-networking.xml:1067(para)
msgid ""
"O'Reilly's <ulink "
"url=\"http://www.oreilly.com/catalog/9780596007690/\">Using Samba</ulink> is "
"also a good reference."
msgstr ""

#: serverguide/C/windows-networking.xml:708(para)
msgid ""
"<ulink url=\"http://samba.org/samba/docs/man/Samba-HOWTO-Collection/securing-"
"samba.html\">Chapter 18</ulink> of the Samba HOWTO Collection is devoted to "
"security."
msgstr ""

#: serverguide/C/windows-networking.xml:714(para)
msgid ""
"For more information on Samba and ACLs see the <ulink "
"url=\"http://samba.org/samba/docs/man/Samba-HOWTO-"
"Collection/AccessControls.html#id397568\">Samba ACLs page </ulink>."
msgstr ""

#: serverguide/C/windows-networking.xml:725(title)
msgid "Samba as a Domain Controller"
msgstr ""

#: serverguide/C/windows-networking.xml:727(para)
msgid ""
"Although it cannot act as an Active Directory Primary Domain Controller "
"(PDC), a Samba server can be configured to appear as a Windows NT4-style "
"domain controller. A major advantage of this configuration is the ability to "
"centralize user and machine credentials. Samba can also use multiple "
"backends to store the user information."
msgstr ""

#: serverguide/C/windows-networking.xml:734(title)
msgid "Primary Domain Controller"
msgstr ""

#: serverguide/C/windows-networking.xml:736(para)
msgid ""
"This section covers configuring Samba as a Primary Domain Controller (PDC) "
"using the default smbpasswd backend."
msgstr ""

#: serverguide/C/windows-networking.xml:743(para)
msgid ""
"First, install Samba, and <application>libpam-smbpass</application> to sync "
"the user accounts, by entering the following in a terminal prompt:"
msgstr ""

#: serverguide/C/windows-networking.xml:749(command) serverguide/C/windows-networking.xml:965(command)
msgid "sudo apt-get install samba libpam-smbpass"
msgstr ""

#: serverguide/C/windows-networking.xml:755(para)
msgid ""
"Next, configure Samba by editing <filename>/etc/samba/smb.conf</filename>. "
"The <emphasis>security</emphasis> mode should be set to <emphasis "
"role=\"italic\">user</emphasis>, and the <emphasis>workgroup</emphasis> "
"should relate to your organization:"
msgstr ""

#: serverguide/C/windows-networking.xml:761(programlisting)
#, no-wrap
msgid ""
"\n"
"   workgroup = EXAMPLE\n"
"   ...\n"
"   security = domain\n"
msgstr ""

#: serverguide/C/windows-networking.xml:770(para)
msgid ""
"In the commented <quote>Domains</quote> section add or uncomment the "
"following:"
msgstr ""

#: serverguide/C/windows-networking.xml:774(programlisting)
#, no-wrap
msgid ""
"\n"
"   domain logons = yes\n"
"   logon path = \\\\%N\\%U\\profile\n"
"   logon drive = H:\n"
"   logon home = \\\\%N\\%U\n"
"   logon script = logon.cmd\n"
"   add machine script = sudo /usr/sbin/useradd -n -g machines -c Machine -d "
"/var/lib/samba -s /bin/false %u\n"
msgstr ""

#: serverguide/C/windows-networking.xml:785(para)
msgid ""
"<emphasis>domain logons:</emphasis> provides the netlogon service causing "
"Samba to act as a domain controller."
msgstr ""

#: serverguide/C/windows-networking.xml:790(para)
msgid ""
"<emphasis>logon path:</emphasis> places the user's Windows profile into "
"their home directory. It is also possible to configure a "
"<emphasis>[profiles]</emphasis> share placing all profiles under a single "
"directory."
msgstr ""

#: serverguide/C/windows-networking.xml:796(para)
msgid ""
"<emphasis>logon drive:</emphasis> specifies the home directory local path."
msgstr ""

#: serverguide/C/windows-networking.xml:801(para)
msgid ""
"<emphasis>logon home:</emphasis> specifies the home directory location."
msgstr ""

#: serverguide/C/windows-networking.xml:806(para)
msgid ""
"<emphasis>logon script:</emphasis> determines the script to be run locally "
"once a user has logged in. The script needs to be placed in the "
"<emphasis>[netlogon]</emphasis> share."
msgstr ""

#: serverguide/C/windows-networking.xml:812(para)
msgid ""
"<emphasis>add machine script:</emphasis> a script that will automatically "
"create the <emphasis>Machine Trust Account</emphasis> needed for a "
"workstation to join the domain."
msgstr ""

#: serverguide/C/windows-networking.xml:816(para)
msgid ""
"In this example the <emphasis>machines</emphasis> group will need to be "
"created using the <application>addgroup</application> utility see <xref "
"linkend=\"adding-deleting-users\"/> for details."
msgstr ""

#: serverguide/C/windows-networking.xml:824(para)
msgid ""
"If you wish to not use <emphasis>Roaming Profiles</emphasis> leave the "
"<emphasis>logon home</emphasis> and <emphasis>logon path</emphasis> options "
"commented."
msgstr ""

#: serverguide/C/windows-networking.xml:833(para)
msgid ""
"Uncomment the <emphasis>[homes]</emphasis> share to allow the <emphasis "
"role=\"italic\">logon home</emphasis> to be mapped:"
msgstr ""

#: serverguide/C/windows-networking.xml:838(programlisting)
#, no-wrap
msgid ""
"\n"
"[homes]\n"
"   comment = Home Directories\n"
"   browseable = no\n"
"   read only = no\n"
"   create mask = 0700\n"
"   directory mask = 0700\n"
"   valid users = %S\n"
msgstr ""

#: serverguide/C/windows-networking.xml:851(para)
msgid ""
"When configured as a domain controller a <emphasis>[netlogon]</emphasis> "
"share needs to be configured. To enable the share, uncomment:"
msgstr ""

#: serverguide/C/windows-networking.xml:856(programlisting)
#, no-wrap
msgid ""
"\n"
"[netlogon]\n"
"   comment = Network Logon Service\n"
"   path = /srv/samba/netlogon\n"
"   guest ok = yes\n"
"   read only = yes\n"
"   share modes = no\n"
msgstr ""

#: serverguide/C/windows-networking.xml:866(para)
msgid ""
"The original <emphasis>netlogon</emphasis> share path is "
"<filename>/home/samba/netlogon</filename>, but according to the Filesystem "
"Hierarchy Standard (FHS), <ulink url=\"http://www.pathname.com/fhs/pub/fhs-"
"2.3.html#SRVDATAFORSERVICESPROVIDEDBYSYSTEM\">/srv</ulink> is the correct "
"location for site-specific data provided by the system."
msgstr ""

#: serverguide/C/windows-networking.xml:877(para)
msgid ""
"Now create the <filename role=\"directory\">netlogon</filename> directory, "
"and an empty (for now) <filename>logon.cmd</filename> script file:"
msgstr ""

#: serverguide/C/windows-networking.xml:883(command)
msgid "sudo mkdir -p /srv/samba/netlogon"
msgstr ""

#: serverguide/C/windows-networking.xml:884(command)
msgid "sudo touch /srv/samba/netlogon/logon.cmd"
msgstr ""

#: serverguide/C/windows-networking.xml:887(para)
msgid ""
"You can enter any normal Windows logon script commands in "
"<filename>logon.cmd</filename> to customize the client's environment."
msgstr ""

#: serverguide/C/windows-networking.xml:895(para)
msgid ""
"With <emphasis>root</emphasis> being disabled by default, in order to join a "
"workstation to the domain, a system group needs to be mapped to the Windows "
"<emphasis>Domain Admins</emphasis> group. Using the "
"<application>net</application> utility, from a terminal enter:"
msgstr ""

#: serverguide/C/windows-networking.xml:902(command)
msgid ""
"sudo net groupmap add ntgroup=\"Domain Admins\" unixgroup=sysadmin rid=512 "
"type=d"
msgstr ""

#: serverguide/C/windows-networking.xml:906(para)
msgid ""
"Change <emphasis role=\"italic\">sysadmin</emphasis> to whichever group you "
"prefer. Also, the user used to join the domain needs to be a member of the "
"<emphasis>sysadmin</emphasis> group, as well as a member of the system "
"<emphasis>admin</emphasis> group. The <emphasis>admin</emphasis> group "
"allows <application>sudo</application> use."
msgstr ""

#: serverguide/C/windows-networking.xml:917(para)
msgid "Finally, restart Samba to enable the new domain controller:"
msgstr ""

#: serverguide/C/windows-networking.xml:928(para)
msgid ""
"You should now be able to join Windows clients to the Domain in the same "
"manner as joining them to an NT4 domain running on a Windows server."
msgstr ""

#: serverguide/C/windows-networking.xml:938(title)
msgid "Backup Domain Controller"
msgstr ""

#: serverguide/C/windows-networking.xml:940(para)
msgid ""
"With a Primary Domain Controller (PDC) on the network it is best to have a "
"Backup Domain Controller (BDC) as well. This will allow clients to "
"authenticate in case the PDC becomes unavailable."
msgstr ""

#: serverguide/C/windows-networking.xml:945(para)
msgid ""
"When configuring Samba as a BDC you need a way to sync account information "
"with the PDC. There are multiple ways of accomplishing this "
"<application>scp</application>, <application>rsync</application>, or by "
"using <application>LDAP</application> as the <emphasis>passdb "
"backend</emphasis>."
msgstr ""

#: serverguide/C/windows-networking.xml:951(para)
msgid ""
"Using LDAP is the most robust way to sync account information, because both "
"domain controllers can use the same information in real time. However, "
"setting up a LDAP server may be overly complicated for a small number of "
"user and computer accounts. See <xref linkend=\"samba-ldap\"/> for details."
msgstr ""

#: serverguide/C/windows-networking.xml:960(para)
msgid ""
"First, install <application>samba</application> and <application>libpam-"
"smbpass</application>. From a terminal enter:"
msgstr ""

#: serverguide/C/windows-networking.xml:971(para)
msgid ""
"Now, edit <filename>/etc/samba/smb.conf</filename> and uncomment the "
"following in the <emphasis>[global]</emphasis>:"
msgstr ""

#: serverguide/C/windows-networking.xml:984(para)
msgid "In the commented <emphasis>Domains</emphasis> uncomment or add:"
msgstr ""

#: serverguide/C/windows-networking.xml:988(programlisting)
#, no-wrap
msgid ""
"\n"
"   domain logons = yes\n"
"   domain master = no\n"
msgstr ""

#: serverguide/C/windows-networking.xml:996(para)
msgid ""
"Make sure a user has rights to read the files in "
"<filename>/var/lib/samba</filename>. For example, to allow users in the "
"<emphasis>admin</emphasis> group to <application>scp</application> the "
"files, enter:"
msgstr ""

#: serverguide/C/windows-networking.xml:1002(command)
msgid "sudo chgrp -R admin /var/lib/samba"
msgstr ""

#: serverguide/C/windows-networking.xml:1008(para)
msgid ""
"Next, sync the user accounts, using <application>scp</application> to copy "
"the <filename>/var/lib/samba</filename> directory from the PDC:"
msgstr ""

#: serverguide/C/windows-networking.xml:1014(command)
msgid "sudo scp -r username@pdc:/var/lib/samba /var/lib"
msgstr ""

#: serverguide/C/windows-networking.xml:1018(para)
msgid ""
"Replace <emphasis>username</emphasis> with a valid username and "
"<emphasis>pdc</emphasis> with the hostname or IP Address of your actual PDC."
msgstr ""

#: serverguide/C/windows-networking.xml:1027(para)
msgid "Finally, restart <application>samba</application>:"
msgstr ""

#: serverguide/C/windows-networking.xml:1038(para)
msgid ""
"You can test that your Backup Domain controller is working by stopping the "
"Samba daemon on the PDC, then trying to login to a Windows client joined to "
"the domain."
msgstr ""

#: serverguide/C/windows-networking.xml:1043(para)
msgid ""
"Another thing to keep in mind is if you have configured the <emphasis>logon "
"home</emphasis> option as a directory on the PDC, and the PDC becomes "
"unavailable, access to the user's <emphasis>Home</emphasis> drive will also "
"be unavailable. For this reason it is best to configure the <emphasis>logon "
"home</emphasis> to reside on a separate file server from the PDC and BDC."
msgstr ""

#: serverguide/C/windows-networking.xml:1073(para)
msgid ""
"<ulink url=\"http://samba.org/samba/docs/man/Samba-HOWTO-Collection/samba-"
"pdc.html\">Chapter 4</ulink> of the Samba HOWTO Collection explains setting "
"up a Primary Domain Controller."
msgstr ""

#: serverguide/C/windows-networking.xml:1079(para)
msgid ""
"<ulink url=\"http://us3.samba.org/samba/docs/man/Samba-HOWTO-"
"Collection/samba-bdc.html\">Chapter 5</ulink> of the Samba HOWTO Collection "
"explains setting up a Backup Domain Controller."
msgstr ""

#: serverguide/C/windows-networking.xml:1089(title)
msgid "Samba Active Directory Integration"
msgstr ""

#: serverguide/C/windows-networking.xml:1092(title)
msgid "Accessing a Samba Share"
msgstr ""

#: serverguide/C/windows-networking.xml:1094(para)
msgid ""
"Another, use for Samba is to integrate into an existing Windows network. "
"Once part of an Active Directory domain, Samba can provide file and print "
"services to AD users."
msgstr ""

#: serverguide/C/windows-networking.xml:1099(para)
msgid ""
"The simplest way to join an AD domain is to use <application>Likewise-"
"open</application>. For detailed instructions see <xref linkend=\"likewise-"
"open\"/>."
msgstr ""

#: serverguide/C/windows-networking.xml:1104(para)
msgid "Once part of the domain, install the following packages:"
msgstr ""

#: serverguide/C/windows-networking.xml:1109(command)
msgid "sudo apt-get install samba smbfs smbclient"
msgstr ""

#: serverguide/C/windows-networking.xml:1112(para)
msgid ""
"Since the <application>likewise-open</application> and "
"<application>samba</application> packages use separate "
"<filename>secrets.tdb</filename> files, a symlink will need to be created in "
"<filename role=\"directory\">/var/lib/samba</filename>:"
msgstr ""

#: serverguide/C/windows-networking.xml:1118(command)
msgid "sudo mv /var/lib/samba/secrets.tdb /var/lib/samba/secrets.tdb.orig"
msgstr ""

#: serverguide/C/windows-networking.xml:1119(command)
msgid "sudo ln -s /etc/samba/secrets.tdb /var/lib/samba"
msgstr ""

#: serverguide/C/windows-networking.xml:1122(para)
msgid "Next, edit <filename>/etc/samba/smb.conf</filename> changing:"
msgstr ""

#: serverguide/C/windows-networking.xml:1126(programlisting)
#, no-wrap
msgid ""
"\n"
"   workgroup = EXAMPLE\n"
"   ...\n"
"   security = ads\n"
"   realm = EXAMPLE.COM\n"
"   ...\n"
"   idmap backend = lwopen\n"
"   idmap uid = 50-9999999999\n"
"   idmap gid = 50-9999999999\n"
msgstr ""

#: serverguide/C/windows-networking.xml:1137(para)
msgid ""
"Restart <application>samba</application> for the new settings to take effect:"
msgstr ""

#: serverguide/C/windows-networking.xml:1145(para)
msgid ""
"You should now be able to access any <application>Samba</application> shares "
"from a Windows client. However, be sure to give the appropriate AD users or "
"groups access to the share directory. See <xref linkend=\"samba-fileprint-"
"security\"/> for more details."
msgstr ""

#: serverguide/C/windows-networking.xml:1153(title)
msgid "Accessing a Windows Share"
msgstr ""

#: serverguide/C/windows-networking.xml:1155(para)
msgid ""
"Now that the Samba server is part of the Active Directory domain you can "
"access any Windows server shares:"
msgstr ""

#: serverguide/C/windows-networking.xml:1162(para)
msgid ""
"To mount a Windows file share enter the following in a terminal prompt:"
msgstr ""

#: serverguide/C/windows-networking.xml:1166(command)
msgid "mount.cifs //fs01.example.com/share mount_point"
msgstr ""

#: serverguide/C/windows-networking.xml:1169(para)
msgid ""
"It is also possible to access shares on computers not part of an AD domain, "
"but a username and password will need to be provided."
msgstr ""

#: serverguide/C/windows-networking.xml:1177(para)
msgid ""
"To mount the share during boot place an entry in "
"<filename>/etc/fstab</filename>, for example:"
msgstr ""

#: serverguide/C/windows-networking.xml:1181(programlisting)
#, no-wrap
msgid ""
"\n"
"//192.168.0.5/share /mnt/windows cifs auto,username=steve,password=secret,rw "
"0        0\n"
msgstr ""

#: serverguide/C/windows-networking.xml:1188(para)
msgid ""
"Another way to copy files from a Windows server is to use the "
"<application>smbclient</application> utility. To list the files in a Windows "
"share:"
msgstr ""

#: serverguide/C/windows-networking.xml:1194(command)
msgid "smbclient //fs01.example.com/share -k -c \"ls\""
msgstr ""

#: serverguide/C/windows-networking.xml:1200(para)
msgid "To copy a file from the share, enter:"
msgstr ""

#: serverguide/C/windows-networking.xml:1205(command)
msgid "smbclient //fs01.example.com/share -k -c \"get file.txt\""
msgstr ""

#: serverguide/C/windows-networking.xml:1208(para)
msgid ""
"This will copy the <filename>file.txt</filename> into the current directory."
msgstr ""

#: serverguide/C/windows-networking.xml:1215(para)
msgid "And to copy a file to the share:"
msgstr ""

#: serverguide/C/windows-networking.xml:1220(command)
msgid "smbclient //fs01.example.com/share -k -c \"put /etc/hosts hosts\""
msgstr ""

#: serverguide/C/windows-networking.xml:1223(para)
msgid ""
"This will copy the the <filename>/etc/hosts</filename> to "
"<filename>//fs01.example.com/share/hosts</filename>."
msgstr ""

#: serverguide/C/windows-networking.xml:1230(para)
msgid ""
"The <emphasis>-c</emphasis> option used above allows you to execute the "
"<application>smbclient</application> command all at once. This is useful for "
"scripting and minor file operations. To enter the <emphasis>smb: \\"
"&gt;</emphasis> prompt, a FTP like prompt where you can execute normal file "
"and directory commands, simply execute:"
msgstr ""

#: serverguide/C/windows-networking.xml:1237(command)
msgid "smbclient //fs01.example.com/share -k"
msgstr ""

#: serverguide/C/windows-networking.xml:1244(para)
msgid ""
"Replace all instances of <emphasis>fs01.example.com/share</emphasis>, "
"<emphasis>//192.168.0.5/share</emphasis>, "
"<emphasis>username=steve,password=secret</emphasis>, and "
"<emphasis>file.txt</emphasis> with your server's IP, hostname, share name, "
"file name, and an actual username and password with rights to the share."
msgstr ""

#: serverguide/C/windows-networking.xml:1255(para)
msgid ""
"For more <application>smbclient</application> options see the man page: "
"<command>man smbclient</command>, also available <ulink "
"url=\"http://manpages.ubuntu.com/manpages/jaunty/en/man1/smbclient.1.html\">o"
"nline</ulink>."
msgstr ""

#: serverguide/C/windows-networking.xml:1260(para)
msgid ""
"The <application>mount.cifs</application><ulink "
"url=\"http://manpages.ubuntu.com/manpages/jaunty/en/man8/mount.cifs.8.html\">"
"man page</ulink> is also useful for more detailed information."
msgstr ""

#: serverguide/C/windows-networking.xml:1270(title)
msgid "Likewise Open"
msgstr ""

#: serverguide/C/windows-networking.xml:1272(para)
msgid ""
"<application>Likewise Open</application> simplifies the necessary "
"configuration needed to authenticate a Linux machine to an Active Directory "
"domain. Based on <application>winbind</application>, the "
"<application>likewise-open</application> package takes the pain out of "
"integrating Ubuntu authentication into an existing Windows network."
msgstr ""

#: serverguide/C/windows-networking.xml:1281(para)
msgid ""
"There are two ways to use Likewise Open, <application>likewise-"
"open</application> the command line utility and <application>likewise-open-"
"gui</application>. This section focuses on the command line utility."
msgstr ""

#: serverguide/C/windows-networking.xml:1286(para)
msgid ""
"To install the <application>likewise-open</application> package, open a "
"terminal prompt and enter:"
msgstr ""

#: serverguide/C/windows-networking.xml:1291(command)
msgid "sudo apt-get install likewise-open"
msgstr ""

#: serverguide/C/windows-networking.xml:1294(para)
msgid ""
"With Ubuntu 9.04 <application>Likewise Open 5.0</application> is available "
"in the <emphasis>Universe</emphasis> repository. However, since upgrading "
"from <application>Likewise Open 4.1</application> currently requires the "
"system to leave the domain and re-join, a separate package for version five "
"was created."
msgstr ""

#: serverguide/C/windows-networking.xml:1300(para)
msgid "To install <application>Likewise Open 5.0</application> enter:"
msgstr ""

#: serverguide/C/windows-networking.xml:1305(command)
msgid "sudo apt-get install likewise-open5"
msgstr ""

#: serverguide/C/windows-networking.xml:1309(para)
msgid ""
"Installing likewise-open5 over an existing likewise-open (4.1) installation "
"will replace it. You will have to rejoin the domain after install."
msgstr ""

#: serverguide/C/windows-networking.xml:1316(para)
msgid ""
"The command line tools, and GUI interface, for likewise-open5 are the same "
"as version four."
msgstr ""

#: serverguide/C/windows-networking.xml:1324(title)
msgid "Joining a Domain"
msgstr ""

#: serverguide/C/windows-networking.xml:1326(para)
msgid ""
"The main executable file of the <application>likewise-open</application> "
"package is <filename>/usr/bin/domainjoin-cli</filename>, which is used to "
"join your computer to the domain. Before you join a domain you will need to "
"make sure you have:"
msgstr ""

#: serverguide/C/windows-networking.xml:1334(para)
msgid ""
"Access to an Active Directory user with appropriate rights to join the "
"domain."
msgstr ""

#: serverguide/C/windows-networking.xml:1339(para)
msgid ""
"The <emphasis>Fully Qualified Domain Name</emphasis> (FQDN) of the domain "
"you want to join. If your AD domain does not match a valid domain such as "
"<emphasis role=\"italic\">example.com</emphasis>, it is likely that it has "
"the form of <emphasis>domainname.local</emphasis>."
msgstr ""

#: serverguide/C/windows-networking.xml:1346(para)
msgid ""
"DNS for the domain setup properly. In a production AD environment this "
"should be the case. Proper Microsoft DNS is needed so that client "
"workstations can determine the Active Directory domain is available."
msgstr ""

#: serverguide/C/windows-networking.xml:1350(para)
msgid ""
"If you don't have a Windows DNS server on your network, see <xref "
"linkend=\"likewise-open-ms-dns\"/> for details."
msgstr ""

#: serverguide/C/windows-networking.xml:1357(para)
msgid "To join a domain, from a terminal prompt enter:"
msgstr ""

#: serverguide/C/windows-networking.xml:1362(command)
msgid "sudo domainjoin-cli join example.com Administrator"
msgstr ""

#: serverguide/C/windows-networking.xml:1366(para)
msgid ""
"Replace <emphasis>example.com</emphasis> with your domain name, and "
"<emphasis>Administrator</emphasis> with the appropriate user name."
msgstr ""

#: serverguide/C/windows-networking.xml:1372(para)
msgid ""
"You will then be prompted for the user's password. If all goes well a "
"<emphasis>SUCCESS</emphasis> message should be printed to the console."
msgstr ""

#: serverguide/C/windows-networking.xml:1377(para)
msgid ""
"After successfully joining an Ubuntu machine to an Active Directory domain "
"you can authenticate using any valid AD user. To login you will need to "
"enter the user name as 'domain\\username'. For example to ssh to a server "
"joined to the domain enter:"
msgstr ""

#: serverguide/C/windows-networking.xml:1384(command)
msgid "ssh 'example\\steve'@hostname"
msgstr ""

#: serverguide/C/windows-networking.xml:1388(para)
msgid ""
"If configuring a Desktop the user name will need to be prefixed with "
"<emphasis role=\"italic\">domain\\</emphasis> in the graphical logon as well."
msgstr ""

#: serverguide/C/windows-networking.xml:1394(para)
msgid ""
"To make likewise-open use a default domain, you can add the following "
"statement to <filename>/etc/samba/lwiauthd.conf</filename>:"
msgstr ""

#: serverguide/C/windows-networking.xml:1398(programlisting)
#, no-wrap
msgid ""
"\n"
"winbind use default domain = yes\n"
msgstr ""

#: serverguide/C/windows-networking.xml:1402(para)
msgid "Then restart the <application>likewise-open</application> daemons:"
msgstr ""

#: serverguide/C/windows-networking.xml:1407(command)
msgid "sudo /etc/init.d/likewise-open restart"
msgstr ""

#: serverguide/C/windows-networking.xml:1411(para)
msgid ""
"Once configured for a <emphasis>default domain</emphasis> the <emphasis "
"role=\"italic\">'domain\\'</emphasis> is no longer required, users can login "
"using only their username."
msgstr ""

#: serverguide/C/windows-networking.xml:1417(para)
msgid ""
"The <application>domainjoin-cli</application> utility can also be used to "
"leave the domain. From a terminal:"
msgstr ""

#: serverguide/C/windows-networking.xml:1422(command)
msgid "sudo domainjoin-cli leave"
msgstr ""

#: serverguide/C/windows-networking.xml:1427(title) serverguide/C/security.xml:1830(title)
msgid "Other Utilities"
msgstr ""

#: serverguide/C/windows-networking.xml:1429(para)
msgid ""
"The <application>likewise-open</application> package comes with a few other "
"utilities that may be useful for gathering information about the Active "
"Directory environment. These utilities are used to join the machine to the "
"domain, and are the same as those available in the <application>samba-"
"common</application> and <application>winbind</application> packages:"
msgstr ""

#: serverguide/C/windows-networking.xml:1438(para)
msgid ""
"<application>lwinet</application>: Returns information about the network and "
"the domain."
msgstr ""

#: serverguide/C/windows-networking.xml:1443(para)
msgid ""
"<application>lwimsg</application>: Allows interaction with the "
"<application>likewise-winbindd</application> daemon."
msgstr ""

#: serverguide/C/windows-networking.xml:1448(para)
msgid ""
"<application>lwiinfo</application>: Displays information about various parts "
"of the Domain."
msgstr ""

#: serverguide/C/windows-networking.xml:1454(para)
msgid "Please refer to each utility's man page specific for details."
msgstr ""

#: serverguide/C/windows-networking.xml:1460(title) serverguide/C/mail.xml:155(title) serverguide/C/mail.xml:1361(title) serverguide/C/dns.xml:338(title)
msgid "Troubleshooting"
msgstr ""

#: serverguide/C/windows-networking.xml:1464(para)
msgid ""
"If the client has trouble joining the domain, double check that the "
"Microsoft DNS is listed first in <filename>/etc/resolv.conf</filename>. For "
"example:"
msgstr ""

#: serverguide/C/windows-networking.xml:1469(programlisting)
#, no-wrap
msgid ""
"\n"
"nameserver 192.168.0.1\n"
msgstr ""

#: serverguide/C/windows-networking.xml:1474(para)
msgid ""
"For more information when joining a domain, use the <emphasis>--loglevel "
"verbose</emphasis> or <emphasis>--advanced</emphasis> option of the "
"<application>domainjoin-cli</application> utility:"
msgstr ""

#: serverguide/C/windows-networking.xml:1480(command)
msgid "sudo domainjoin-cli --loglevel verbose join example.com Administrator"
msgstr ""

#: serverguide/C/windows-networking.xml:1484(para)
msgid ""
"If an Active Directory user has trouble logging in, check the "
"<filename>/var/log/auth.log</filename> for details."
msgstr ""

#: serverguide/C/windows-networking.xml:1489(para)
msgid ""
"When joining an Ubuntu Desktop workstation to a domain, you may need to edit "
"<filename>/etc/nsswitch.conf</filename> if your AD domain uses the <emphasis "
"role=\"italic\">.local</emphasis> syntax. In order to join the domain the "
"<emphasis>\"mdns4\"</emphasis> entry from the <emphasis>hosts</emphasis> "
"option. For example:"
msgstr ""

#: serverguide/C/windows-networking.xml:1495(programlisting)
#, no-wrap
msgid ""
"\n"
"hosts: files mdns4_minimal [NOTFOUND=return] dns mdns4\n"
msgstr ""

#: serverguide/C/windows-networking.xml:1499(para)
msgid "Change the above to:"
msgstr ""

#: serverguide/C/windows-networking.xml:1503(programlisting)
#, no-wrap
msgid ""
"\n"
"hosts: files dns [NOTFOUND=return]\n"
msgstr ""

#: serverguide/C/windows-networking.xml:1507(para)
msgid "Then restart networking by entering:"
msgstr ""

#: serverguide/C/windows-networking.xml:1512(command) serverguide/C/network-config.xml:237(command)
msgid "sudo /etc/init.d/networking restart"
msgstr ""

#: serverguide/C/windows-networking.xml:1515(para)
msgid "You should now be able to join the Active Directory domain."
msgstr ""

#: serverguide/C/windows-networking.xml:1523(title)
msgid "Microsoft DNS"
msgstr ""

#: serverguide/C/windows-networking.xml:1525(para)
msgid ""
"The following are instructions for installing DNS on an Active Directory "
"domain controller running Windows Server 2003, but the instructions should "
"be similar for other versions:"
msgstr ""

#: serverguide/C/windows-networking.xml:1532(para)
msgid ""
"Click "
"<menuchoice><guimenuitem>Start</guimenuitem><guimenuitem>Administrative Tools"
"</guimenuitem><guimenuitem>Manager Your Server</guimenuitem></menuchoice>. "
"This will open the <application>Server Role Mangement</application> utility."
msgstr ""

#: serverguide/C/windows-networking.xml:1540(para)
msgid "Click Add or remove a role"
msgstr ""

#: serverguide/C/windows-networking.xml:1541(para) serverguide/C/windows-networking.xml:1543(para) serverguide/C/windows-networking.xml:1546(para)
msgid "Click Next"
msgstr ""

#: serverguide/C/windows-networking.xml:1542(para)
msgid "Select \"DNS Server\""
msgstr ""

#: serverguide/C/windows-networking.xml:1544(para)
msgid "Next"
msgstr ""

#: serverguide/C/windows-networking.xml:1545(para)
msgid "Select \"Create a forward lookup zone\" if it is not selected."
msgstr ""

#: serverguide/C/windows-networking.xml:1547(para)
msgid ""
"Make sure \"This server maintains the zone\" is selected and click Next."
msgstr ""

#: serverguide/C/windows-networking.xml:1548(para)
msgid "Enter your domain name and click Next"
msgstr ""

#: serverguide/C/windows-networking.xml:1549(para) serverguide/C/windows-networking.xml:1550(para)
msgid "Click Next to \"Allow only secure dynamic updates\""
msgstr ""

#: serverguide/C/windows-networking.xml:1552(para)
msgid ""
"Enter the IP for DNS servers to forward queries to, or Select \"No, it "
"should not forward queries\" and click Next."
msgstr ""

#: serverguide/C/windows-networking.xml:1556(para) serverguide/C/windows-networking.xml:1557(para)
msgid "Click Finish"
msgstr ""

#: serverguide/C/windows-networking.xml:1559(para)
msgid ""
"DNS is now installed and can be further configured using the "
"<application>Microsoft Management Console</application> DNS snap-in."
msgstr ""

#: serverguide/C/windows-networking.xml:1567(para)
msgid "Click Start"
msgstr ""

#: serverguide/C/windows-networking.xml:1568(para)
msgid "Control Panel"
msgstr ""

#: serverguide/C/windows-networking.xml:1569(para)
msgid "Network Connections"
msgstr ""

#: serverguide/C/windows-networking.xml:1570(para)
msgid "Right Click \"Local Area Connection\""
msgstr ""

#: serverguide/C/windows-networking.xml:1571(para)
msgid "Click Properties"
msgstr ""

#: serverguide/C/windows-networking.xml:1572(para)
msgid "Double click \"Internet Protocol (TCP/IP)\""
msgstr ""

#: serverguide/C/windows-networking.xml:1573(para)
msgid "Enter the Server's IP Address as the \"Preferred DNS server\""
msgstr ""

#: serverguide/C/windows-networking.xml:1574(para)
msgid "Click Ok"
msgstr ""

#: serverguide/C/windows-networking.xml:1575(para)
msgid "Click Ok again to save the settings"
msgstr ""

#: serverguide/C/windows-networking.xml:1564(para)
msgid ""
"Next, configure the Server to use itself for DNS queries: <placeholder-1/>"
msgstr ""

#: serverguide/C/windows-networking.xml:1582(title) serverguide/C/web-servers.xml:624(title) serverguide/C/web-servers.xml:766(title) serverguide/C/web-servers.xml:910(title) serverguide/C/web-servers.xml:1002(title) serverguide/C/web-servers.xml:1218(title) serverguide/C/virtualization.xml:1303(title) serverguide/C/virtualization.xml:1492(title) serverguide/C/vcs.xml:534(title) serverguide/C/security.xml:935(title) serverguide/C/security.xml:1264(title) serverguide/C/security.xml:1679(title) serverguide/C/security.xml:1870(title) serverguide/C/remote-administration.xml:203(title) serverguide/C/package-management.xml:432(title) serverguide/C/other-apps.xml:379(title) serverguide/C/network-config.xml:694(title) serverguide/C/mail.xml:263(title) serverguide/C/mail.xml:444(title) serverguide/C/mail.xml:591(title) serverguide/C/mail.xml:999(title) serverguide/C/mail.xml:1409(title) serverguide/C/lamp-applications.xml:252(title) serverguide/C/lamp-applications.xml:330(title) serverguide/C/lamp-applications.xml:432(title) serverguide/C/file-server.xml:284(title) serverguide/C/file-server.xml:431(title) serverguide/C/file-server.xml:592(title) serverguide/C/dns.xml:572(title) serverguide/C/clustering.xml:227(title) serverguide/C/backups.xml:297(title)
msgid "References"
msgstr ""

#: serverguide/C/windows-networking.xml:1584(para)
msgid ""
"Please refer to the <ulink "
"url=\"http://www.likewisesoftware.com/\">Likewise</ulink> home page for "
"further information."
msgstr ""

#: serverguide/C/windows-networking.xml:1588(para)
msgid ""
"For more <application>domainjoin-cli</application> options see the man page: "
"<command>man domainjoin-cli</command>."
msgstr ""

#: serverguide/C/web-servers.xml:13(title)
msgid "Web Servers"
msgstr ""

#: serverguide/C/web-servers.xml:14(para)
msgid ""
"A Web server is a software responsible for accepting HTTP requests from "
"clients, which are known as Web browsers, and serving them HTTP responses "
"along with optional data contents, which usually are Web pages such as HTML "
"documents and linked objects (images, etc.)."
msgstr ""

#: serverguide/C/web-servers.xml:19(title)
msgid "HTTPD - Apache2 Web Server"
msgstr ""

#: serverguide/C/web-servers.xml:20(para)
msgid ""
"Apache is the most commonly used Web Server on Linux systems. Web Servers "
"are used to serve Web Pages requested by client computers. Clients typically "
"request and view Web Pages using Web Browser applications such as "
"<application>Firefox</application>, <application>Opera</application>, or "
"<application>Mozilla</application>."
msgstr ""

#: serverguide/C/web-servers.xml:24(para)
msgid ""
"Users enter a Uniform Resource Locator (URL) to point to a Web server by "
"means of its Fully Qualified Domain Name (FQDN) and a path to the required "
"resource. For example, to view the home page of the <ulink "
"url=\"http://www.ubuntu.com\">Ubuntu Web site</ulink> a user will enter only "
"the FQDN. To request specific information about <ulink "
"url=\"http://www.ubuntu.com/support/paid\">paid support</ulink>, a user will "
"enter the FQDN followed by a path."
msgstr ""

#: serverguide/C/web-servers.xml:29(para)
msgid ""
"The most common protocol used to transfer Web pages is the Hyper Text "
"Transfer Protocol (HTTP). Protocols such as Hyper Text Transfer Protocol "
"over Secure Sockets Layer (HTTPS), and File Transfer Protocol (FTP), a "
"protocol for uploading and downloading files, are also supported."
msgstr ""

#: serverguide/C/web-servers.xml:33(para)
msgid ""
"Apache Web Servers are often used in combination with the "
"<application>MySQL</application> database engine, the HyperText Preprocessor "
"(<application>PHP</application>) scripting language, and other popular "
"scripting languages such as <application>Python</application> and "
"<application>Perl</application>. This configuration is termed LAMP (Linux, "
"Apache, MySQL and Perl/Python/PHP) and forms a powerful and robust platform "
"for the development and deployment of Web-based applications."
msgstr ""

#: serverguide/C/web-servers.xml:42(para)
msgid ""
"The Apache2 web server is available in Ubuntu Linux. To install Apache2:"
msgstr ""

#: serverguide/C/web-servers.xml:48(para)
msgid "At a terminal prompt enter the following command:"
msgstr ""

#: serverguide/C/web-servers.xml:53(command)
msgid "sudo apt-get install apache2"
msgstr ""

#: serverguide/C/web-servers.xml:63(para)
msgid ""
"Apache2 is configured by placing <emphasis>directives</emphasis> in plain "
"text configuration files. The configuration files are separated between the "
"following files and directories:"
msgstr ""

#: serverguide/C/web-servers.xml:71(para)
msgid ""
"<emphasis>apache2.conf:</emphasis> the main Apache2 configuration file. "
"Contains settings that are <emphasis>global</emphasis> to Apache2."
msgstr ""

#: serverguide/C/web-servers.xml:77(para)
msgid ""
"<emphasis>conf.d:</emphasis> contains configuration files which apply "
"<emphasis>globally</emphasis> to Apache. Other packages that use Apache2 to "
"serve content may add files, or symlinks, to this directory."
msgstr ""

#: serverguide/C/web-servers.xml:83(para)
msgid ""
"<emphasis>envvars:</emphasis> file where Apache2 "
"<emphasis>environment</emphasis> variables are set."
msgstr ""

#: serverguide/C/web-servers.xml:88(para)
msgid ""
"<emphasis>httpd.conf:</emphasis> historically the main Apache2 configuration "
"file, named after the <application>httpd</application> daemon. The file can "
"be used for <emphasis>user specific</emphasis> configuration options that "
"globally effect Apache2."
msgstr ""

#: serverguide/C/web-servers.xml:95(para)
msgid ""
"<emphasis>mods-available:</emphasis> this directory contains configuration "
"files to both load <emphasis>modules</emphasis> and configure them. Not all "
"modules will have specific configuration files, however."
msgstr ""

#: serverguide/C/web-servers.xml:101(para)
msgid ""
"<emphasis>mods-enabled:</emphasis> holds <emphasis>symlinks</emphasis> to "
"the files in <filename>/etc/apache2/mods-available</filename>. When a module "
"configuration file is symlinked it will be enabled the next time "
"<application>apache2</application> is restarted."
msgstr ""

#: serverguide/C/web-servers.xml:108(para)
msgid ""
"<emphasis>ports.conf:</emphasis> houses the directives that determine which "
"TCP ports Apache2 is listening on."
msgstr ""

#: serverguide/C/web-servers.xml:113(para)
msgid ""
"<emphasis>sites-available:</emphasis> this directory has configuration files "
"for Apache <emphasis>Virtual Hosts</emphasis>. Virtual Hosts allow Apache2 "
"to be configured for multiple sites that have separate configurations."
msgstr ""

#: serverguide/C/web-servers.xml:119(para)
msgid ""
"<emphasis>sites-enabled:</emphasis> like mods-enabled, <filename "
"role=\"directory\">sites-enabled</filename> contains symlinks to the "
"<filename>/etc/apache2/sites-available</filename> directory. Similarly when "
"a configuration file in sites-available is symlinked it will be active once "
"Apache is restarted."
msgstr ""

#: serverguide/C/web-servers.xml:127(para)
msgid ""
"In addition, other configuration files may be added using the "
"<emphasis>Include</emphasis> directive, and wildcards can be used to include "
"many configuration files. Any directive may be placed in any of these "
"configuration files. Changes to the main configuration files are only "
"recognized by Apache2 when it is started or restarted."
msgstr ""

#: serverguide/C/web-servers.xml:136(para)
msgid ""
"The server also reads a file containing mime document types; the filename is "
"set by the <emphasis>TypesConfig</emphasis> directive, and is "
"<filename>/etc/mime.types</filename> by default."
msgstr ""

#: serverguide/C/web-servers.xml:141(title)
msgid "Basic Settings"
msgstr ""

#: serverguide/C/web-servers.xml:142(para)
msgid ""
"This section explains Apache2 server essential configuration parameters. "
"Refer to the <ulink url=\"http://httpd.apache.org/docs/2.2/\">Apache2 "
"Documentation</ulink> for more details."
msgstr ""

#: serverguide/C/web-servers.xml:150(para)
msgid ""
"Apache2 ships with a virtual-host-friendly default configuration. That is, "
"it is configured with a single default virtual host (using the "
"<emphasis>VirtualHost</emphasis> directive) which can modified or used as-is "
"if you have a single site, or used as a template for additional virtual "
"hosts if you have multiple sites. If left alone, the default virtual host "
"will serve as your default site, or the site users will see if the URL they "
"enter does not match the <emphasis>ServerName</emphasis> directive of any of "
"your custom sites. To modify the default virtual host, edit the file "
"<filename>/etc/apache2/sites-available/default</filename>."
msgstr ""

#: serverguide/C/web-servers.xml:163(para)
msgid ""
"The directives set for a virtual host only apply to that particular virtual "
"host. If a directive is set server-wide and not defined within the virtual "
"host settings, the default setting is used. For example, you can define a "
"Webmaster email address and not define individual email addresses for each "
"virtual host."
msgstr ""

#: serverguide/C/web-servers.xml:171(para)
msgid ""
"If you wish to configure a new virtual host or site, copy that file into the "
"same directory with a name you choose. For example:"
msgstr ""

#: serverguide/C/web-servers.xml:177(command)
msgid ""
"sudo cp /etc/apache2/sites-available/default /etc/apache2/sites-"
"available/mynewsite"
msgstr ""

#: serverguide/C/web-servers.xml:180(para)
msgid ""
"Edit the new file to configure the new site using some of the directives "
"described below."
msgstr ""

#: serverguide/C/web-servers.xml:187(para)
msgid ""
"The <emphasis>ServerAdmin</emphasis> directive specifies the email address "
"to be advertised for the server's administrator. The default value is "
"webmaster@localhost. This should be changed to an email address that is "
"delivered to you (if you are the server's administrator). If your website "
"has a problem, Apache2 will display an error message containing this email "
"address to report the problem to. Find this directive in your site's "
"configuration file in /etc/apache2/sites-available."
msgstr ""

#: serverguide/C/web-servers.xml:198(para)
msgid ""
"The <emphasis>Listen</emphasis> directive specifies the port, and optionally "
"the IP address, Apache2 should listen on. If the IP address is not "
"specified, Apache2 will listen on all IP addresses assigned to the machine "
"it runs on. The default value for the Listen directive is 80. Change this to "
"127.0.0.1:80 to cause Apache2 to listen only on your loopback interface so "
"that it will not be available to the Internet, to (for example) 81 to change "
"the port that it listens on, or leave it as is for normal operation. This "
"directive can be found and changed in its own file, "
"<filename>/etc/apache2/ports.conf</filename>"
msgstr ""

#: serverguide/C/web-servers.xml:211(para)
msgid ""
"The <emphasis>ServerName</emphasis> directive is optional and specifies what "
"FQDN your site should answer to. The default virtual host has no ServerName "
"directive specified, so it will respond to all requests that do not match a "
"ServerName directive in another virtual host. If you have just acquired the "
"domain name ubunturocks.com and wish to host it on your Ubuntu server, the "
"value of the ServerName directive in your virtual host configuration file "
"should be ubunturocks.com. Add this directive to the new virtual host file "
"you created earlier (<filename>/etc/apache2/sites-"
"available/mynewsite</filename>)."
msgstr ""

#: serverguide/C/web-servers.xml:223(para)
msgid ""
"You may also want your site to respond to www.ubunturocks.com, since many "
"users will assume the www prefix is appropriate. Use the "
"<emphasis>ServerAlias</emphasis> directive for this. You may also use "
"wildcards in the ServerAlias directive."
msgstr ""

#: serverguide/C/web-servers.xml:230(para)
msgid ""
"For example, the following configuration will cause your site to respond to "
"any domain request ending in <emphasis>.ubunturocks.com</emphasis>."
msgstr ""

#: serverguide/C/web-servers.xml:236(programlisting)
#, no-wrap
msgid ""
"\n"
"ServerAlias *.ubunturocks.com\n"
msgstr ""

#: serverguide/C/web-servers.xml:242(para)
msgid ""
"The <emphasis>DocumentRoot</emphasis> directive specifies where Apache "
"should look for the files that make up the site. The default value is "
"/var/www. No site is configured there, but if you uncomment the "
"<emphasis>RedirectMatch</emphasis> directive in "
"<filename>/etc/apache2/apache2.conf</filename> requests will be redirected "
"to /var/www/apache2-default where the default Apache2 site awaits. Change "
"this value in your site's virtual host file, and remember to create that "
"directory if necessary!"
msgstr ""

#: serverguide/C/web-servers.xml:254(para)
msgid ""
"The /etc/apache2/sites-available directory is <emphasis role=\"bold\"> "
"not</emphasis> parsed by Apache2. Symbolic links in /etc/apache2/sites-"
"enabled point to \"available\" sites."
msgstr ""

#: serverguide/C/web-servers.xml:260(para)
msgid ""
"Enable the new <emphasis>VirtualHost</emphasis> using the "
"<application>a2ensite</application> utility and restart Apache:"
msgstr ""

#: serverguide/C/web-servers.xml:266(command)
msgid "sudo a2ensite mynewsite"
msgstr ""

#: serverguide/C/web-servers.xml:267(command) serverguide/C/web-servers.xml:285(command) serverguide/C/web-servers.xml:538(command) serverguide/C/web-servers.xml:547(command) serverguide/C/web-servers.xml:606(command) serverguide/C/mail.xml:723(command) serverguide/C/lamp-applications.xml:221(command)
msgid "sudo /etc/init.d/apache2 restart"
msgstr ""

#: serverguide/C/web-servers.xml:271(para)
msgid ""
"Be sure to replace <emphasis>mynewsite</emphasis> with a more descriptive "
"name for the VirtualHost. One method is to name the file after the "
"<emphasis>ServerName</emphasis> directive of the VirtualHost."
msgstr ""

#: serverguide/C/web-servers.xml:278(para)
msgid ""
"Similarly, use the <application>a2dissite</application> utility to disable "
"sites. This is can be useful when troubleshooting configuration problems "
"with multiple VirtualHosts:"
msgstr ""

#: serverguide/C/web-servers.xml:284(command)
msgid "sudo a2dissite mynewsite"
msgstr ""

#: serverguide/C/web-servers.xml:290(title)
msgid "Default Settings"
msgstr ""

#: serverguide/C/web-servers.xml:292(para)
msgid ""
"This section explains configuration of the Apache2 server default settings. "
"For example, if you add a virtual host, the settings you configure for the "
"virtual host take precedence for that virtual host. For a directive not "
"defined within the virtual host settings, the default value is used."
msgstr ""

#: serverguide/C/web-servers.xml:304(para)
msgid ""
"The <emphasis>DirectoryIndex</emphasis> is the default page served by the "
"server when a user requests an index of a directory by specifying a forward "
"slash (/) at the end of the directory name."
msgstr ""

#: serverguide/C/web-servers.xml:311(para)
msgid ""
"For example, when a user requests the page "
"http://www.example.com/this_directory/, he or she will get either the "
"DirectoryIndex page if it exists, a server-generated directory list if it "
"does not and the Indexes option is specified, or a Permission Denied page if "
"neither is true. The server will try to find one of the files listed in the "
"DirectoryIndex directive and will return the first one it finds. If it does "
"not find any of these files and if Options Indexes is set for that "
"directory, the server will generate and return a list, in HTML format, of "
"the subdirectories and files in the directory. The default value, found in "
"<filename>/etc/apache2/apache2.conf</filename> is \" index.html index.cgi "
"index.pl index.php index.xhtml\". Thus, if Apache2 finds a file in a "
"requested directory matching any of these names, the first will be displayed."
msgstr ""

#: serverguide/C/web-servers.xml:332(para)
msgid ""
"The <emphasis>ErrorDocument</emphasis> directive allows you to specify a "
"file for Apache to use for specific error events. For example, if a user "
"requests a resource that does not exist, a 404 error will occur, and per "
"Apache2's default configuration, the file "
"<filename>/usr/share/apache2/error/HTTP_NOT_FOUND.html.var </filename> will "
"be displayed. That file is not in the server's DocumentRoot, but there is an "
"Alias directive in <filename>/etc/apache2/apache2.conf</filename> that "
"redirects requests to the /error directory to "
"<filename>/usr/share/apache2/error/</filename>."
msgstr ""

#: serverguide/C/web-servers.xml:344(para)
msgid ""
"To see a list of the default ErrorDocument directives, use this command:"
msgstr ""

#: serverguide/C/web-servers.xml:350(command)
msgid "grep ErrorDocument /etc/apache2/apache2.conf"
msgstr ""

#: serverguide/C/web-servers.xml:355(para)
msgid ""
"By default, the server writes the transfer log to the file "
"<filename>/var/log/apache2/access.log</filename>. You can change this on a "
"per-site basis in your virtual host configuration files with the "
"<emphasis>CustomLog</emphasis> directive, or omit it to accept the default, "
"specified in <filename> /etc/apache2/apache2.conf</filename>. You may also "
"specify the file to which errors are logged, via the "
"<emphasis>ErrorLog</emphasis> directive, whose default is "
"<filename>/var/log/apache2/error.log</filename>. These are kept separate "
"from the transfer logs to aid in troubleshooting problems with your Apache2 "
"server. You may also specify the <emphasis>LogLevel</emphasis> (the default "
"value is \"warn\") and the <emphasis>LogFormat</emphasis> (see <filename> "
"/etc/apache2/apache2.conf</filename> for the default value)."
msgstr ""

#: serverguide/C/web-servers.xml:370(para)
msgid ""
"Some options are specified on a per-directory basis rather than per-server. "
"<emphasis>Options</emphasis> is one of these directives. A Directory stanza "
"is enclosed in XML-like tags, like so:"
msgstr ""

#: serverguide/C/web-servers.xml:376(programlisting)
#, no-wrap
msgid ""
"\n"
"&lt;Directory /var/www/mynewsite&gt;\n"
"...\n"
"&lt;/Directory&gt;\n"
msgstr ""

#: serverguide/C/web-servers.xml:382(para)
msgid ""
"The <emphasis>Options</emphasis> directive within a Directory stanza accepts "
"one or more of the following values (among others), separated by spaces:"
msgstr ""

#: serverguide/C/web-servers.xml:394(para)
msgid ""
"Most files should not be executed as CGI scripts. This would be very "
"dangerous. CGI scripts should kept in a directory separate from and outside "
"your DocumentRoot, and only this directory should have the ExecCGI option "
"set. This is the default, and the default location for CGI scripts is "
"<filename>/usr/lib/cgi-bin</filename>."
msgstr ""

#: serverguide/C/web-servers.xml:389(para)
msgid ""
"<emphasis role=\"bold\">ExecCGI</emphasis> - Allow execution of CGI scripts. "
"CGI scripts are not executed if this option is not chosen. <placeholder-1/>"
msgstr ""

#: serverguide/C/web-servers.xml:405(para)
msgid ""
"<emphasis role=\"bold\">Includes</emphasis> - Allow server-side includes. "
"Server-side includes allow an HTML file to <emphasis> include</emphasis> "
"other files. This is not a common option. See <ulink "
"url=\"http://httpd.apache.org/docs/2.2/howto/ssi.html\">the Apache2 SSI "
"HOWTO</ulink> for more information."
msgstr ""

#: serverguide/C/web-servers.xml:414(para)
msgid ""
"<emphasis role=\"bold\">IncludesNOEXEC</emphasis> - Allow server-side "
"includes, but disable the <emphasis>#exec</emphasis> and "
"<emphasis>#include</emphasis> commands in CGI scripts."
msgstr ""

#: serverguide/C/web-servers.xml:426(para)
msgid ""
"For security reasons, this should usually not be set, and certainly should "
"not be set on your DocumentRoot directory. Enable this option carefully on a "
"per-directory basis only if you are certain you want users to see the entire "
"contents of the directory."
msgstr ""

#: serverguide/C/web-servers.xml:421(para)
msgid ""
"<emphasis role=\"bold\">Indexes</emphasis> - Display a formatted list of the "
"directory's contents, if no <emphasis>DirectoryIndex</emphasis> (such as "
"index.html) exists in the requested directory. <placeholder-1/>"
msgstr ""

#: serverguide/C/web-servers.xml:436(para)
msgid ""
"<emphasis role=\"bold\">Multiview</emphasis> - Support content-negotiated "
"multiviews; this option is disabled by default for security reasons. See the "
"<ulink "
"url=\"http://httpd.apache.org/docs/2.2/mod/mod_negotiation.html#multiviews\">"
"Apache2 documentation on this option</ulink>."
msgstr ""

#: serverguide/C/web-servers.xml:444(para)
msgid ""
"<emphasis role=\"bold\">SymLinksIfOwnerMatch</emphasis> - Only follow "
"symbolic links if the target file or directory has the same owner as the "
"link."
msgstr ""

#: serverguide/C/web-servers.xml:456(title)
msgid "httpd Settings"
msgstr ""

#: serverguide/C/web-servers.xml:458(para)
msgid ""
"This section explains some basic <application>httpd</application> daemon "
"configuration settings."
msgstr ""

#: serverguide/C/web-servers.xml:462(para)
msgid ""
"<emphasis role=\"bold\">LockFile</emphasis> - The LockFile directive sets "
"the path to the lockfile used when the server is compiled with either "
"USE_FCNTL_SERIALIZED_ACCEPT or USE_FLOCK_SERIALIZED_ACCEPT. It must be "
"stored on the local disk. It should be left to the default value unless the "
"logs directory is located on an NFS share. If this is the case, the default "
"value should be changed to a location on the local disk and to a directory "
"that is readable only by root."
msgstr ""

#: serverguide/C/web-servers.xml:471(para)
msgid ""
"<emphasis role=\"bold\">PidFile</emphasis> - The PidFile directive sets the "
"file in which the server records its process ID (pid). This file should only "
"be readable by root. In most cases, it should be left to the default value."
msgstr ""

#: serverguide/C/web-servers.xml:477(para)
msgid ""
"<emphasis role=\"bold\">User</emphasis> - The User directive sets the userid "
"used by the server to answer requests. This setting determines the server's "
"access. Any files inaccessible to this user will also be inaccessible to "
"your website's visitors. The default value for User is www-data."
msgstr ""

#: serverguide/C/web-servers.xml:484(para)
msgid ""
"Unless you know exactly what you are doing, do not set the User directive to "
"root. Using root as the User will create large security holes for your Web "
"server."
msgstr ""

#: serverguide/C/web-servers.xml:490(para)
msgid ""
"The Group directive is similar to the User directive. Group sets the group "
"under which the server will answer requests. The default group is also www-"
"data."
msgstr ""

#: serverguide/C/web-servers.xml:496(title)
msgid "Apache Modules"
msgstr ""

#: serverguide/C/web-servers.xml:498(para)
msgid ""
"Apache is a modular server. This implies that only the most basic "
"functionality is included in the core server. Extended features are "
"available through modules which can be loaded into Apache. By default, a "
"base set of modules is included in the server at compile-time. If the server "
"is compiled to use dynamically loaded modules, then modules can be compiled "
"separately, and added at any time using the LoadModule directive. Otherwise, "
"Apache must be recompiled to add or remove modules."
msgstr ""

#: serverguide/C/web-servers.xml:510(para)
msgid ""
"Ubuntu compiles Apache2 to allow the dynamic loading of modules. "
"Configuration directives may be conditionally included on the presence of a "
"particular module by enclosing them in an "
"<emphasis>&lt;IfModule&gt;</emphasis> block."
msgstr ""

#: serverguide/C/web-servers.xml:517(para)
msgid ""
"You can install additional Apache2 modules and use them with your Web "
"server. For example, run the following command from a terminal prompt to "
"install the <emphasis>MySQL Authentication</emphasis> module:"
msgstr ""

#: serverguide/C/web-servers.xml:524(command)
msgid "sudo apt-get install libapache2-mod-auth-mysql"
msgstr ""

#: serverguide/C/web-servers.xml:527(para)
msgid ""
"See the <filename>/etc/apache2/mods-available</filename> directory, for "
"additional modules."
msgstr ""

#: serverguide/C/web-servers.xml:531(para)
msgid ""
"Use the <application>a2enmod</application> utility to enable a module:"
msgstr ""

#: serverguide/C/web-servers.xml:537(command)
msgid "sudo a2enmod auth_mysql"
msgstr ""

#: serverguide/C/web-servers.xml:541(para)
msgid "Similarly, <application>a2dismod</application> will disable a module:"
msgstr ""

#: serverguide/C/web-servers.xml:546(command)
msgid "sudo a2dismod auth_mysql"
msgstr ""

#: serverguide/C/web-servers.xml:553(title)
msgid "HTTPS Configuration"
msgstr ""

#: serverguide/C/web-servers.xml:555(para)
msgid ""
"The <application>mod_ssl</application> module adds an important feature to "
"the Apache2 server - the ability to encrypt communications. Thus, when your "
"browser is communicating using SSL, the https:// prefix is used at the "
"beginning of the Uniform Resource Locator (URL) in the browser navigation "
"bar."
msgstr ""

#: serverguide/C/web-servers.xml:564(para)
msgid ""
"The <application>mod_ssl</application> module is available in "
"<application>apache2-common</application> package. Execute the following "
"command from a terminal prompt to enable the "
"<application>mod_ssl</application> module:"
msgstr ""

#: serverguide/C/web-servers.xml:571(command)
msgid "sudo a2enmod ssl"
msgstr ""

#: serverguide/C/web-servers.xml:574(para)
msgid ""
"There is a default HTTPS configuration file in <filename>/etc/apache2/sites-"
"available/default-ssl</filename>. In order for "
"<application>Apache</application> to provide HTTPS, a "
"<emphasis>certificate</emphasis> and <emphasis>key</emphasis> file are also "
"needed. The default HTTPS configuration will use a certificate and key "
"generated by the <application>ssl-cert</application> package. They are good "
"for testing, but the auto-generated certificate and key should be replaced "
"by a certificate specific to the site or server. For information on "
"generating a key and obtaining a certificate see <xref "
"linkend=\"certificates-and-security\"/>"
msgstr ""

#: serverguide/C/web-servers.xml:584(para)
msgid ""
"To configure <application>Apache</application> for HTTPS, enter the "
"following:"
msgstr ""

#: serverguide/C/web-servers.xml:589(command)
msgid "sudo a2ensite default-ssl"
msgstr ""

#: serverguide/C/web-servers.xml:593(para)
msgid ""
"The directories <filename>/etc/ssl/certs</filename> and "
"<filename>/etc/ssl/private</filename> are the default locations. If you "
"install the certificate and key in another directory make sure to change "
"<emphasis>SSLCertificateFile</emphasis> and "
"<emphasis>SSLCertificateKeyFile</emphasis> appropriately."
msgstr ""

#: serverguide/C/web-servers.xml:600(para)
msgid ""
"With Apache now configured for HTTPS, restart the service to enable the new "
"settings:"
msgstr ""

#: serverguide/C/web-servers.xml:611(para)
msgid ""
"Depending on how you obtained your certificate you may need to enter a "
"passphrase when <application>Apache</application> starts."
msgstr ""

#: serverguide/C/web-servers.xml:617(para)
msgid ""
"You can access the secure server pages by typing https://your_hostname/url/ "
"in your browser address bar."
msgstr ""

#: serverguide/C/web-servers.xml:628(para)
msgid ""
"<ulink url=\"http://httpd.apache.org/docs/2.2/\">Apache2 "
"Documentation</ulink> contains in depth information on Apache2 configuration "
"directives. Also, see the <application>apache2-doc</application> package for "
"the official Apache2 docs."
msgstr ""

#: serverguide/C/web-servers.xml:635(para)
msgid ""
"See the <ulink url=\"http://www.modssl.org/docs/\">Mod SSL "
"Documentation</ulink> site for more SSL related information."
msgstr ""

#: serverguide/C/web-servers.xml:641(para)
msgid ""
"O'Reilly's <ulink url=\"http://oreilly.com/catalog/9780596001919/\">Apache "
"Cookbook</ulink> is a good resource for accomplishing specific Apache2 "
"configurations."
msgstr ""

#: serverguide/C/web-servers.xml:647(para)
msgid ""
"For Ubuntu specific Apache2 questions, ask in the <emphasis>#ubuntu-"
"server</emphasis> IRC channel on <ulink "
"url=\"http://freenode.net/\">freenode.net</ulink>."
msgstr ""

#: serverguide/C/web-servers.xml:658(title)
msgid "PHP5 - Scripting Language"
msgstr ""

#: serverguide/C/web-servers.xml:659(para)
msgid ""
"PHP is a general-purpose scripting language suited for Web development. The "
"PHP script can be embedded into HTML. This section explains how to install "
"and configure PHP5 in Ubuntu System with Apache2 and MySQL."
msgstr ""

#: serverguide/C/web-servers.xml:663(para)
msgid ""
"This section assumes you have installed and configured Apache 2 Web Server "
"and MySQL Database Server. You can refer to Apache 2 section and MySQL "
"sections in this document to install and configure Apache 2 and MySQL "
"respectively."
msgstr ""

#: serverguide/C/web-servers.xml:670(para)
msgid "The PHP5 is available in Ubuntu Linux."
msgstr ""

#: serverguide/C/web-servers.xml:672(para)
msgid ""
"To install PHP5 you can enter the following command in the terminal prompt: "
"<screen>\n"
"<command>sudo apt-get install php5 libapache2-mod-php5</command>\n"
"</screen>"
msgstr ""

#: serverguide/C/web-servers.xml:681(para)
msgid ""
"You can run PHP5 scripts from command line. To run PHP5 scripts from command "
"line you should install <application>php5-cli</application> package. To "
"install <application>php5-cli</application> you can enter the following "
"command in the terminal prompt: <screen>\n"
"<command>sudo apt-get install php5-cli</command>\n"
"</screen>"
msgstr ""

#: serverguide/C/web-servers.xml:690(para)
msgid ""
"You can also execute PHP5 scripts without installing PHP5 Apache module. To "
"accomplish this, you should install <application>php5-cgi</application> "
"package. You can run the following command in a terminal prompt to install "
"<application>php5-cgi</application> package: <screen>\n"
"<command>sudo apt-get install php5-cgi</command>\n"
"</screen>"
msgstr ""

#: serverguide/C/web-servers.xml:700(para)
msgid ""
"To use <application>MySQL</application> with PHP5 you should install "
"<application>php5-mysql</application> package. To install <application>php5-"
"mysql</application> you can enter the following command in the terminal "
"prompt: <screen>\n"
"<command>sudo apt-get install php5-mysql</command>\n"
"</screen>"
msgstr ""

#: serverguide/C/web-servers.xml:708(para)
msgid ""
"Similarly, to use <application>PostgreSQL</application> with PHP5 you should "
"install <application>php5-pgsql</application> package. To install "
"<application>php5-pgsql</application> you can enter the following command in "
"the terminal prompt: <screen>\n"
"<command>sudo apt-get install php5-pgsql</command>\n"
"</screen>"
msgstr ""

#: serverguide/C/web-servers.xml:721(para)
msgid ""
"Once you install PHP5, you can run PHP5 scripts from your web browser. If "
"you have installed <application>php5-cli</application> package, you can run "
"PHP5 scripts from your command prompt."
msgstr ""

#: serverguide/C/web-servers.xml:728(para)
msgid ""
"By default, the Apache 2 Web server is configured to run PHP5 scripts. In "
"other words, the PHP5 module is enabled in Apache2 Web server automatically "
"when you install the module. Please verify if the files "
"<filename>/etc/apache2/mods-enabled/php5.conf</filename> and "
"<filename>/etc/apache2/mods-enabled/php5.load</filename> exist. If they do "
"not exists, you can enable the module using <command>a2enmod</command> "
"command."
msgstr ""

#: serverguide/C/web-servers.xml:739(para)
msgid ""
"Once you install PHP5 related packages and enabled PHP5 Apache 2 module, you "
"should restart Apache2 Web server to run PHP5 scripts. You can run the "
"following command at a terminal prompt to restart your web server: "
"<screen><command>sudo /etc/init.d/apache2 restart</command> </screen>"
msgstr ""

#: serverguide/C/web-servers.xml:747(title) serverguide/C/mail.xml:124(title) serverguide/C/mail.xml:1332(title) serverguide/C/dns.xml:343(title) serverguide/C/clustering.xml:177(title)
msgid "Testing"
msgstr ""

#: serverguide/C/web-servers.xml:748(para)
msgid ""
"To verify your installation, you can run following PHP5 phpinfo script:"
msgstr ""

#: serverguide/C/web-servers.xml:751(programlisting)
#, no-wrap
msgid ""
"\n"
"&lt;?php\n"
"print_r (phpinfo());\n"
"?&gt;\n"
msgstr ""

#: serverguide/C/web-servers.xml:756(para)
msgid ""
"You can save the content in a file <filename>phpinfo.php</filename> and "
"place it under <command>DocumentRoot</command> directory of Apache2 Web "
"server. When point your browser to "
"<filename>http://hostname/phpinfo.php</filename>, it would display values of "
"various PHP5 configuration parameters."
msgstr ""

#: serverguide/C/web-servers.xml:770(para)
msgid ""
"For more in depth information see <ulink "
"url=\"http://www.php.net/docs.php\">php.net</ulink> documentation."
msgstr ""

#: serverguide/C/web-servers.xml:775(para)
msgid ""
"There are a plethora of books on PHP. Two good books from O'Reilly are "
"<ulink url=\"http://oreilly.com/catalog/9780596005603/\">Learning PHP "
"5</ulink> and the <ulink "
"url=\"http://oreilly.com/catalog/9781565926813/\">PHP Cook Book</ulink>."
msgstr ""

#: serverguide/C/web-servers.xml:787(title)
msgid "Squid - Proxy Server"
msgstr ""

#: serverguide/C/web-servers.xml:788(para)
msgid ""
"Squid is a full-featured web proxy cache server application which provides "
"proxy and cache services for Hyper Text Transport Protocol (HTTP), File "
"Transfer Protocol (FTP), and other popular network protocols. Squid can "
"implement caching and proxying of Secure Sockets Layer (SSL) requests and "
"caching of Domain Name Server (DNS) lookups, and perform transparent "
"caching. Squid also supports a wide variety of caching protocols, such as "
"Internet Cache Protocol, (ICP) the Hyper Text Caching Protocol, (HTCP) the "
"Cache Array Routing Protocol (CARP), and the Web Cache Coordination "
"Protocol. (WCCP)"
msgstr ""

#: serverguide/C/web-servers.xml:796(para)
msgid ""
"The Squid proxy cache server is an excellent solution to a variety of proxy "
"and caching server needs, and scales from the branch office to enterprise "
"level networks while providing extensive, granular access control mechanisms "
"and monitoring of critical parameters via the Simple Network Management "
"Protocol (SNMP). When selecting a computer system for use as a dedicated "
"Squid proxy, or caching servers, ensure your system is configured with a "
"large amount of physical memory, as Squid maintains an in-memory cache for "
"increased performance."
msgstr ""

#: serverguide/C/web-servers.xml:805(para)
msgid ""
"At a terminal prompt, enter the following command to install the Squid "
"server:"
msgstr ""

#: serverguide/C/web-servers.xml:810(command)
msgid "sudo apt-get install squid"
msgstr ""

#: serverguide/C/web-servers.xml:816(para)
msgid ""
"Squid is configured by editing the directives contained within the "
"<filename>/etc/squid/squid.conf</filename> configuration file. The following "
"examples illustrate some of the directives which may be modified to affect "
"the behavior of the Squid server. For more in-depth configuration of Squid, "
"see the References section."
msgstr ""

#: serverguide/C/web-servers.xml:822(para)
msgid ""
"Prior to editing the configuration file, you should make a copy of the "
"original file and protect it from writing so you will have the original "
"settings as a reference, and to re-use as necessary."
msgstr ""

#: serverguide/C/web-servers.xml:825(para)
msgid ""
"Copy the <filename>/etc/squid/squid.conf</filename> file and protect it from "
"writing with the following commands entered at a terminal prompt:"
msgstr ""

#: serverguide/C/web-servers.xml:830(command)
msgid "sudo cp /etc/squid/squid.conf /etc/squid/squid.conf.original"
msgstr ""

#: serverguide/C/web-servers.xml:831(command)
msgid "sudo chmod a-w /etc/squid/squid.conf.original"
msgstr ""

#: serverguide/C/web-servers.xml:837(para)
msgid ""
"To set your Squid server to listen on TCP port 8888 instead of the default "
"TCP port 3128, change the http_port directive as such:"
msgstr ""

#: serverguide/C/web-servers.xml:841(programlisting)
#, no-wrap
msgid ""
"\n"
"http_port 8888\n"
msgstr ""

#: serverguide/C/web-servers.xml:846(para)
msgid ""
"Change the visible_hostname directive in order to give the Squid server a "
"specific hostname. This hostname does not necessarily need to be the "
"computer's hostname. In this example it is set to <emphasis>weezie</emphasis>"
msgstr ""

#: serverguide/C/web-servers.xml:850(programlisting)
#, no-wrap
msgid ""
"\n"
"visible_hostname weezie\n"
msgstr ""

#: serverguide/C/web-servers.xml:855(para)
msgid ""
"Again, Using Squid's access control, you may configure use of Internet "
"services proxied by Squid to be available only users with certain Internet "
"Protocol (IP) addresses. For example, we will illustrate access by users of "
"the 192.168.42.0/24 subnetwork only:"
msgstr ""

#: serverguide/C/web-servers.xml:860(para) serverguide/C/web-servers.xml:880(para)
msgid ""
"Add the following to the <emphasis role=\"bold\">bottom</emphasis> of the "
"ACL section of your <filename>/etc/squid/squid.conf</filename> file:"
msgstr ""

#: serverguide/C/web-servers.xml:863(programlisting)
#, no-wrap
msgid ""
"\n"
"acl fortytwo_network src 192.168.42.0/24\n"
msgstr ""

#: serverguide/C/web-servers.xml:866(para) serverguide/C/web-servers.xml:887(para)
msgid ""
"Then, add the following to the <emphasis role=\"bold\">top</emphasis> of the "
"http_access section of your <filename>/etc/squid/squid.conf</filename> file:"
msgstr ""

#: serverguide/C/web-servers.xml:870(programlisting)
#, no-wrap
msgid ""
"\n"
"http_access allow fortytwo_network\n"
msgstr ""

#: serverguide/C/web-servers.xml:875(para)
msgid ""
"Using the excellent access control features of Squid, you may configure use "
"of Internet services proxied by Squid to be available only during normal "
"business hours. For example, we'll illustrate access by employees of a "
"business which is operating between 9:00AM and 5:00PM, Monday through "
"Friday, and which uses the 10.1.42.0/42 subnetwork:"
msgstr ""

#: serverguide/C/web-servers.xml:883(programlisting)
#, no-wrap
msgid ""
"\n"
"acl biz_network src 10.1.42.0/24\n"
"acl biz_hours time M T W T F 9:00-17:00\n"
msgstr ""

#: serverguide/C/web-servers.xml:891(programlisting)
#, no-wrap
msgid ""
"\n"
"http_access allow biz_network biz_hours\n"
msgstr ""

#: serverguide/C/web-servers.xml:898(para)
msgid ""
"After making changes to the <filename>/etc/squid/squid.conf</filename> file, "
"save the file and restart the <application>squid</application> server "
"application to effect the changes using the following command entered at a "
"terminal prompt:"
msgstr ""

#: serverguide/C/web-servers.xml:905(command)
msgid "sudo /etc/init.d/squid restart"
msgstr ""

#: serverguide/C/web-servers.xml:912(ulink)
msgid "Squid Website"
msgstr ""

#: serverguide/C/web-servers.xml:918(title)
msgid "Ruby on Rails"
msgstr ""

#: serverguide/C/web-servers.xml:919(para)
msgid ""
"Ruby on Rails is an open source web framework for developing database backed "
"web applications. It is optimized for sustainable productivity of the "
"programmer since it lets the programmer to write code by favouring "
"convention over configuration."
msgstr ""

#: serverguide/C/web-servers.xml:926(para)
msgid ""
"Before installing <application>Rails</application> you should install "
"<application>Apache</application> and <application>MySQL</application>. To "
"install the <application>Apache</application> package, please refer to <xref "
"linkend=\"httpd\"/>. For instructions on installing "
"<application>MySQL</application> refer to <xref linkend=\"mysql\"/>."
msgstr ""

#: serverguide/C/web-servers.xml:934(para)
msgid ""
"Once you have <application>Apache</application> and "
"<application>MySQL</application> packages installed, you are ready to "
"install <application>Ruby on Rails</application> package."
msgstr ""

#: serverguide/C/web-servers.xml:941(para)
msgid ""
"To install the <application>Ruby</application> base packages and "
"<application>Ruby on Rails</application>, you can enter the following "
"command in the terminal prompt:"
msgstr ""

#: serverguide/C/web-servers.xml:947(command)
msgid "sudo apt-get install rails"
msgstr ""

#: serverguide/C/web-servers.xml:953(para)
msgid ""
"Modify the <filename>/etc/apache2/sites-available/default</filename> "
"configuration file to setup your domains."
msgstr ""

#: serverguide/C/web-servers.xml:957(para)
msgid ""
"The first thing to change is the <emphasis>DocumentRoot</emphasis> directive:"
msgstr ""

#: serverguide/C/web-servers.xml:961(programlisting)
#, no-wrap
msgid ""
"\n"
"DocumentRoot /path/to/rails/application/public\n"
msgstr ""

#: serverguide/C/web-servers.xml:964(para)
msgid ""
"Next, change the &lt;Directory \"/path/to/rails/application/public\"&gt; "
"directive:"
msgstr ""

#: serverguide/C/web-servers.xml:968(programlisting)
#, no-wrap
msgid ""
"\n"
"&lt;Directory \"/path/to/rails/application/public\"&gt;\n"
"        Options Indexes FollowSymLinks MultiViews ExecCGI\n"
"        AllowOverride All\n"
"        Order allow,deny\n"
"        allow from all\n"
"        AddHandler cgi-script .cgi\n"
"&lt;/Directory&gt;\n"
msgstr ""

#: serverguide/C/web-servers.xml:978(para)
msgid ""
"You should also enable the <application>mod_rewrite</application> module for "
"Apache. To enable <application>mod_rewrite</application> module, please "
"enter the following command in a terminal prompt:"
msgstr ""

#: serverguide/C/web-servers.xml:984(command)
msgid "sudo a2enmod rewrite"
msgstr ""

#: serverguide/C/web-servers.xml:987(para)
msgid ""
"Finally you will need to change the ownership of the "
"<filename>/path/to/rails/application/public</filename> and "
"<filename>/path/to/rails/application/tmp</filename> directories to the user "
"used to run the <application>Apache</application> process:"
msgstr ""

#: serverguide/C/web-servers.xml:993(command)
msgid "sudo chown -R www-data:www-data /path/to/rails/application/public"
msgstr ""

#: serverguide/C/web-servers.xml:994(command)
msgid "sudo chown -R www-data:www-data /path/to/rails/application/tmp"
msgstr ""

#: serverguide/C/web-servers.xml:997(para)
msgid ""
"That's it! Now you have your Server ready for your <application>Ruby on "
"Rails</application> applications."
msgstr ""

#: serverguide/C/web-servers.xml:1006(para)
msgid ""
"See the <ulink url=\"http://rubyonrails.org/\">Ruby on Rails</ulink> website "
"for more information."
msgstr ""

#: serverguide/C/web-servers.xml:1011(para)
msgid ""
"Also <ulink url=\"http://pragprog.com/titles/rails3/agile-web-development-"
"with-rails-third-edition\">Agile Development with Rails</ulink> is a great "
"resource."
msgstr ""

#: serverguide/C/web-servers.xml:1022(title)
msgid "Apache Tomcat"
msgstr ""

#: serverguide/C/web-servers.xml:1023(para)
msgid ""
"Apache Tomcat is a web container that allows you to serve Java Servlets and "
"JSP (Java Server Pages) web applications."
msgstr ""

#: serverguide/C/web-servers.xml:1025(para)
msgid ""
"The <application>Tomcat 6.0</application> packages in Ubuntu support two "
"different ways of running Tomcat. You can install them as a classic unique "
"system-wide instance, that will be started at boot time and will run as the "
"tomcat6 unpriviledged user. But you can also deploy private instances that "
"will run with your own user rights, and that you should start and stop by "
"yourself. This second way is particularly useful in a development server "
"context where multiple users need to test on their own private Tomcat "
"instances."
msgstr ""

#: serverguide/C/web-servers.xml:1035(title)
msgid "System-wide installation"
msgstr ""

#: serverguide/C/web-servers.xml:1036(para)
msgid ""
"To install the <application>Tomcat</application> server, you can enter the "
"following command in the terminal prompt:"
msgstr ""

#: serverguide/C/web-servers.xml:1039(command)
msgid "sudo apt-get install tomcat6"
msgstr ""

#: serverguide/C/web-servers.xml:1041(para)
msgid ""
"This will install a Tomcat server with just a default ROOT webapp that "
"displays a minimal \"It works\" page by default."
msgstr ""

#: serverguide/C/web-servers.xml:1047(para)
msgid ""
"Tomcat configuration files can be found in "
"<filename>/etc/tomcat6</filename>. Only a few common configuration tweaks "
"will be described here, please see <ulink "
"url=\"http://tomcat.apache.org/tomcat-6.0-doc/index.html\">Tomcat 6.0 "
"documentation</ulink> for more."
msgstr ""

#: serverguide/C/web-servers.xml:1053(title)
msgid "Changing default ports"
msgstr ""

#: serverguide/C/web-servers.xml:1054(para)
msgid ""
"By default Tomcat 6.0 runs a HTTP connector on port 8080 and an AJP "
"connector on port 8009. You might want to change those default ports to "
"avoid conflict with another server on the system. This is done by changing "
"the following lines in <filename>/etc/tomcat6/server.xml</filename>:"
msgstr ""

#: serverguide/C/web-servers.xml:1059(programlisting)
#, no-wrap
msgid ""
"\n"
"&lt;Connector port=\"8080\" protocol=\"HTTP/1.1\" \n"
"               connectionTimeout=\"20000\" \n"
"               redirectPort=\"8443\" /&gt;\n"
"...\n"
"&lt;Connector port=\"8009\" protocol=\"AJP/1.3\" redirectPort=\"8443\" "
"/&gt;\n"
msgstr ""

#: serverguide/C/web-servers.xml:1068(title)
msgid "Changing JVM used"
msgstr ""

#: serverguide/C/web-servers.xml:1069(para)
msgid ""
"By default Tomcat will run preferably with OpenJDK-6, then try Sun's JVM, "
"then try some other JVMs. If you have various JVMs installed, you can set "
"which should be used by setting JAVA_HOME in "
"<filename>/etc/default/tomcat6</filename>:"
msgstr ""

#: serverguide/C/web-servers.xml:1073(programlisting)
#, no-wrap
msgid ""
"\n"
"JAVA_HOME=/usr/lib/jvm/java-6-sun\n"
msgstr ""

#: serverguide/C/web-servers.xml:1078(title)
msgid "Declaring users and roles"
msgstr ""

#: serverguide/C/web-servers.xml:1079(para)
msgid ""
"Usernames, passwords and roles (groups) can be defined centrally in a "
"Servlet container. In Tomcat 6.0 this is done in the "
"<filename>/etc/tomcat6/tomcat-users.xml</filename> file:"
msgstr ""

#: serverguide/C/web-servers.xml:1082(programlisting)
#, no-wrap
msgid ""
"\n"
"&lt;role rolename=\"admin\"/&gt;\n"
"&lt;user username=\"tomcat\" password=\"s3cret\" roles=\"admin\"/&gt;\n"
msgstr ""

#: serverguide/C/web-servers.xml:1090(title)
msgid "Using Tomcat standard webapps"
msgstr ""

#: serverguide/C/web-servers.xml:1091(para)
msgid ""
"Tomcat is shipped with webapps that you can install for documentation, "
"administration or demo purposes."
msgstr ""

#: serverguide/C/web-servers.xml:1094(title)
msgid "Tomcat documentation"
msgstr ""

#: serverguide/C/web-servers.xml:1095(para)
msgid ""
"The <application>tomcat6-docs</application> package contains Tomcat 6.0 "
"documentation, packaged as a webapp that you can access by default at "
"http://yourserver:8080/docs. You can install it by entering the following "
"command in the terminal prompt:"
msgstr ""

#: serverguide/C/web-servers.xml:1100(command)
msgid "sudo apt-get install tomcat6-docs"
msgstr ""

#: serverguide/C/web-servers.xml:1104(title)
msgid "Tomcat administration webapps"
msgstr ""

#: serverguide/C/web-servers.xml:1105(para)
msgid ""
"The <application>tomcat6-admin</application> package contains two webapps "
"that can be used to administer the Tomcat server using a web interface. You "
"can install them by entering the following command in the terminal prompt:"
msgstr ""

#: serverguide/C/web-servers.xml:1110(command)
msgid "sudo apt-get install tomcat6-admin"
msgstr ""

#: serverguide/C/web-servers.xml:1112(para)
msgid ""
"The first one is the <emphasis>manager</emphasis> webapp, which you can "
"access by default at http://yourserver:8080/manager/html. It is primarily "
"used to get server status and restart webapps."
msgstr ""

#: serverguide/C/web-servers.xml:1115(para)
msgid ""
"Access to the <emphasis>manager</emphasis> application is protected by "
"default: you need to define a user with the role \"manager\" in "
"<filename>/etc/tomcat6/tomcat-users.xml</filename> before you can access it."
msgstr ""

#: serverguide/C/web-servers.xml:1119(para)
msgid ""
"The second one is the <emphasis>host-manager</emphasis> webapp, which you "
"can access by default at http://yourserver:8080/host-manager/html. It can be "
"used to create virtual hosts dynamically."
msgstr ""

#: serverguide/C/web-servers.xml:1123(para)
msgid ""
"Access to the <emphasis>host-manager</emphasis> application is also "
"protected by default: you need to define a user with the role \"admin\" in "
"<filename>/etc/tomcat6/tomcat-users.xml</filename> before you can access it."
msgstr ""

#: serverguide/C/web-servers.xml:1128(para)
msgid ""
"For security reasons, the tomcat6 user cannot write to the "
"<filename>/etc/tomcat6</filename> directory by default. Some features in "
"these admin webapps (application deployment, virtual host creation) need "
"write access to that directory. If you want to use these features execute "
"the following, to give users in the tomcat6 group the necessary rights:"
msgstr ""

#: serverguide/C/web-servers.xml:1135(command)
msgid "sudo chgrp -R tomcat6 /etc/tomcat6"
msgstr ""

#: serverguide/C/web-servers.xml:1136(command)
msgid "sudo chmod -R g+w /etc/tomcat6"
msgstr ""

#: serverguide/C/web-servers.xml:1141(title)
msgid "Tomcat examples webapps"
msgstr ""

#: serverguide/C/web-servers.xml:1142(para)
msgid ""
"The <application>tomcat6-examples</application> package contains two webapps "
"that can be used to test or demonstrate Servlets and JSP features, which you "
"can access them by default at http://yourserver:8080/examples. You can "
"install them by entering the following command in the terminal prompt:"
msgstr ""

#: serverguide/C/web-servers.xml:1148(command)
msgid "sudo apt-get install tomcat6-examples"
msgstr ""

#: serverguide/C/web-servers.xml:1154(title)
msgid "Using private instances"
msgstr ""

#: serverguide/C/web-servers.xml:1155(para)
msgid ""
"Tomcat is heavily used in development and testing scenarios where using a "
"single system-wide instance doesn't meet the requirements of multiple users "
"on a single system. The Tomcat 6.0 packages in Ubuntu come with tools to "
"help deploy your own user-oriented instances, allowing every user on a "
"system to run (without root rights) separate private instances while still "
"using the system-installed libraries."
msgstr ""

#: serverguide/C/web-servers.xml:1162(para)
msgid ""
"It is possible to run the system-wide instance and the private instances in "
"parallel, as long as they do not use the same TCP ports."
msgstr ""

#: serverguide/C/web-servers.xml:1166(title)
msgid "Installing private instance support"
msgstr ""

#: serverguide/C/web-servers.xml:1167(para)
msgid ""
"You can install everything necessary to run private instances by entering "
"the following command in the terminal prompt:"
msgstr ""

#: serverguide/C/web-servers.xml:1170(command)
msgid "sudo apt-get install tomcat6-user"
msgstr ""

#: serverguide/C/web-servers.xml:1174(title)
msgid "Creating a private instance"
msgstr ""

#: serverguide/C/web-servers.xml:1175(para)
msgid ""
"You can create a private instance directory by entering the following "
"command in the terminal prompt:"
msgstr ""

#: serverguide/C/web-servers.xml:1178(command)
msgid "tomcat6-instance-create my-instance"
msgstr ""

#: serverguide/C/web-servers.xml:1180(para)
msgid ""
"This will create a new <filename>my-instance</filename> directory with all "
"the necessary subdirectories and scripts. You can for example install your "
"common libraries in the <filename>lib/</filename> subdirectory and deploy "
"your webapps in the <filename>webapps/</filename> subdirectory. No webapps "
"are deployed by default."
msgstr ""

#: serverguide/C/web-servers.xml:1188(title)
msgid "Configuring your private instance"
msgstr ""

#: serverguide/C/web-servers.xml:1189(para)
msgid ""
"You will find the classic Tomcat configuration files for your private "
"instance in the <filename>conf/</filename> subdirectory. You should for "
"example certainly edit the <filename>conf/server.xml</filename> file to "
"change the default ports used by your private Tomcat instance to avoid "
"conflict with other instances that might be running."
msgstr ""

#: serverguide/C/web-servers.xml:1197(title)
msgid "Starting/stopping your private instance"
msgstr ""

#: serverguide/C/web-servers.xml:1198(para)
msgid ""
"You can start your private instance by entering the following command in the "
"terminal prompt (supposing your instance is located in the <filename>my-"
"instance</filename> directory):"
msgstr ""

#: serverguide/C/web-servers.xml:1202(command)
msgid "my-instance/bin/startup.sh"
msgstr ""

#: serverguide/C/web-servers.xml:1204(para)
msgid ""
"You should check the <filename>logs/</filename> subdirectory for any error. "
"If you have a <emphasis>java.net.BindException: Address already in "
"use&lt;null&gt;:8080</emphasis> error, it means that the port you're using "
"is already taken and that you should change it."
msgstr ""

#: serverguide/C/web-servers.xml:1209(para)
msgid ""
"You can stop your instance by entering the following command in the terminal "
"prompt (supposing your instance is located in the <filename>my-"
"instance</filename> directory):"
msgstr ""

#: serverguide/C/web-servers.xml:1213(command)
msgid "my-instance/bin/shutdown.sh"
msgstr ""

#: serverguide/C/web-servers.xml:1222(para)
msgid ""
"See the <ulink url=\"http://tomcat.apache.org/\">Apache Tomcat</ulink> "
"website for more information."
msgstr ""

#: serverguide/C/web-servers.xml:1227(para)
msgid ""
"<ulink url=\"http://oreilly.com/catalog/9780596003180/\">Tomcat: The "
"Definitive Guide</ulink> is a good resource for building web applications "
"with Tomcat."
msgstr ""

#: serverguide/C/web-servers.xml:1233(para)
msgid ""
"For additional books see the <ulink "
"url=\"http://wiki.apache.org/tomcat/Tomcat/Books\">Tomcat Books</ulink> list "
"page."
msgstr ""

#: serverguide/C/virtualization.xml:13(title)
msgid "Virtualization"
msgstr ""

#: serverguide/C/virtualization.xml:14(para)
msgid ""
"Virtualization is being adopted in many different environments and "
"situations. If you are a developer, virtualization can provide you with a "
"contained environment where you can safely do almost any sort of development "
"safe from messing up your main working environment. If you are a systems "
"administrator, you can use virtualization to more easily separate your "
"services and move them around based on demand."
msgstr ""

#: serverguide/C/virtualization.xml:20(para)
msgid ""
"The default virtualization technology supported in Ubuntu is "
"<application>KVM</application>, a technology that takes advantage of "
"virtualization extensions built into Intel and AMD hardware. For hardware "
"without virtualization extensions <application>Xen</application> and "
"<application>Qemu</application> are popular solutions."
msgstr ""

#: serverguide/C/virtualization.xml:27(title)
msgid "libvirt"
msgstr ""

#: serverguide/C/virtualization.xml:28(para)
msgid ""
"The <application>libvirt</application> library is used to interface with "
"different virtualization technologies. Before getting started with "
"<application>libvirt</application> it is best to make sure your hardware "
"supports the necessary virtualization extensions for "
"<application>KVM</application>. Enter the following from a terminal prompt:"
msgstr ""

#: serverguide/C/virtualization.xml:34(command)
msgid "egrep '(vmx|svm)' /proc/cpuinfo"
msgstr ""

#: serverguide/C/virtualization.xml:36(para)
msgid ""
"If nothing is printed, it means that your cpu does <emphasis>not</emphasis> "
"support hardware virtualization."
msgstr ""

#: serverguide/C/virtualization.xml:40(para)
msgid ""
"On most computer whose processor supports virtualization, it is necessary to "
"activate an option in the bios to enable it. The method described above does "
"not show the status of it's activation."
msgstr ""

#: serverguide/C/virtualization.xml:47(title)
msgid "Virtual Networking"
msgstr ""

#: serverguide/C/virtualization.xml:49(para)
msgid ""
"There are a few different ways to allow a virtual machine access to the "
"external network. The default virtual network configuration is "
"<emphasis>usermode</emphasis> networking, which uses the SLIRP protocol and "
"traffic is NATed through the host interface to the outside network."
msgstr ""

#: serverguide/C/virtualization.xml:54(para)
msgid ""
"To enable external hosts to directly access services on virtual machines a "
"<emphasis>bridge</emphasis> needs to be configured. This allows the virtual "
"interfaces to connect to the outside network through the physical interface, "
"making them appear as normal hosts to the rest of the network. For "
"information on setting up a bridge see <xref linkend=\"bridging\"/>."
msgstr ""

#: serverguide/C/virtualization.xml:63(para)
msgid "To install the necessary packages, from a terminal prompt enter:"
msgstr ""

#: serverguide/C/virtualization.xml:67(command)
msgid "sudo apt-get install kvm libvirt-bin"
msgstr ""

#: serverguide/C/virtualization.xml:69(para)
msgid ""
"After installing <application>libvirt-bin</application>, the user used to "
"manage virtual machines will need to be added to the "
"<emphasis>libvirtd</emphasis> group. Doing so will grant the user access to "
"the advanced networking options."
msgstr ""

#: serverguide/C/virtualization.xml:73(para)
msgid "In a terminal enter:"
msgstr ""

#: serverguide/C/virtualization.xml:77(command)
msgid "sudo adduser $USER libvirtd"
msgstr ""

#: serverguide/C/virtualization.xml:80(para)
msgid ""
"If the user chosen is the current user, you will need to log out and back in "
"for the new group membership to take effect."
msgstr ""

#: serverguide/C/virtualization.xml:84(para)
msgid ""
"You are now ready to install a <emphasis>Guest</emphasis> operating system. "
"Installing a virtual machine follows the same process as installing the "
"operating system directly on the hardware. You either need a way to automate "
"the installation, or a keyboard and monitor will need to be attached to the "
"physical machine."
msgstr ""

#: serverguide/C/virtualization.xml:89(para)
msgid ""
"In the case of virtual machines a Graphical User Interface (GUI) is "
"analogous to using a physical keyboard and mouse. Instead of installing a "
"GUI the <application>virt-viewer</application> application can be used to "
"connect to a virtual machine's console using <application>VNC</application>. "
"See <xref linkend=\"libvirt-virt-viewer\"/> for more information."
msgstr ""

#: serverguide/C/virtualization.xml:94(para)
msgid ""
"There are several ways to automate the Ubuntu installation process, for "
"example using preseeds, kickstart, etc. Refer to the <ulink "
"url=\"https://help.ubuntu.com/9.04/installation-guide/\">Ubuntu Installation "
"Guide</ulink> for details."
msgstr ""

#: serverguide/C/virtualization.xml:98(para)
msgid ""
"Yet another way to install an Ubuntu virtual machine is to use "
"<application>ubuntu-vm-builder</application>. <application>ubuntu-vm-"
"builder</application> allows you to setup advanced partitions, execute "
"custom post-install scripts, etc. For details see <xref linkend=\"jeos-and-"
"vmbuilder\"/>"
msgstr ""

#: serverguide/C/virtualization.xml:104(title)
msgid "virt-install"
msgstr ""

#: serverguide/C/virtualization.xml:105(para)
msgid ""
"<application>virt-install</application> is part of the <application>python-"
"virtinst</application> package. To install it, from a terminal prompt enter:"
msgstr ""

#: serverguide/C/virtualization.xml:109(command)
msgid "sudo apt-get install python-virtinst"
msgstr ""

#: serverguide/C/virtualization.xml:111(para)
msgid ""
"There are several options available when using <application>virt-"
"install</application>. For example:"
msgstr ""

#: serverguide/C/virtualization.xml:115(command)
msgid ""
"sudo virt-install -n web_devel -r 256 -f web_devel.img \\ -s 4 -c jeos.iso --"
"accelerate \\ --connect=qemu:///system --vnc \\ --noautoconsole -v"
msgstr ""

#: serverguide/C/virtualization.xml:122(para)
msgid ""
"<emphasis>-n web_devel:</emphasis> the name of the new virtual machine will "
"be <emphasis>web_devel</emphasis> in this example."
msgstr ""

#: serverguide/C/virtualization.xml:127(para)
msgid ""
"<emphasis>-r 256:</emphasis> specifies the amount of memory the virtual "
"machine will use."
msgstr ""

#: serverguide/C/virtualization.xml:132(para)
msgid ""
"<emphasis>-f web_devel.img:</emphasis> indicates the path to the virtual "
"disk which can be a file, partition, or logical volume. In this example a "
"file named <filename>web_devel.img</filename>."
msgstr ""

#: serverguide/C/virtualization.xml:138(para)
msgid "<emphasis>-s 4:</emphasis> the size of the virtual disk."
msgstr ""

#: serverguide/C/virtualization.xml:143(para)
msgid ""
"<emphasis>-c jeos.iso:</emphasis> file to be used as a virtual CDROM. The "
"file can be either an ISO file or the path to the host's CDROM device."
msgstr ""

#: serverguide/C/virtualization.xml:149(para)
msgid ""
"<emphasis>--accelerate:</emphasis> enables the kernel's acceleration "
"technologies."
msgstr ""

#: serverguide/C/virtualization.xml:154(para)
msgid ""
"<emphasis>--vnc:</emphasis> exports the guest's virtual console using VNC."
msgstr ""

#: serverguide/C/virtualization.xml:159(para)
msgid ""
"<emphasis>--noautoconsole:</emphasis> will not automatically connect to the "
"virtual machine's console."
msgstr ""

#: serverguide/C/virtualization.xml:164(para)
msgid "<emphasis>-v:</emphasis> creates a fully virtualized guest."
msgstr ""

#: serverguide/C/virtualization.xml:169(para)
msgid ""
"After launching <application>virt-install</application> you can connect to "
"the virtual machine's console either locally using a GUI or with the "
"<application>virt-viewer</application> utility."
msgstr ""

#: serverguide/C/virtualization.xml:175(title)
msgid "virt-clone"
msgstr ""

#: serverguide/C/virtualization.xml:176(para)
msgid ""
"The <application>virt-clone</application> application can be used to copy "
"one virtual machine to another. For example:"
msgstr ""

#: serverguide/C/virtualization.xml:180(command)
msgid ""
"sudo virt-clone -o web_devel -n database_devel -f "
"/path/to/database_devel.img --connect=qemu:///system"
msgstr ""

#: serverguide/C/virtualization.xml:184(para)
msgid "<emphasis>-o:</emphasis> original virtual machine."
msgstr ""

#: serverguide/C/virtualization.xml:189(para)
msgid "<emphasis>-n:</emphasis> name of the new virtual machine."
msgstr ""

#: serverguide/C/virtualization.xml:194(para)
msgid ""
"<emphasis>-f:</emphasis> path to the file, logical volume, or partition to "
"be used by the new virtual machine."
msgstr ""

#: serverguide/C/virtualization.xml:199(para)
msgid ""
"<emphasis>--connect:</emphasis> specifies which hypervisor to connect to."
msgstr ""

#: serverguide/C/virtualization.xml:204(para)
msgid ""
"Also, use <emphasis>-d</emphasis> or <emphasis>--debug</emphasis> option to "
"help troubleshoot problems with <application>virt-clone</application>."
msgstr ""

#: serverguide/C/virtualization.xml:209(para)
msgid ""
"Replace <emphasis>web_devel</emphasis> and "
"<emphasis>database_devel</emphasis> with appropriate virtual machine names."
msgstr ""

#: serverguide/C/virtualization.xml:215(title)
msgid "Virtual Machine Management"
msgstr ""

#: serverguide/C/virtualization.xml:217(title)
msgid "virsh"
msgstr ""

#: serverguide/C/virtualization.xml:218(para)
msgid ""
"There are several utilities available to manage virtual machines and "
"<application>libvirt</application>. The <application>virsh</application> "
"utility can be used from the command line. Some examples:"
msgstr ""

#: serverguide/C/virtualization.xml:224(para)
msgid "To list running virtual machines:"
msgstr ""

#: serverguide/C/virtualization.xml:228(command)
msgid "virsh -c qemu:///system list"
msgstr ""

#: serverguide/C/virtualization.xml:232(para)
msgid "To start a virtual machine:"
msgstr ""

#: serverguide/C/virtualization.xml:236(command)
msgid "virsh -c qemu:///system start web_devel"
msgstr ""

#: serverguide/C/virtualization.xml:240(para)
msgid "Similarly, to start a virtual machine at boot:"
msgstr ""

#: serverguide/C/virtualization.xml:244(command)
msgid "virsh -c qemu:///system autostart web_devel"
msgstr ""

#: serverguide/C/virtualization.xml:248(para)
msgid "Reboot a virtual machine with:"
msgstr ""

#: serverguide/C/virtualization.xml:252(command)
msgid "virsh -c qemu:///system reboot web_devel"
msgstr ""

#: serverguide/C/virtualization.xml:256(para)
msgid ""
"The <emphasis>state</emphasis> of virtual machines can be saved to a file in "
"order to be restored later. The following will save the virtual machine "
"state into a file named according to the date:"
msgstr ""

#: serverguide/C/virtualization.xml:261(command)
msgid "virsh -c qemu:///system save web_devel web_devel-022708.state"
msgstr ""

#: serverguide/C/virtualization.xml:263(para)
msgid "Once saved the virtual machine will no longer be running."
msgstr ""

#: serverguide/C/virtualization.xml:268(para)
msgid "A saved virtual machine can be restored using:"
msgstr ""

#: serverguide/C/virtualization.xml:272(command)
msgid "virsh -c qemu:///system restore web_devel-022708.state"
msgstr ""

#: serverguide/C/virtualization.xml:276(para)
msgid "To shutdown a virtual machine do:"
msgstr ""

#: serverguide/C/virtualization.xml:280(command)
msgid "virsh -c qemu:///system shutdown web_devel"
msgstr ""

#: serverguide/C/virtualization.xml:284(para)
msgid "A CDROM device can be mounted in a virtual machine by entering:"
msgstr ""

#: serverguide/C/virtualization.xml:288(command)
msgid "virsh -c qemu:///system attach-disk web_devel /dev/cdrom /media/cdrom"
msgstr ""

#: serverguide/C/virtualization.xml:293(para)
msgid ""
"In the above examples replace <emphasis>web_devel</emphasis> with the "
"appropriate virtual machine name, and <filename>web_devel-"
"022708.state</filename> with a descriptive file name."
msgstr ""

#: serverguide/C/virtualization.xml:300(title)
msgid "Virtual Machine Manager"
msgstr ""

#: serverguide/C/virtualization.xml:301(para)
msgid ""
"The <application>virt-manager</application> package contains a graphical "
"utility to manage local and remote virtual machines. To install virt-manager "
"enter:"
msgstr ""

#: serverguide/C/virtualization.xml:306(command)
msgid "sudo apt-get install virt-manager"
msgstr ""

#: serverguide/C/virtualization.xml:308(para)
msgid ""
"Since <application>virt-manager</application> requires a Graphical User "
"Interface (GUI) environment it is recommended to be installed on a "
"workstation or test machine instead of a production server. To connect to "
"the local <application>libvirt</application> service enter:"
msgstr ""

#: serverguide/C/virtualization.xml:314(command)
msgid "virt-manager -c qemu:///system"
msgstr ""

#: serverguide/C/virtualization.xml:316(para)
msgid ""
"You can connect to the <application>libvirt</application> service running on "
"another host by entering the following in a terminal prompt:"
msgstr ""

#: serverguide/C/virtualization.xml:320(command)
msgid "virt-manager -c qemu+ssh://virtnode1.mydomain.com/system"
msgstr ""

#: serverguide/C/virtualization.xml:323(para)
msgid ""
"The above example assumes that <application>SSH</application> connectivity "
"between the management system and virtnode1.mydomain.com has already been "
"configured, and uses SSH keys for authentication. SSH "
"<emphasis>keys</emphasis> are needed because "
"<application>libvirt</application> sends the password prompt to another "
"process. For details on configuring <application>SSH</application> see <xref "
"linkend=\"openssh-server\"/>"
msgstr ""

#: serverguide/C/virtualization.xml:333(title)
msgid "Virtual Machine Viewer"
msgstr ""

#: serverguide/C/virtualization.xml:334(para)
msgid ""
"The <application>virt-viewer</application> application allows you to connect "
"to a virtual machine's console. <application>virt-viewer</application> does "
"require a Graphical User Interface (GUI) to interface with the virtual "
"machine."
msgstr ""

#: serverguide/C/virtualization.xml:338(para)
msgid ""
"To install <application>virt-viewer</application> from a terminal enter:"
msgstr ""

#: serverguide/C/virtualization.xml:342(command)
msgid "sudo apt-get install virt-viewer"
msgstr ""

#: serverguide/C/virtualization.xml:344(para)
msgid ""
"Once a virtual machine is installed and running you can connect to the "
"virtual machine's console by using:"
msgstr ""

#: serverguide/C/virtualization.xml:348(command)
msgid "virt-viewer -c qemu:///system web_devel"
msgstr ""

#: serverguide/C/virtualization.xml:350(para)
msgid ""
"Similar to <application>virt-manager</application>, <application>virt-"
"viewer</application> can connect to a remote host using "
"<emphasis>SSH</emphasis> with key authentication, as well:"
msgstr ""

#: serverguide/C/virtualization.xml:355(command)
msgid "virt-viewer -c qemu+ssh://virtnode1.mydomain.com/system web_devel"
msgstr ""

#: serverguide/C/virtualization.xml:357(para)
msgid ""
"Be sure to replace <emphasis role=\"italic\">web_devel</emphasis> with the "
"appropriate virtual machine name."
msgstr ""

#: serverguide/C/virtualization.xml:360(para)
msgid ""
"If configured to use a <emphasis>bridged</emphasis> network interface you "
"can also setup <application>SSH</application> access to the virtual machine. "
"See <xref linkend=\"openssh-server\"/> and <xref linkend=\"bridging\"/> for "
"more details."
msgstr ""

#: serverguide/C/virtualization.xml:369(para)
msgid ""
"See the <ulink url=\"http://kvm.qumranet.com/kvmwiki\">KVM</ulink> home page "
"for more details."
msgstr ""

#: serverguide/C/virtualization.xml:374(para)
msgid ""
"For more information on <application>libvirt</application> see the <ulink "
"url=\"http://libvirt.org/\">libvirt home page</ulink>"
msgstr ""

#: serverguide/C/virtualization.xml:379(para)
msgid ""
"The <ulink url=\"http://virt-manager.et.redhat.com/\">Virtual Machine "
"Manager</ulink> site has more information on <application>virt-"
"manager</application> development."
msgstr ""

#: serverguide/C/virtualization.xml:385(para)
msgid ""
"Also, stop by the <emphasis>#ubuntu-virt</emphasis> IRC channel on <ulink "
"url=\"http://freenode.net/\">freenode</ulink> to discuss virtualization "
"technology in Ubuntu."
msgstr ""

#: serverguide/C/virtualization.xml:394(title) serverguide/C/jeos.xml:13(title)
msgid "JeOS and vmbuilder"
msgstr ""

#: serverguide/C/virtualization.xml:400(title) serverguide/C/jeos.xml:19(title)
msgid "What is JeOS"
msgstr ""

#: serverguide/C/virtualization.xml:402(para) serverguide/C/jeos.xml:21(para)
msgid ""
"Ubuntu <emphasis>JeOS</emphasis> (pronounced \"Juice\") is an efficient "
"variant of the Ubuntu Server operating system, configured specifically for "
"virtual appliances. No longer available as a CD-ROM ISO for download, but "
"only as an option either:"
msgstr ""

#: serverguide/C/virtualization.xml:409(para)
msgid ""
"While installing from the Server Edition ISO (pressing "
"<emphasis>F4</emphasis> on the first screen will allow you to pick \"Minimal "
"installation\", which is the package selection equivalent to JeOS)."
msgstr ""

#: serverguide/C/virtualization.xml:415(para) serverguide/C/jeos.xml:34(para)
msgid "Or to be built using Ubuntu's vmbuilder, which is described here."
msgstr ""

#: serverguide/C/virtualization.xml:421(para) serverguide/C/jeos.xml:40(para)
msgid ""
"JeOS is a specialized installation of Ubuntu Server Edition with a tuned "
"kernel that only contains the base elements needed to run within a "
"virtualized environment."
msgstr ""

#: serverguide/C/virtualization.xml:426(para) serverguide/C/jeos.xml:45(para)
msgid ""
"Ubuntu JeOS has been tuned to take advantage of key performance technologies "
"in the latest virtualization products from VMware. This combination of "
"reduced size and optimized performance ensures that Ubuntu JeOS Edition "
"delivers a highly efficient use of server resources in large virtual "
"deployments."
msgstr ""

#: serverguide/C/virtualization.xml:432(para) serverguide/C/jeos.xml:51(para)
msgid ""
"Without unnecessary drivers, and only the minimal required packages, ISVs "
"can configure their supporting OS exactly as they require. They have the "
"peace of mind that updates, whether for security or enhancement reasons, "
"will be limited to the bare minimum of what is required in their specific "
"environment. In turn, users deploying virtual appliances built on top of "
"JeOS will have to go through fewer updates and therefore less maintenance "
"than they would have had to with a standard full installation of a server."
msgstr ""

#: serverguide/C/virtualization.xml:441(title) serverguide/C/jeos.xml:60(title)
msgid "What is vmbuilder"
msgstr ""

#: serverguide/C/virtualization.xml:443(para) serverguide/C/jeos.xml:62(para)
msgid ""
"With vmbuilder, there is no need to download a JeOS ISO anymore. vmbuilder "
"will fetch the various package and build a virtual machine tailored for our "
"need in about a minute for us. Vmbuilder is a Script that automates the "
"process of creating a ready to use Linux based VM. The currently supported "
"hypervisors are KVM and Xen."
msgstr ""

#: serverguide/C/virtualization.xml:449(para) serverguide/C/jeos.xml:68(para)
msgid ""
"You can pass command line options to add extra packages, remove packages, "
"choose which version of Ubuntu, which mirror etc. On recent hardware with "
"plenty of RAM, tmpdir in <filename>/dev/shm</filename> or using a tmpfs, and "
"a local mirror, you can bootstrap a VM in less than a minute."
msgstr ""

#: serverguide/C/virtualization.xml:455(para) serverguide/C/jeos.xml:74(para)
msgid ""
"First introduced as a shell script in Ubuntu 8.04LTS, <application>ubuntu-vm-"
"builder</application> started with little emphasis as a hack to help "
"developers test their new code in a virtual machine without having to "
"restart from scratch each time. As a few Ubuntu administrators started to "
"notice this script, a few of them went on improving it and adapting it for "
"so many use case that Soren Hansen (the author of the script and Ubuntu "
"virtualization specialist, not the golf player) decided to rewrite it from "
"scratch for Intrepid as a python script with a few new design goals:"
msgstr ""

#: serverguide/C/virtualization.xml:465(para) serverguide/C/jeos.xml:84(para)
msgid "Develop it so that it can be reused by other distributions."
msgstr ""

#: serverguide/C/virtualization.xml:470(para) serverguide/C/jeos.xml:89(para)
msgid ""
"Use a plugin mechanisms for all virtualization interactions so that others "
"can easily add logic for other virtualization environments."
msgstr ""

#: serverguide/C/virtualization.xml:475(para) serverguide/C/jeos.xml:94(para)
msgid ""
"Provide an easy to maintain web interface as an option to the command line "
"interface."
msgstr ""

#: serverguide/C/virtualization.xml:481(para) serverguide/C/jeos.xml:100(para)
msgid "But the general principles and commands remain the same."
msgstr ""

#: serverguide/C/virtualization.xml:488(title) serverguide/C/jeos.xml:107(title)
msgid "Initial Setup"
msgstr ""

#: serverguide/C/virtualization.xml:490(para) serverguide/C/jeos.xml:109(para)
msgid ""
"It is assumed that you have installed and configured "
"<application>libvirt</application> and <application>KVM</application> "
"locally on the machine you are using. For details on how to perform this, "
"please refer to:"
msgstr ""

#: serverguide/C/virtualization.xml:502(para) serverguide/C/jeos.xml:121(para)
msgid ""
"The <ulink url=\"https://help.ubuntu.com/community/KVM\">KVM</ulink> Wiki "
"page."
msgstr ""

#: serverguide/C/virtualization.xml:508(para) serverguide/C/jeos.xml:127(para)
msgid ""
"We also assume that you know how to use a text based text editor such as "
"nano or vi. If you have not used any of them before, you can get an overview "
"of the various text editors available by reading the <ulink "
"url=\"https://help.ubuntu.com/community/PowerUsersTextEditors\">PowerUsersTex"
"tEditors</ulink> page. This tutorial has been done on KVM, but the general "
"principle should remain on other virtualization technologies."
msgstr ""

#: serverguide/C/virtualization.xml:516(title) serverguide/C/jeos.xml:135(title)
msgid "Install vmbuilder"
msgstr ""

#: serverguide/C/virtualization.xml:518(para) serverguide/C/jeos.xml:137(para)
msgid ""
"The name of the package that we need to install is <application>python-vm-"
"builder</application>. In a terminal prompt enter:"
msgstr ""

#: serverguide/C/virtualization.xml:523(command) serverguide/C/jeos.xml:142(command)
msgid "sudo apt-get install python-vm-builder"
msgstr ""

#: serverguide/C/virtualization.xml:527(para) serverguide/C/jeos.xml:146(para)
msgid ""
"If you are running Hardy, you can still perform most of this using the older "
"version of the package named <application>ubuntu-vm-builder</application>, "
"there are only a few changes to the syntax of the tool."
msgstr ""

#: serverguide/C/virtualization.xml:536(title) serverguide/C/jeos.xml:155(title)
msgid "Defining Your Virtual Machine"
msgstr ""

#: serverguide/C/virtualization.xml:538(para) serverguide/C/jeos.xml:157(para)
msgid ""
"Defining a virtual machine with Ubuntu's vmbuilder is quite simple, but here "
"are a few thing to consider:"
msgstr ""

#: serverguide/C/virtualization.xml:544(para) serverguide/C/jeos.xml:163(para)
msgid ""
"If you plan on shipping a virtual appliance, do not assume that the end-user "
"will know how to extend disk size to fit their need, so either plan for a "
"large virtual disk to allow for your appliance to grow, or explain fairly "
"well in your documentation how to allocate more space. It might actually be "
"a good idea to store data on some separate external storage."
msgstr ""

#: serverguide/C/virtualization.xml:551(para) serverguide/C/jeos.xml:170(para)
msgid ""
"Given that RAM is much easier to allocate in a VM, RAM size should be set to "
"whatever you think is a safe minimum for your appliance."
msgstr ""

#: serverguide/C/virtualization.xml:557(para) serverguide/C/jeos.xml:176(para)
msgid ""
"The <application>vmbuilder</application> command has 2 main parameters: the "
"<emphasis>virtualization technology (hypervisor)</emphasis> and the targeted "
"<emphasis>distribution</emphasis>. Optional parameters are quite numerous "
"and can be found using the following command:"
msgstr ""

#: serverguide/C/virtualization.xml:563(command) serverguide/C/jeos.xml:182(command)
msgid "vmbuilder --help"
msgstr ""

#: serverguide/C/virtualization.xml:567(title) serverguide/C/jeos.xml:186(title)
msgid "Base Parameters"
msgstr ""

#: serverguide/C/virtualization.xml:569(para) serverguide/C/jeos.xml:188(para)
msgid ""
"As this example is based on <application>KVM</application> and Ubuntu 9.04 "
"(Jaunty Jackalope), and we are likely to rebuild the same virtual machine "
"multiple time, we'll invoke vmbuilder with the following first parameters:"
msgstr ""

#: serverguide/C/virtualization.xml:575(command) serverguide/C/jeos.xml:194(command)
msgid ""
"sudo vmbuilder kvm ubuntu --suite jaunty --flavour virtual --arch i386 -o --"
"libvirt qemu:///system"
msgstr ""

#: serverguide/C/virtualization.xml:578(para) serverguide/C/jeos.xml:197(para)
msgid ""
"The <emphasis>--suite</emphasis> defines the Ubuntu release, the <emphasis>--"
"flavour</emphasis> specifies that we want to use the virtual kernel (that's "
"the one used to build a JeOS image), the <emphasis>--arch</emphasis> tells "
"that we want to use a 32 bit machine, the <emphasis>-o</emphasis> tells "
"vmbuilder to overwrite the previous version of the VM and the <emphasis>--"
"libvirt</emphasis> tells to inform the local virtualization environment to "
"add the resulting VM to the list of available machines."
msgstr ""

#: serverguide/C/virtualization.xml:586(para) serverguide/C/jeos.xml:205(para)
msgid "Notes:"
msgstr ""

#: serverguide/C/virtualization.xml:592(para)
msgid ""
"Because of the nature of operations performed by vmbuilder, it needs to have "
"root privilege, hence the use of sudo."
msgstr ""

#: serverguide/C/virtualization.xml:597(para) serverguide/C/jeos.xml:216(para)
msgid ""
"If your virtual machine needs to use more than 3Gb of ram, you should build "
"a 64 bit machine (--arch amd64)."
msgstr ""

#: serverguide/C/virtualization.xml:602(para) serverguide/C/jeos.xml:221(para)
msgid ""
"Until Ubuntu 8.10, the virtual kernel was only built for 32 bit "
"architecture, so if you want to define an amd64 machine on Hardy, you should "
"use <emphasis>--flavour</emphasis> server instead."
msgstr ""

#: serverguide/C/virtualization.xml:610(title) serverguide/C/jeos.xml:229(title)
msgid "JeOS Installation Parameters"
msgstr ""

#: serverguide/C/virtualization.xml:613(title) serverguide/C/jeos.xml:232(title)
msgid "JeOS Networking"
msgstr ""

#: serverguide/C/virtualization.xml:616(title) serverguide/C/jeos.xml:235(title)
msgid "Assigning a fixed IP address"
msgstr ""

#: serverguide/C/virtualization.xml:618(para) serverguide/C/jeos.xml:237(para)
msgid ""
"As a virtual appliance that may be deployed on various very different "
"networks, it is very difficult to know what the actual network will look "
"like. In order to simplify configuration, it is a good idea to take an "
"approach similar to what network hardware vendors usually do, namely "
"assigning an initial fixed IP address to the appliance in a private class "
"network that you will provide in your documentation. An address in the range "
"192.168.0.0/255 is usually a good choice."
msgstr ""

#: serverguide/C/virtualization.xml:625(para) serverguide/C/jeos.xml:244(para)
msgid "To do this we'll use the following parameters:"
msgstr ""

#: serverguide/C/virtualization.xml:631(para) serverguide/C/jeos.xml:250(para)
msgid ""
"<emphasis>--ip ADDRESS</emphasis>: IP address in dotted form (defaults to "
"dhcp if not specified)"
msgstr ""

#: serverguide/C/virtualization.xml:636(para) serverguide/C/jeos.xml:255(para)
msgid ""
"<emphasis>--mask VALUE</emphasis>: IP mask in dotted form (default: "
"255.255.255.0)"
msgstr ""

#: serverguide/C/virtualization.xml:641(para) serverguide/C/jeos.xml:260(para)
msgid "<emphasis>--net VALUE</emphasis>: IP net address (default: X.X.X.0)"
msgstr ""

#: serverguide/C/virtualization.xml:646(para) serverguide/C/jeos.xml:265(para)
msgid "<emphasis>--bcast VALUE</emphasis>: IP broadcast (default: X.X.X.255)"
msgstr ""

#: serverguide/C/virtualization.xml:651(para) serverguide/C/jeos.xml:270(para)
msgid "<emphasis>--gw ADDRESS</emphasis>: Gateway address (default: X.X.X.1)"
msgstr ""

#: serverguide/C/virtualization.xml:656(para) serverguide/C/jeos.xml:275(para)
msgid ""
"<emphasis>--dns ADDRESS</emphasis>: Name server address (default: X.X.X.1)"
msgstr ""

#: serverguide/C/virtualization.xml:662(para) serverguide/C/jeos.xml:281(para)
msgid ""
"We assume for now that default values are good enough, so the resulting "
"invocation becomes:"
msgstr ""

#: serverguide/C/virtualization.xml:667(command) serverguide/C/jeos.xml:286(command)
msgid ""
"sudo vmbuilder kvm ubuntu --suite jaunty --flavour virtual --arch i386 -o --"
"libvirt qemu:///system --ip 192.168.0.100"
msgstr ""

#: serverguide/C/virtualization.xml:672(title) serverguide/C/jeos.xml:291(title)
msgid "Modifying the libvirt Template to use Bridging"
msgstr ""

#: serverguide/C/virtualization.xml:674(para) serverguide/C/jeos.xml:293(para)
msgid ""
"Because our appliance will be likely to need to be accessed by remote hosts, "
"we need to configure libvirt so that the appliance uses bridge networking. "
"To do this we use vmbuilder template mechanism to modify the default one."
msgstr ""

#: serverguide/C/virtualization.xml:679(para) serverguide/C/jeos.xml:298(para)
msgid ""
"In our working directory we create the template hierarchy and copy the "
"default template:"
msgstr ""

#: serverguide/C/virtualization.xml:684(command) serverguide/C/jeos.xml:303(command)
msgid "mkdir -p VMBuilder/plugins/libvirt/templates"
msgstr ""

#: serverguide/C/virtualization.xml:685(command) serverguide/C/jeos.xml:304(command)
msgid "cp /etc/vmbuilder/libvirt/* VMBuilder/plugins/libvirt/templates/"
msgstr ""

#: serverguide/C/virtualization.xml:688(para) serverguide/C/jeos.xml:307(para)
msgid ""
"We can then edit "
"<filename>VMBuilder/plugins/libvirt/templates/libvirtxml.tmpl</filename> to "
"change:"
msgstr ""

#: serverguide/C/virtualization.xml:692(programlisting) serverguide/C/jeos.xml:311(programlisting)
#, no-wrap
msgid ""
"\n"
"          &lt;interface type='network'&gt;\n"
"            &lt;source network='default'/&gt;\n"
"          &lt;/interface&gt;\n"
msgstr ""

#: serverguide/C/virtualization.xml:698(para) serverguide/C/jeos.xml:317(para)
msgid "To:"
msgstr ""

#: serverguide/C/virtualization.xml:702(programlisting)
#, no-wrap
msgid ""
"\n"
"          &lt;interface type='bridge'&gt;\n"
"            &lt;source bridge='br0'/&gt;\n"
"          &lt;/interface&gt;\n"
msgstr ""

#: serverguide/C/virtualization.xml:712(title) serverguide/C/jeos.xml:331(title) serverguide/C/installation.xml:406(title)
msgid "Partitioning"
msgstr ""

#: serverguide/C/virtualization.xml:714(para) serverguide/C/jeos.xml:333(para)
msgid ""
"Partitioning of the virtual appliance will have to take into consideration "
"what you are planning to do with is. Because most appliances want to have a "
"separate storage for data, having a separate <filename>/var</filename> would "
"make sense."
msgstr ""

#: serverguide/C/virtualization.xml:719(para) serverguide/C/jeos.xml:338(para)
msgid ""
"In order to do this vmbuilder provides us with <emphasis>--part</emphasis>:"
msgstr ""

#: serverguide/C/virtualization.xml:723(programlisting) serverguide/C/jeos.xml:342(programlisting)
#, no-wrap
msgid ""
"\n"
"--part PATH\n"
"  Allows to specify a partition table in partfile each  line  of  partfile  "
"should  specify\n"
"  (root first):\n"
"      mountpoint size\n"
"  where  size  is  in megabytes. You can have up to 4 virtual disks, a new "
"disk starts on a\n"
"  line with ---.  ie :\n"
"      root 1000\n"
"      /opt 1000\n"
"      swap 256\n"
"      ---\n"
"      /var 2000\n"
"      /log 1500\n"
msgstr ""

#: serverguide/C/virtualization.xml:738(para) serverguide/C/jeos.xml:357(para)
msgid ""
"In our case we will define a text file name "
"<filename>vmbuilder.partition</filename> which will contain the following:"
msgstr ""

#: serverguide/C/virtualization.xml:742(programlisting) serverguide/C/jeos.xml:361(programlisting)
#, no-wrap
msgid ""
"\n"
"root 8000\n"
"swap 4000\n"
"---\n"
"/var 20000\n"
msgstr ""

#: serverguide/C/virtualization.xml:750(para) serverguide/C/jeos.xml:369(para)
msgid ""
"Note that as we are using virtual disk images, the actual sizes that we put "
"here are maximum sizes for these volumes."
msgstr ""

#: serverguide/C/virtualization.xml:755(para) serverguide/C/jeos.xml:374(para)
msgid "Our command line now looks like:"
msgstr ""

#: serverguide/C/virtualization.xml:760(command) serverguide/C/jeos.xml:379(command)
msgid ""
"sudo vmbuilder kvm ubuntu --suite jaunty --flavour virtual --arch i386 \\ -o "
"--libvirt qemu:///system --ip 192.168.0.100 --part vmbuilder.partition"
msgstr ""

#: serverguide/C/virtualization.xml:765(para) serverguide/C/jeos.xml:384(para)
msgid ""
"Using a \"\\\" in a command will allow long command strings to wrap to the "
"next line."
msgstr ""

#: serverguide/C/virtualization.xml:772(title) serverguide/C/jeos.xml:391(title)
msgid "User and Password"
msgstr ""

#: serverguide/C/virtualization.xml:774(para) serverguide/C/jeos.xml:393(para)
msgid ""
"Again setting up a virtual appliance, you will need to provide a default "
"user and password that is generic so that you can include it in your "
"documentation. We will see later on in this tutorial how we will provide "
"some security by defining a script that will be run the first time a user "
"actually logs in the appliance, that will, among other things, ask him to "
"change his password. In this example I will use <emphasis>'user'</emphasis> "
"as my user name, and <emphasis>'default'</emphasis> as the password."
msgstr ""

#: serverguide/C/virtualization.xml:782(para) serverguide/C/jeos.xml:401(para)
msgid "To do this we use the following optional parameters:"
msgstr ""

#: serverguide/C/virtualization.xml:788(para) serverguide/C/jeos.xml:407(para)
msgid ""
"<emphasis>--user USERNAME:</emphasis> Sets the name of the user to be added. "
"Default: ubuntu."
msgstr ""

#: serverguide/C/virtualization.xml:793(para) serverguide/C/jeos.xml:412(para)
msgid ""
"<emphasis>--name FULLNAME:</emphasis> Sets the full name of the user to be "
"added. Default: Ubuntu."
msgstr ""

#: serverguide/C/virtualization.xml:798(para) serverguide/C/jeos.xml:417(para)
msgid ""
"<emphasis>--pass PASSWORD:</emphasis> Sets the password for the user. "
"Default: ubuntu."
msgstr ""

#: serverguide/C/virtualization.xml:804(para) serverguide/C/jeos.xml:423(para)
msgid "Our resulting command line becomes:"
msgstr ""

#: serverguide/C/virtualization.xml:809(command) serverguide/C/jeos.xml:428(command)
msgid ""
"sudo vmbuilder kvm ubuntu --suite intrepid --flavour virtual --arch i386 \\ -"
"o --libvirt qemu:///system --ip 192.168.0.100 --part vmbuilder.partition \\ -"
"-user user --name user --pass default"
msgstr ""

#: serverguide/C/virtualization.xml:817(title) serverguide/C/jeos.xml:436(title)
msgid "Installing Required Packages"
msgstr ""

#: serverguide/C/virtualization.xml:819(para) serverguide/C/jeos.xml:438(para)
msgid ""
"In this example we will be installing a package "
"<application>(Limesurvey)</application> that accesses a "
"<application>MySQL</application> database and has a web interface. We will "
"therefore require our OS to provide us with:"
msgstr ""

#: serverguide/C/virtualization.xml:826(para) serverguide/C/jeos.xml:445(para)
msgid "Apache"
msgstr ""

#: serverguide/C/virtualization.xml:827(para) serverguide/C/jeos.xml:446(para)
msgid "PHP"
msgstr ""

#: serverguide/C/virtualization.xml:828(para) serverguide/C/jeos.xml:447(para) serverguide/C/databases.xml:19(trademark) serverguide/C/databases.xml:31(title)
msgid "MySQL"
msgstr ""

#: serverguide/C/virtualization.xml:829(para) serverguide/C/remote-administration.xml:20(title) serverguide/C/jeos.xml:448(para)
msgid "OpenSSH Server"
msgstr ""

#: serverguide/C/virtualization.xml:830(para) serverguide/C/jeos.xml:449(para)
msgid "Limesurvey (as an example application that we have packaged)"
msgstr ""

#: serverguide/C/virtualization.xml:833(para) serverguide/C/jeos.xml:452(para)
msgid ""
"This is done using vmbuilder by specifying the --addpkg command multiple "
"times:"
msgstr ""

#: serverguide/C/virtualization.xml:837(programlisting) serverguide/C/jeos.xml:456(programlisting)
#, no-wrap
msgid ""
"\n"
"--addpkg PKG\n"
"  Install PKG into the guest (can be specfied multiple times)\n"
msgstr ""

#: serverguide/C/virtualization.xml:842(para) serverguide/C/jeos.xml:461(para)
msgid ""
"However, due to the way vmbuilder operates, packages that have to ask "
"questions to the user during the post install phase are not supported and "
"should instead be installed while interactivity can occur. This is the case "
"of Limesurvey, which we will have to install later, once the user logs in."
msgstr ""

#: serverguide/C/virtualization.xml:848(para) serverguide/C/jeos.xml:467(para)
msgid ""
"Other packages that ask simple debconf question, such as <application>mysql-"
"server</application> asking to set a password, the package can be installed "
"immediately, but we will have to reconfigure it the first time the user logs "
"in."
msgstr ""

#: serverguide/C/virtualization.xml:854(para) serverguide/C/jeos.xml:473(para)
msgid ""
"If some packages that we need to install are not in main, we need to enable "
"the additional repositories using --comp and --ppa:"
msgstr ""

#: serverguide/C/virtualization.xml:858(programlisting) serverguide/C/jeos.xml:477(programlisting)
#, no-wrap
msgid ""
"\n"
"--components COMP1,COMP2,...,COMPN\n"
"           A comma separated list of distro components to include (e.g. "
"main,universe). This defaults\n"
"           to \"main\"\n"
"--ppa=PPA  Add ppa belonging to PPA to the vm's sources.list.\n"
msgstr ""

#: serverguide/C/virtualization.xml:865(para) serverguide/C/jeos.xml:484(para)
msgid ""
"Limesurvey not being part of the archive at the moment, we'll specify it's "
"PPA (personal package archive) address so that it is added to the VM "
"<filename>/etc/apt/source.list</filename>, so we add the following options "
"to the command line:"
msgstr ""

#: serverguide/C/virtualization.xml:871(command) serverguide/C/jeos.xml:490(command)
msgid ""
"--addpkg apache2 --addpkg apache2-mpm-prefork --addpkg apache2-utils --"
"addpkg apache2.2-common \\ --addpkg dbconfig-common --addpkg libapache2-mod-"
"php5 --addpkg mysql-client --addpkg php5-cli \\ --addpkg php5-gd --addpkg "
"php5-ldap --addpkg php5-mysql --addpkg wwwconfig-common \\ --addpkg mysql-"
"server --ppa nijaba"
msgstr ""

#: serverguide/C/virtualization.xml:878(title) serverguide/C/jeos.xml:497(title)
msgid "OpenSSH"
msgstr ""

#: serverguide/C/virtualization.xml:880(para)
msgid ""
"Another convenient tool that we want to have on our appliance is OpenSSH, as "
"it will allow our admins to access the appliance remotely. However, pushing "
"in the wild an appliance with a pre-installed OpenSSH server is a big "
"security risk as all these server will share the same secret key, making it "
"very easy for hackers to target our appliance with all the tools they need "
"to crack it open in a breeze. As for the user password, we will instead rely "
"on a script that will install OpenSSH the first time a user logs in so that "
"the key generated will be different for each appliance. For this we'll use a "
"<emphasis>--firstboot</emphasis> script, as it does not need any user "
"interaction."
msgstr ""

#: serverguide/C/virtualization.xml:892(title) serverguide/C/jeos.xml:511(title)
msgid "Speed Considerations"
msgstr ""

#: serverguide/C/virtualization.xml:895(title) serverguide/C/jeos.xml:514(title)
msgid "Package Caching"
msgstr ""

#: serverguide/C/virtualization.xml:897(para) serverguide/C/jeos.xml:516(para)
msgid ""
"When vmbuilder creates builds your system, it has to go fetch each one of "
"the packages that composes it over the network to one of the official "
"repositories, which, depending on your internet connection speed and the "
"load of the mirror, can have a big impact on the actual build time. In order "
"to reduce this, it is recommended to either have a local repository (which "
"can be created using <application>apt-mirror</application>) or using a "
"caching proxy such as <application>apt-cache</application>. The later option "
"being much simpler to implement and requiring less disk space, it is the one "
"we will pick in this tutorial. To install it, simply type:"
msgstr ""

#: serverguide/C/virtualization.xml:907(command) serverguide/C/jeos.xml:526(command)
msgid "sudo apt-get install apt-proxy"
msgstr ""

#: serverguide/C/virtualization.xml:910(para) serverguide/C/jeos.xml:529(para)
msgid ""
"Once this is complete, your (empty) proxy is ready for use on "
"http://mirroraddress:9999 and will find ubuntu repository under /ubuntu. For "
"vmbuilder to use it, we'll have to use the <emphasis>--mirror</emphasis> "
"option:"
msgstr ""

#: serverguide/C/virtualization.xml:915(programlisting) serverguide/C/jeos.xml:534(programlisting)
#, no-wrap
msgid ""
"\n"
"--mirror=URL  Use Ubuntu mirror at URL instead of the default, which\n"
"              is http://archive.ubuntu.com/ubuntu for official\n"
"              arches and http://ports.ubuntu.com/ubuntu-ports\n"
"              otherwise\n"
msgstr ""

#: serverguide/C/virtualization.xml:922(para) serverguide/C/jeos.xml:541(para)
msgid "So we add to the command line:"
msgstr ""

#: serverguide/C/virtualization.xml:927(command) serverguide/C/jeos.xml:546(command)
msgid "--mirror http://mirroraddress:9999/ubuntu"
msgstr ""

#: serverguide/C/virtualization.xml:931(para) serverguide/C/jeos.xml:550(para)
msgid ""
"The mirror address specified here will also be used in the "
"<filename>/etc/apt/source.list</filename> of the newly created guest, so it "
"is usefull to specify here an address that can be resolved by the guest or "
"to plan on reseting this address later on, such as in a <emphasis>--"
"firstboot</emphasis> script."
msgstr ""

#: serverguide/C/virtualization.xml:940(title) serverguide/C/jeos.xml:559(title)
msgid "Install a Local Mirror"
msgstr ""

#: serverguide/C/virtualization.xml:942(para) serverguide/C/jeos.xml:561(para)
msgid ""
"If we are in a larger environment, it may make sense to setup a local mirror "
"of the Ubuntu repositories. The package apt-mirror provides you with a "
"script that will handle the mirroring for you. You should plan on having "
"about 20 gigabyte of free space per supported release and architecture."
msgstr ""

#: serverguide/C/virtualization.xml:948(para) serverguide/C/jeos.xml:567(para)
msgid ""
"By default, <application>apt-mirror</application> uses the configuration "
"file in <filename>/etc/apt/mirror.list</filename>. As it is set up, it will "
"replicate only the architecture of the local machine. If you would like to "
"support other architectures on your mirror, simply duplicate the lines "
"starting with deb, replacing the deb keyword by /deb-{arch} where arch can "
"be i386, amd64, etc... For example, on an amd64 machine, to have the i386 "
"archives as well, you will have:"
msgstr ""

#: serverguide/C/virtualization.xml:955(programlisting) serverguide/C/jeos.xml:574(programlisting)
#, no-wrap
msgid ""
"\n"
"deb  http://archive.ubuntu.com/ubuntu jaunty main restricted universe "
"multiverse \n"
"/deb-i386  http://archive.ubuntu.com/ubuntu jaunty main restricted universe "
"multiverse\n"
"\n"
"deb  http://archive.ubuntu.com/ubuntu jaunty-updates main restricted "
"universe multiverse \n"
"/deb-i386  http://archive.ubuntu.com/ubuntu jaunty-updates main restricted "
"universe multiverse \n"
"\n"
"deb http://archive.ubuntu.com/ubuntu/ jaunty-backports main restricted "
"universe multiverse \n"
"/deb-i386  http://archive.ubuntu.com/ubuntu jaunty-backports main restricted "
"universe multiverse \n"
"\n"
"deb http://security.ubuntu.com/ubuntu jaunty-security main restricted "
"universe multiverse \n"
"/deb-i386  http://security.ubuntu.com/ubuntu jaunty-security main restricted "
"universe multiverse \n"
"\n"
"deb http://archive.ubuntu.com/ubuntu jaunty main/debian-installer "
"restricted/debian-installer universe/debian-installer multiverse/debian-"
"installer \n"
"/deb-i386 http://archive.ubuntu.com/ubuntu jaunty main/debian-installer "
"restricted/debian-installer universe/debian-installer multiverse/debian-"
"installer \n"
msgstr ""

#: serverguide/C/virtualization.xml:972(para) serverguide/C/jeos.xml:591(para)
msgid ""
"Notice that the source packages are not mirrored as they are seldom used "
"compared to the binaries and they do take a lot more space, but they can be "
"easily added to the list."
msgstr ""

#: serverguide/C/virtualization.xml:977(para) serverguide/C/jeos.xml:596(para)
msgid ""
"Once the mirror has finished replicating (and this can be quite long), you "
"need to configure Apache so that your mirror files (in "
"<filename>/var/spool/apt-mirror</filename> if you did not change the "
"default), are published by your Apache server. For more information on "
"Apache see <xref linkend=\"httpd\"/>."
msgstr ""

#: serverguide/C/virtualization.xml:986(title) serverguide/C/jeos.xml:605(title)
msgid "Installing in a RAM Disk"
msgstr ""

#: serverguide/C/virtualization.xml:988(para) serverguide/C/jeos.xml:607(para)
msgid ""
"As you can easily imagine, writing to RAM is a <emphasis>LOT</emphasis> "
"faster than writing to disk. If you have some free memory, letting vmbuilder "
"perform its operation in a RAMdisk will help a lot and the option <emphasis>-"
"-tmpfs</emphasis> will help you do just that:"
msgstr ""

#: serverguide/C/virtualization.xml:994(programlisting) serverguide/C/jeos.xml:613(programlisting)
#, no-wrap
msgid ""
"\n"
"--tmpfs OPTS  Use a tmpfs as the working directory, specifying its\n"
"              size or \"-\" to use tmpfs default (suid,dev,size=1G).\n"
msgstr ""

#: serverguide/C/virtualization.xml:999(para) serverguide/C/jeos.xml:618(para)
msgid ""
"So adding <command>--tmpfs -</command> sounds like a very good idea if you "
"have 1G of free ram."
msgstr ""

#: serverguide/C/virtualization.xml:1006(title) serverguide/C/jeos.xml:625(title)
msgid "Package the Application"
msgstr ""

#: serverguide/C/virtualization.xml:1008(para) serverguide/C/jeos.xml:627(para)
msgid "Two option are available to us:"
msgstr ""

#: serverguide/C/virtualization.xml:1014(para) serverguide/C/jeos.xml:633(para)
msgid ""
"The recommended method to do so is to make a <emphasis>Debian</emphasis> "
"package. Since this is outside of the scope of this tutorial, we will not "
"perform this here and invite the reader to read the documentation on how to "
"do this in the <ulink url=\"https://wiki.ubuntu.com/PackagingGuide\">Ubuntu "
"Packaging Guide</ulink>. In this case it is also a good idea to setup a "
"repository for your package so that updates can be conveniently pulled from "
"it. See the <ulink url=\"http://www.debian-"
"administration.org/articles/286\">Debian Administration</ulink> article for "
"a tutorial on this."
msgstr ""

#: serverguide/C/virtualization.xml:1023(para) serverguide/C/jeos.xml:642(para)
msgid ""
"Manually install the application under <filename>/opt</filename> as "
"recommended by the <ulink url=\"http://www.pathname.com/fhs/\">FHS "
"guidelines</ulink>."
msgstr ""

#: serverguide/C/virtualization.xml:1030(para) serverguide/C/jeos.xml:649(para)
msgid ""
"In our case we'll use <application>Limesurvey</application> as example web "
"application for which we wish to provide a virtual appliance. As noted "
"before, we've made a version of the package available in a PPA (Personal "
"Package Archive)."
msgstr ""

#: serverguide/C/virtualization.xml:1037(title) serverguide/C/jeos.xml:656(title)
msgid "Finishing Install"
msgstr ""

#: serverguide/C/virtualization.xml:1040(title) serverguide/C/jeos.xml:659(title)
msgid "First Boot"
msgstr ""

#: serverguide/C/virtualization.xml:1042(para) serverguide/C/jeos.xml:661(para)
msgid ""
"As we mentioned earlier, the first time the machine boots we'll need to "
"install <application>openssh-server</application> so that the key generated "
"for it is unique for each machine. To do this, we'll write a script called "
"<filename>boot.sh</filename> as follows:"
msgstr ""

#: serverguide/C/virtualization.xml:1048(programlisting) serverguide/C/jeos.xml:667(programlisting)
#, no-wrap
msgid ""
"\n"
"# This script will run the first time the virtual machine boots\n"
"# It is ran as root.\n"
"\n"
"apt-get update\n"
"apt-get install -qqy --force-yes openssh-server\n"
msgstr ""

#: serverguide/C/virtualization.xml:1056(para) serverguide/C/jeos.xml:675(para)
msgid ""
"And we add the <command>--firstboot boot.sh</command> option to our command "
"line."
msgstr ""

#: serverguide/C/virtualization.xml:1062(title) serverguide/C/jeos.xml:681(title)
msgid "First Login"
msgstr ""

#: serverguide/C/virtualization.xml:1064(para) serverguide/C/jeos.xml:683(para)
msgid ""
"Mysql and Limesurvey needing some user interaction during their setup, we'll "
"set them up the first time a user logs in using a script named login.sh. "
"We'll also use this script to let the user specify:"
msgstr ""

#: serverguide/C/virtualization.xml:1070(para) serverguide/C/jeos.xml:689(para)
msgid "His own password"
msgstr ""

#: serverguide/C/virtualization.xml:1071(para) serverguide/C/jeos.xml:690(para)
msgid "Define the keyboard and other locale info he wants to use"
msgstr ""

#: serverguide/C/virtualization.xml:1074(para) serverguide/C/jeos.xml:693(para)
msgid "So we'll define <filename>login.sh</filename> as follows:"
msgstr ""

#: serverguide/C/virtualization.xml:1078(programlisting) serverguide/C/jeos.xml:697(programlisting)
#, no-wrap
msgid ""
"\n"
"# This script is ran the first time a user logs in\n"
"\n"
"echo \"Your appliance is about to be finished to be set up.\"\n"
"echo \"In order to do it, we'll need to ask you a few questions,\"\n"
"echo \"starting by changing your user password.\"\n"
"\n"
"passwd\n"
"\n"
"#give the opportunity to change the keyboard\n"
"sudo dpkg-reconfigure console-setup\n"
"\n"
"#configure the mysql server root password\n"
"sudo dpkg-reconfigure mysql-server-5.0\n"
"\n"
"#install limesurvey\n"
"sudo apt-get install -qqy --force-yes limesurvey\n"
"\n"
"echo \"Your appliance is now configured.  To use it point your\"\n"
"echo \"browser to http://serverip/limesurvey/admin\"\n"
msgstr ""

#: serverguide/C/virtualization.xml:1100(para) serverguide/C/jeos.xml:719(para)
msgid ""
"And we add the <command>--firstlogin login.sh</command> option to our "
"command line."
msgstr ""

#: serverguide/C/virtualization.xml:1107(title) serverguide/C/jeos.xml:726(title)
msgid "Useful Additions"
msgstr ""

#: serverguide/C/virtualization.xml:1110(title) serverguide/C/jeos.xml:729(title)
msgid "Configuring Automatic Updates"
msgstr ""

#: serverguide/C/virtualization.xml:1112(para) serverguide/C/jeos.xml:731(para)
msgid ""
"To have your system be configured to update itself on a regular basis, we "
"will just install <application>unattended-upgrades</application>, so we add "
"the following option to our command line:"
msgstr ""

#: serverguide/C/virtualization.xml:1118(command) serverguide/C/jeos.xml:737(command)
msgid "--addpkg unattended-upgrades"
msgstr ""

#: serverguide/C/virtualization.xml:1121(para) serverguide/C/jeos.xml:740(para)
msgid ""
"As we have put our application package in a PPA, the process will update not "
"only the system, but also the application each time we update the version in "
"the PPA."
msgstr ""

#: serverguide/C/virtualization.xml:1128(title) serverguide/C/jeos.xml:747(title)
msgid "ACPI Event Handling"
msgstr ""

#: serverguide/C/virtualization.xml:1130(para) serverguide/C/jeos.xml:749(para)
msgid ""
"For your virtual machine to be able to handle restart and shutdown events it "
"is being sent, it is a good idea to install the acpid package as well. To do "
"this we just add the following option:"
msgstr ""

#: serverguide/C/virtualization.xml:1136(command) serverguide/C/jeos.xml:755(command)
msgid "--addpkg acpid"
msgstr ""

#: serverguide/C/virtualization.xml:1142(title) serverguide/C/jeos.xml:761(title)
msgid "Final Command"
msgstr ""

#: serverguide/C/virtualization.xml:1144(para) serverguide/C/jeos.xml:763(para)
msgid "Here is what the command with all the options discussed above:"
msgstr ""

#: serverguide/C/virtualization.xml:1149(command) serverguide/C/jeos.xml:768(command)
msgid ""
"sudo vmbuilder kvm ubuntu --suite intrepid --flavour virtual --arch i386 -o "
"\\ --libvirt qemu:///system --ip 192.168.0.100 --part vmbuilder.partition --"
"user user \\ --name user --pass default --addpkg apache2 --addpkg apache2-"
"mpm-prefork \\ --addpkg apache2-utils --addpkg apache2.2-common --addpkg "
"dbconfig-common \\ --addpkg libapache2-mod-php5 --addpkg mysql-client --"
"addpkg php5-cli \\ --addpkg php5-gd --addpkg php5-ldap --addpkg php5-mysql --"
"addpkg wwwconfig-common \\ --addpkg mysql-server --addpkg unattended-"
"upgrades --addpkg acpid --ppa nijaba \\ --mirror "
"http://mirroraddress:9999/ubuntu --tmpfs - --firstboot boot.sh \\ --"
"firstlogin login.sh es"
msgstr ""

#: serverguide/C/virtualization.xml:1164(para) serverguide/C/jeos.xml:783(para)
msgid ""
"If you are interested in learning more, have questions or suggestions, "
"please contact the Ubuntu Server Team at:"
msgstr ""

#: serverguide/C/virtualization.xml:1169(para) serverguide/C/jeos.xml:788(para)
msgid "IRC: #ubuntu-server on freenode"
msgstr ""

#: serverguide/C/virtualization.xml:1174(para) serverguide/C/jeos.xml:793(para)
msgid ""
"Mailing list: <ulink url=\"https://lists.ubuntu.com/mailman/listinfo/ubuntu-"
"server\">ubuntu-server at lists.ubuntu.com</ulink>"
msgstr ""

#: serverguide/C/virtualization.xml:1182(title)
msgid "Eucalyptus"
msgstr ""

#: serverguide/C/virtualization.xml:1185(title) serverguide/C/network-auth.xml:1670(title) serverguide/C/lamp-applications.xml:17(title) serverguide/C/installation.xml:878(title) serverguide/C/dns.xml:64(title) serverguide/C/backups.xml:541(title)
msgid "Overview"
msgstr ""

#: serverguide/C/virtualization.xml:1187(para)
msgid ""
"<emphasis>Eucalyptus</emphasis> is an open-source software infrastructure "
"for implementing \"cloud computing\" on your own clusters. "
"<emphasis>Eucalyptus</emphasis> allows you to create your own cloud "
"computing environment in order to maximize computing resources and provide a "
"cloud computing environment to your users."
msgstr ""

#: serverguide/C/virtualization.xml:1193(para)
msgid ""
"This section will cover setting up a Cloud Computing environment using "
"<application>Eucalyptus</application> with <application>KVM</application>. "
"For more information on KVM see <xref linkend=\"libvirt\"/>."
msgstr ""

#: serverguide/C/virtualization.xml:1198(para)
msgid ""
"The Cloud Computing environment will consist of three components, typically "
"installed on at least two separate machines (termed the 'front-end' and "
"'node(s)' for the rest of this document):"
msgstr ""

#: serverguide/C/virtualization.xml:1205(para)
msgid ""
"<emphasis>One Front-End:</emphasis> hosts one Cloud Controller, a Java based "
"Web configuration interface, and a Cluster Controller, which determines "
"where virtual machines (VMs) will be housed and manages cluster level VM "
"networking."
msgstr ""

#: serverguide/C/virtualization.xml:1211(para)
msgid ""
"<emphasis>One or more Compute Nodes:</emphasis> runs the Node Controller "
"component of Eucalyptus, which allows the machine to be part of the cloud as "
"a host for VMs."
msgstr ""

#: serverguide/C/virtualization.xml:1218(para)
msgid ""
"The simple <emphasis>System</emphasis> networking option will be used by "
"default. This network method allows virtual machine instances, to obtain IP "
"addresses from the local LAN, assuming that a DHCP server is properly "
"configured on the LAN to hand out IPs dynamically to VMs that request them. "
"Each node will be configured for bridge networking. For more details see "
"<xref linkend=\"bridging\"/>."
msgstr ""

#: serverguide/C/virtualization.xml:1228(para)
msgid ""
"First, on the <emphasis>Front-End</emphasis> install the appropriate "
"packages. In a terminal prompt on the Front-End enter:"
msgstr ""

#: serverguide/C/virtualization.xml:1233(command)
msgid "sudo apt-get install eucalyptus-cloud eucalyptus-cc"
msgstr ""

#: serverguide/C/virtualization.xml:1236(para)
msgid ""
"Next, on the each <emphasis>Compute Node</emphasis> install the node "
"controller package. In a terminal prompt on each Compute Node enter:"
msgstr ""

#: serverguide/C/virtualization.xml:1241(command)
msgid "sudo apt-get install eucalyptus-nc"
msgstr ""

#: serverguide/C/virtualization.xml:1244(para)
msgid ""
"Once the installation is complete, and it may take a while, in a browser go "
"to <emphasis>https://front-end:8443</emphasis> and login to the "
"administration interface using the default username and password of "
"<emphasis>admin</emphasis>. You will then be prompted to change the "
"password, configure an email address for the admin user, and set the storage "
"URL."
msgstr ""

#: serverguide/C/virtualization.xml:1250(para)
msgid ""
"In the web interface's <emphasis>\"Configuration\"</emphasis> tab, add a "
"cluster under the <emphasis>\"Clusters\"</emphasis> heading (in this "
"configuration, the cluster controller is on the same system as the cloud "
"controller, so entering 'localhost' as the cluster hostname is correct). "
"Once the form is filled out click the <emphasis>\"Add Cluster\"</emphasis> "
"button."
msgstr ""

#: serverguide/C/virtualization.xml:1256(para)
msgid ""
"Now, back on the <emphasis>Front-End</emphasis>, add the nodes to the "
"cluster:"
msgstr ""

#: serverguide/C/virtualization.xml:1261(command)
msgid "sudo euca_conf -addnode hostname_of_node"
msgstr ""

#: serverguide/C/virtualization.xml:1264(para)
msgid ""
"You will then be prompted to log into your Node, install the "
"<application>eucalyptus-nc</application> package, and add the "
"<emphasis>eucalyptus</emphasis> user's ssh key to the node's "
"<filename>authorized_keys</filename> file, and confirm authenticity of the "
"host's OpenSSH RSA key fingerprint. Finally, the command will complete by "
"synchronizing the eucalyptus component keys and node registration is "
"complete."
msgstr ""

#: serverguide/C/virtualization.xml:1270(para)
msgid ""
"On the Node, the <filename>/etc/eucalyptus/eucalyptus.conf</filename> "
"configuration file will need editing to use your node's bridge interface "
"(assuming here that the interface is named <emphasis>'br0'</emphasis>):"
msgstr ""

#: serverguide/C/virtualization.xml:1275(programlisting)
#, no-wrap
msgid ""
"\n"
"VNET_INTERFACE=\"br0\"\n"
"...\n"
"VNET_BRIDGE=\"br0\"\n"
msgstr ""

#: serverguide/C/virtualization.xml:1281(para)
msgid "Finally, restart <application>eucalyptus-nc</application>:"
msgstr ""

#: serverguide/C/virtualization.xml:1286(command)
msgid "sudo /etc/init.d/eucalyptus-nc restart"
msgstr ""

#: serverguide/C/virtualization.xml:1291(para)
msgid ""
"Be sure to replace <emphasis>nodecontroller</emphasis>, "
"<emphasis>node01</emphasis>, and <emphasis>node02</emphasis> with actual "
"hostnames."
msgstr ""

#: serverguide/C/virtualization.xml:1297(para)
msgid ""
"<application>Eucalyptus</application> is now ready to host images on the "
"cloud."
msgstr ""

#: serverguide/C/virtualization.xml:1307(para)
msgid ""
"See the <ulink url=\"http://eucalyptus.cs.ucsb.edu/\">Eucalyptus "
"website</ulink> for more information."
msgstr ""

#: serverguide/C/virtualization.xml:1312(para)
msgid ""
"For information on loading instances see the <ulink "
"url=\"https://help.ubuntu.com/community/Eucalyptus\">Eucalyptus Wiki</ulink> "
"page."
msgstr ""

#: serverguide/C/virtualization.xml:1317(para)
msgid ""
"You can also find help in the <emphasis>#ubuntu-virt</emphasis>, "
"<emphasis>#eucalyptus</emphasis>, and <emphasis>#ubuntu-server</emphasis> "
"IRC channels on <ulink url=\"http://freenode.net\">Freenode</ulink>."
msgstr ""

#: serverguide/C/virtualization.xml:1327(title)
msgid "OpenNebula"
msgstr ""

#: serverguide/C/virtualization.xml:1329(para)
msgid ""
"<application>OpenNebula</application> allows virtual machines to be placed "
"and re-placed dynamically on a pool of physical resources. This allows a "
"virtual machine to be hosted from any location available."
msgstr ""

#: serverguide/C/virtualization.xml:1334(para)
msgid ""
"This section will detail configuring an OpenNebula cluster using three "
"machines: one <emphasis>Front-End</emphasis> host, and two <emphasis>Compute "
"Nodes</emphasis> used to run the virtual machines. The Compute Nodes will "
"also need a bridge configured to allow the virtual machines access to the "
"local network. For details see <xref linkend=\"bridging\"/>."
msgstr ""

#: serverguide/C/virtualization.xml:1343(para)
msgid "First, from a terminal on the Front-End enter:"
msgstr ""

#: serverguide/C/virtualization.xml:1348(command)
msgid "sudo apt-get install opennebula"
msgstr ""

#: serverguide/C/virtualization.xml:1351(para)
msgid "On each Compute Node install:"
msgstr ""

#: serverguide/C/virtualization.xml:1356(command)
msgid "sudo apt-get install opennebula-node"
msgstr ""

#: serverguide/C/virtualization.xml:1359(para)
msgid ""
"In order to copy SSH keys, the <emphasis>oneadmin</emphasis> user will need "
"to have a password. On each machine execute:"
msgstr ""

#: serverguide/C/virtualization.xml:1364(command)
msgid "sudo passwd oneadmin"
msgstr ""

#: serverguide/C/virtualization.xml:1367(para)
msgid ""
"Next, copy the <emphasis>oneadmin</emphasis> user's SSH key to the Compute "
"Nodes, and to the Front-End's <filename>authorized_keys</filename> file:"
msgstr ""

#: serverguide/C/virtualization.xml:1372(command)
msgid ""
"sudo scp /var/lib/one/.ssh/id_rsa.pub "
"oneadmin@node01:/var/lib/one/.ssh/authorized_keys"
msgstr ""

#: serverguide/C/virtualization.xml:1373(command)
msgid ""
"sudo scp /var/lib/one/.ssh/id_rsa.pub "
"oneadmin@node02:/var/lib/one/.ssh/authorized_keys"
msgstr ""

#: serverguide/C/virtualization.xml:1374(command)
msgid ""
"sudo sh -c \"cat /var/lib/one/.ssh/id_rsa.pub &gt;&gt; "
"/var/lib/one/.ssh/authorized_keys\""
msgstr ""

#: serverguide/C/virtualization.xml:1377(para)
msgid ""
"The SSH key for the Compute Nodes needs to be added to the "
"<filename>/etc/ssh/ssh_known_hosts</filename> file on the Front-End host. To "
"accomplish this <application>ssh</application> to each Compute Node as a "
"user other than <emphasis>oneadmin</emphasis>. Then exit from the SSH "
"session, and execute the following to copy the SSH key from "
"<filename>~/.ssh/known_hosts</filename> to "
"<filename>/etc/ssh/ssh_known_hosts</filename>:"
msgstr ""

#: serverguide/C/virtualization.xml:1384(command)
msgid ""
"sudo sh -c \"ssh-keygen -f .ssh/known_hosts -F node01 1&gt;&gt; "
"/etc/ssh/ssh_known_hosts\""
msgstr ""

#: serverguide/C/virtualization.xml:1385(command)
msgid ""
"sudo sh -c \"ssh-keygen -f .ssh/known_hosts -F node02 1&gt;&gt; "
"/etc/ssh/ssh_known_hosts\""
msgstr ""

#: serverguide/C/virtualization.xml:1389(para)
msgid ""
"Replace <emphasis>node01</emphasis> and <emphasis>node02</emphasis> with the "
"appropriate host names."
msgstr ""

#: serverguide/C/virtualization.xml:1394(para)
msgid ""
"This allows the <emphasis>oneadmin</emphasis> to use "
"<application>scp</application>, without a password or manual intervention, "
"to deploy an image to the Compute Nodes."
msgstr ""

#: serverguide/C/virtualization.xml:1399(para)
msgid ""
"On the Front-End create a directory to store the VM images, giving the "
"<emphasis>oneadmin</emphasis> user access to the directory:"
msgstr ""

#: serverguide/C/virtualization.xml:1404(command)
msgid "sudo mkdir /var/lib/one/images"
msgstr ""

#: serverguide/C/virtualization.xml:1405(command)
msgid "sudo chown oneadmin /var/lib/one/images/"
msgstr ""

#: serverguide/C/virtualization.xml:1408(para)
msgid ""
"Finally, copy a virtual machine disk file into "
"<filename>/var/lib/one/images</filename>. You can create an Ubuntu virtual "
"machine using <application>vmbuilder</application>, see <xref linkend=\"jeos-"
"and-vmbuilder\"/> for details."
msgstr ""

#: serverguide/C/virtualization.xml:1417(para)
msgid ""
"The <emphasis>OpenNebula Cluster</emphasis> is now ready to be configured, "
"and virtual machines added to the cluster."
msgstr ""

#: serverguide/C/virtualization.xml:1421(para)
msgid "From a terminal prompt enter:"
msgstr ""

#: serverguide/C/virtualization.xml:1426(command)
msgid "onehost create node01 im_kvm vmm_kvm tm_ssh"
msgstr ""

#: serverguide/C/virtualization.xml:1427(command)
msgid "onehost create node02 im_kvm vmm_kvm tm_ssh"
msgstr ""

#: serverguide/C/virtualization.xml:1430(para)
msgid ""
"Next, create a <emphasis>Virtual Network</emphasis> template file named "
"<filename>vnet01.template</filename>:"
msgstr ""

#: serverguide/C/virtualization.xml:1434(programlisting)
#, no-wrap
msgid ""
"\n"
"NAME            = \"LAN\"\n"
"TYPE            = RANGED\n"
"BRIDGE          = br0\n"
"NETWORK_SIZE    = C\n"
"NETWORK_ADDRESS = 192.168.0.0\n"
msgstr ""

#: serverguide/C/virtualization.xml:1443(para)
msgid ""
"Be sure to change <emphasis>192.168.0.0</emphasis> to your local network."
msgstr ""

#: serverguide/C/virtualization.xml:1448(para)
msgid ""
"Using the <application>onevnet</application> utility, add the virtual "
"network to OpenNebula:"
msgstr ""

#: serverguide/C/virtualization.xml:1453(command)
msgid "onevnet create vnet01.template"
msgstr ""

#: serverguide/C/virtualization.xml:1456(para)
msgid ""
"Now create a <emphasis>VM Template</emphasis> file named "
"<filename>vm01.template</filename>:"
msgstr ""

#: serverguide/C/virtualization.xml:1460(programlisting)
#, no-wrap
msgid ""
"\n"
"NAME   = vm01\n"
"CPU    = 0.5\n"
"MEMORY = 512\n"
"\n"
"OS      = [ BOOT   = hd ]\n"
"\n"
"DISK   = [\n"
"  source   = \"/var/lib/one/images/vm01.qcow2\",\n"
"  target   = \"hda\",\n"
"  readonly = \"no\" ]\n"
"\n"
"NIC    = [ NETWORK=\"LAN\" ]\n"
"\n"
"GRAPHICS = [type=\"vnc\",listen=\"127.0.0.1\",port=\"-1\"]\n"
msgstr ""

#: serverguide/C/virtualization.xml:1477(para)
msgid "Start the virtual machine using <application>onevm</application>:"
msgstr ""

#: serverguide/C/virtualization.xml:1482(command)
msgid "onevm submit vm01.template"
msgstr ""

#: serverguide/C/virtualization.xml:1485(para)
msgid ""
"Use the <application>onevm list</application> option to view information "
"about virtual machines. Also, the <application>onevm show vm01</application> "
"option will display more details about a specific virtual machine."
msgstr ""

#: serverguide/C/virtualization.xml:1496(para)
msgid ""
"See the <ulink "
"url=\"http://www.opennebula.org/doku.php?id=start\">OpenNebula website</ulink"
"> for more information."
msgstr ""

#: serverguide/C/virtualization.xml:1501(para)
msgid ""
"You can also find help in the <emphasis>#ubuntu-virt</emphasis> and "
"<emphasis>#ubuntu-server</emphasis> IRC channels on <ulink "
"url=\"http://freenode.net\">Freenode</ulink>."
msgstr ""

#: serverguide/C/vcs.xml:13(title)
msgid "Version Control System"
msgstr ""

#: serverguide/C/vcs.xml:14(para)
msgid ""
"Version control is the art of managing changes to information. It has long "
"been a critical tool for programmers, who typically spend their time making "
"small changes to software and then undoing those changes the next day. But "
"the usefulness of version control software extends far beyond the bounds of "
"the software development world. Anywhere you can find people using computers "
"to manage information that changes often, there is room for version control."
msgstr ""

#: serverguide/C/vcs.xml:17(title)
msgid "Bazaar"
msgstr ""

#: serverguide/C/vcs.xml:18(para)
msgid ""
"Bazaar is a new version control system sponsored by Canonical, the "
"commercial company behind Ubuntu. Unlike Subversion and CVS that only "
"support a central repository model, Bazaar also supports "
"<emphasis>distributed version control</emphasis>, giving people the ability "
"to collaborate more efficiently. In particular, Bazaar is designed to "
"maximize the level of community participation in open source projects."
msgstr ""

#: serverguide/C/vcs.xml:29(para)
msgid ""
"At a terminal prompt, enter the following command to install "
"<application>bzr</application>: <screen>\n"
"<command>sudo apt-get install bzr</command>\n"
"</screen>"
msgstr ""

#: serverguide/C/vcs.xml:40(para)
msgid ""
"To introduce yourself to <application>bzr</application>, use the "
"<emphasis>whoami</emphasis> command like this: <screen>\n"
"<command>$ bzr whoami 'Joe Doe &lt;joe.doe@gmail.com&gt;'</command>\n"
"</screen>"
msgstr ""

#: serverguide/C/vcs.xml:49(title)
msgid "Learning Bazaar"
msgstr ""

#: serverguide/C/vcs.xml:50(para)
msgid ""
"Bazaar comes with bundled documentation installed into "
"<application>/usr/share/doc/bzr/html</application> by default. The tutorial "
"is a good place to start. The <application>bzr</application> command also "
"comes with built-in help: <screen>\n"
"<command>$ bzr help</command>\n"
"</screen>"
msgstr ""

#: serverguide/C/vcs.xml:60(para)
msgid ""
"To learn more about the <emphasis>foo</emphasis> command: <screen>\n"
"<command>$ bzr help foo</command>\n"
"</screen>"
msgstr ""

#: serverguide/C/vcs.xml:68(title)
msgid "Launchpad Integration"
msgstr ""

#: serverguide/C/vcs.xml:69(para)
msgid ""
"While highly useful as a stand-alone system, Bazaar has good, optional "
"integration with <ulink url=\"https://launchpad.net/\">Launchpad</ulink>, "
"the collaborative development system used by Canonical and the broader open "
"source community to manage and extend Ubuntu itself. For information on how "
"Bazaar can be used with Launchpad to collaborate on open source projects, "
"see <ulink url=\"http://bazaar-vcs.org/LaunchpadIntegration/\"> "
"http://bazaar-vcs.org/LaunchpadIntegration</ulink>."
msgstr ""

#: serverguide/C/vcs.xml:81(title)
msgid "Subversion"
msgstr ""

#: serverguide/C/vcs.xml:82(para)
msgid ""
"Subversion is an open source version control system. Using Subversion, you "
"can record the history of source files and documents. It manages files and "
"directories over time. A tree of files is placed into a central repository. "
"The repository is much like an ordinary file server, except that it "
"remembers every change ever made to files and directories."
msgstr ""

#: serverguide/C/vcs.xml:87(para)
msgid ""
"To access Subversion repository using the HTTP protocol, you must install "
"and configure a web server. Apache2 is proven to work with Subversion. "
"Please refer to the HTTP subsection in the Apache2 section to install and "
"configure Apache2. To access the Subversion repository using the HTTPS "
"protocol, you must install and configure a digital certificate in your "
"Apache 2 web server. Please refer to the HTTPS subsection in the Apache2 "
"section to install and configure the digital certificate."
msgstr ""

#: serverguide/C/vcs.xml:96(para)
msgid ""
"To install Subversion, run the following command from a terminal prompt:"
msgstr ""

#: serverguide/C/vcs.xml:101(command)
msgid "sudo apt-get install subversion libapache2-svn"
msgstr ""

#: serverguide/C/vcs.xml:107(title)
msgid "Server Configuration"
msgstr ""

#: serverguide/C/vcs.xml:108(para)
msgid ""
"This step assumes you have installed above mentioned packages on your "
"system. This section explains how to create a Subversion repository and "
"access the project."
msgstr ""

#: serverguide/C/vcs.xml:111(title)
msgid "Create Subversion Repository"
msgstr ""

#: serverguide/C/vcs.xml:112(para)
msgid ""
"The Subversion repository can be created using the following command from a "
"terminal prompt:"
msgstr ""

#: serverguide/C/vcs.xml:116(command)
msgid "svnadmin create /path/to/repos/project"
msgstr ""

#: serverguide/C/vcs.xml:121(title)
msgid "Importing Files"
msgstr ""

#: serverguide/C/vcs.xml:122(para)
msgid ""
"Once you create the repository you can <emphasis>import</emphasis> files "
"into the repository. To import a directory, enter the following from a "
"terminal prompt: <screen>\n"
"<command>svn import /path/to/import/directory "
"file:///path/to/repos/project</command>\n"
"</screen>"
msgstr ""

#: serverguide/C/vcs.xml:134(title) serverguide/C/vcs.xml:139(title)
msgid "Access Methods"
msgstr ""

#: serverguide/C/vcs.xml:135(para)
msgid ""
"Subversion repositories can be accessed (checked out) through many different "
"methods --on local disk, or through various network protocols. A repository "
"location, however, is always a URL. The table describes how different URL "
"schemes map to the available access methods."
msgstr ""

#: serverguide/C/vcs.xml:146(para)
msgid "Schema"
msgstr ""

#: serverguide/C/vcs.xml:147(para)
msgid "Access Method"
msgstr ""

#: serverguide/C/vcs.xml:152(para)
msgid "file://"
msgstr ""

#: serverguide/C/vcs.xml:153(para)
msgid "direct repository access (on local disk)"
msgstr ""

#: serverguide/C/vcs.xml:156(para)
msgid "http://"
msgstr ""

#: serverguide/C/vcs.xml:157(para)
msgid "Access via WebDAV protocol to Subversion-aware Apache2 web server"
msgstr ""

#: serverguide/C/vcs.xml:160(para)
msgid "https://"
msgstr ""

#: serverguide/C/vcs.xml:161(para)
msgid "Same as http://, but with SSL encryption"
msgstr ""

#: serverguide/C/vcs.xml:164(para)
msgid "svn://"
msgstr ""

#: serverguide/C/vcs.xml:165(para)
msgid "Access via custom protocol to an svnserve server"
msgstr ""

#: serverguide/C/vcs.xml:168(para)
msgid "svn+ssh://"
msgstr ""

#: serverguide/C/vcs.xml:169(para)
msgid "Same as svn://, but through an SSH tunnel"
msgstr ""

#: serverguide/C/vcs.xml:175(para)
msgid ""
"In this section, we will see how to configure Subversion for all these "
"access methods. Here, we cover the basics. For more advanced usage details, "
"refer to the <ulink url=\"http://svnbook.red-bean.com/\">svn book</ulink>."
msgstr ""

#: serverguide/C/vcs.xml:182(title)
msgid "Direct repository access (file://)"
msgstr ""

#: serverguide/C/vcs.xml:183(para)
msgid ""
"This is the simplest of all access methods. It does not require any "
"Subversion server process to be running. This access method is used to "
"access Subversion from the same machine. The syntax of the command, entered "
"at a terminal prompt, is as follows:"
msgstr ""

#: serverguide/C/vcs.xml:190(command)
msgid "svn co file:///path/to/repos/project"
msgstr ""

#: serverguide/C/vcs.xml:193(para)
msgid "or"
msgstr ""

#: serverguide/C/vcs.xml:196(command)
msgid "svn co file://localhost/path/to/repos/project"
msgstr ""

#: serverguide/C/vcs.xml:200(para)
msgid ""
"If you do not specify the hostname, there are three forward slashes (///) -- "
"two for the protocol (file, in this case) plus the leading slash in the "
"path. If you specify the hostname, you must use two forward slashes (//)."
msgstr ""

#: serverguide/C/vcs.xml:202(para)
msgid ""
"The repository permissions depend on filesystem permissions. If the user has "
"read/write permission, he can checkout from and commit to the repository."
msgstr ""

#: serverguide/C/vcs.xml:205(title)
msgid "Access via WebDAV protocol (http://)"
msgstr ""

#: serverguide/C/vcs.xml:206(para)
msgid ""
"To access the Subversion repository via WebDAV protocol, you must configure "
"your Apache 2 web server. You must add the following snippet in your "
"<filename>/etc/apache2/apache2.conf</filename> file:"
msgstr ""

#: serverguide/C/vcs.xml:208(programlisting)
#, no-wrap
msgid ""
" &lt;Location /svn&gt;\n"
"  DAV svn\n"
"  SVNParentPath /home/svn\n"
"  AuthType Basic\n"
"  AuthName \"Your repository name\"\n"
"  AuthUserFile /etc/subversion/passwd\n"
"  &lt;LimitExcept GET PROPFIND OPTIONS REPORT&gt;\n"
"  Require valid-user\n"
"  &lt;/LimitExcept&gt;\n"
"  &lt;/Location&gt; "
msgstr ""

#: serverguide/C/vcs.xml:219(para)
msgid ""
"The above configuration snippet assumes that Subversion repositories are "
"created under <filename>/home/svn/</filename> directory using "
"<command>svnadmin</command> command. They can be accessible using "
"<command>htpp://hostname/svn/repos_name</command> url."
msgstr ""

#: serverguide/C/vcs.xml:225(para)
msgid ""
"To import or commit files to your Subversion repository over HTTP, the "
"repository should be owned by the HTTP user. In Ubuntu systems, normally the "
"HTTP user is <command>www-data</command>. To change the ownership of the "
"repository files enter the following command from terminal prompt:"
msgstr ""

#: serverguide/C/vcs.xml:234(command)
msgid "sudo chown -R www-data:www-data /path/to/repos"
msgstr ""

#: serverguide/C/vcs.xml:237(para)
msgid ""
"By changing the ownership of repository as <command>www-data</command> you "
"will not be able to import or commit files into the repository by running "
"<command>svn import file:///</command> command as any user other than "
"<command>www-data</command>."
msgstr ""

#: serverguide/C/vcs.xml:246(para)
msgid ""
"Next, you must create the <filename>/etc/subversion/passwd</filename> file "
"that will contain user authentication details. To create a file issue the "
"following command at a command prompt (which will create the file and add "
"the first user):"
msgstr ""

#: serverguide/C/vcs.xml:252(command)
msgid "sudo htpasswd -c /etc/subversion/passwd user_name"
msgstr ""

#: serverguide/C/vcs.xml:255(para)
msgid ""
"To add additional users omit the <emphasis>\"-c\"</emphasis> option as this "
"option replaces the old file. Instead use this form:"
msgstr ""

#: serverguide/C/vcs.xml:260(command)
msgid "sudo htpasswd /etc/subversion/password user_name"
msgstr ""

#: serverguide/C/vcs.xml:264(para)
msgid ""
"This command will prompt you to enter the password. Once you enter the "
"password, the user is added. Now, to access the repository you can run the "
"following command:"
msgstr ""

#: serverguide/C/vcs.xml:265(command)
msgid "svn co http://servername/svn"
msgstr ""

#: serverguide/C/vcs.xml:267(para)
msgid ""
"The password is transmitted as plain text. If you are worried about password "
"snooping, you are advised to use SSL encryption. For details, please refer "
"next section."
msgstr ""

#: serverguide/C/vcs.xml:273(title)
msgid "Access via WebDAV protocol with SSL encryption (https://)"
msgstr ""

#: serverguide/C/vcs.xml:274(para)
msgid ""
"Accessing Subversion repository via WebDAV protocol with SSL encryption "
"(https://) is similar to http:// except that you must install and configure "
"the digital certificate in your Apache2 web server."
msgstr ""

#: serverguide/C/vcs.xml:281(para)
msgid ""
"You can install a digital certificate issued by a signing authority like "
"Verisign. Alternatively, you can install your own self-signed certificate."
msgstr ""

#: serverguide/C/vcs.xml:286(para)
msgid ""
"This step assumes you have installed and configured a digital certificate in "
"your Apache 2 web server. Now, to access the Subversion repository, please "
"refer to the above section! The access methods are exactly the same, except "
"the protocol. You must use https:// to access the Subversion repository."
msgstr ""

#: serverguide/C/vcs.xml:296(title)
msgid "Access via custom protocol (svn://)"
msgstr ""

#: serverguide/C/vcs.xml:297(para)
msgid ""
"Once the Subversion repository is created, you can configure the access "
"control. You can edit the <filename> "
"/path/to/repos/project/conf/svnserve.conf</filename> file to configure the "
"access control. For example, to set up authentication, you can uncomment the "
"following lines in the configuration file:"
msgstr ""

#: serverguide/C/vcs.xml:304(programlisting)
#, no-wrap
msgid ""
"# [general]\n"
"# password-db = passwd"
msgstr ""

#: serverguide/C/vcs.xml:307(para)
msgid ""
"After uncommenting the above lines, you can maintain the user list in the "
"passwd file. So, edit the file <filename>passwd </filename> in the same "
"directory and add the new user. The syntax is as follows:"
msgstr ""

#: serverguide/C/vcs.xml:313(programlisting)
#, no-wrap
msgid "username = password"
msgstr ""

#: serverguide/C/vcs.xml:314(para)
msgid "For more details, please refer to the file."
msgstr ""

#: serverguide/C/vcs.xml:318(para)
msgid ""
"Now, to access Subversion via the svn:// custom protocol, either from the "
"same machine or a different machine, you can run svnserver using svnserve "
"command. The syntax is as follows:"
msgstr ""

#: serverguide/C/vcs.xml:323(programlisting)
#, no-wrap
msgid ""
"$ svnserve -d --foreground -r /path/to/repos\n"
"# -d -- daemon mode\n"
"# --foreground -- run in foreground (useful for debugging)\n"
"# -r -- root of directory to serve\n"
"\n"
"For more usage details, please refer to:\n"
"$ svnserve --help"
msgstr ""

#: serverguide/C/vcs.xml:331(para)
msgid ""
"Once you run this command, Subversion starts listening on default port "
"(3690). To access the project repository, you must run the following command "
"from a terminal prompt:"
msgstr ""

#: serverguide/C/vcs.xml:334(command)
msgid "svn co svn://hostname/project project --username user_name"
msgstr ""

#: serverguide/C/vcs.xml:337(para)
msgid ""
"Based on server configuration, it prompts for password. Once you are "
"authenticated, it checks out the code from Subversion repository. To "
"synchronize the project repository with the local copy, you can run the "
"<command>update</command> sub-command. The syntax of the command, entered at "
"a terminal prompt, is as follows:"
msgstr ""

#: serverguide/C/vcs.xml:345(command)
msgid "cd project_dir ; svn update"
msgstr ""

#: serverguide/C/vcs.xml:348(para)
msgid ""
"For more details about using each Subversion sub-command, you can refer to "
"the manual. For example, to learn more about the co (checkout) command, "
"please run the following command from a terminal prompt:"
msgstr ""

#: serverguide/C/vcs.xml:352(command)
msgid "svn co help"
msgstr ""

#: serverguide/C/vcs.xml:356(title)
msgid "Access via custom protocol with SSL encryption (svn+ssh://)"
msgstr ""

#: serverguide/C/vcs.xml:357(para)
msgid ""
"The configuration and server process is same as in the svn:// method. For "
"details, please refer to the above section. This step assumes you have "
"followed the above step and started the Subversion server using "
"<application>svnserve</application> command."
msgstr ""

#: serverguide/C/vcs.xml:363(para)
msgid ""
"It is also assumed that the ssh server is running on that machine and that "
"it is allowing incoming connections. To confirm, please try to login to that "
"machine using ssh. If you can login, everything is perfect. If you cannot "
"login, please address it before continuing further."
msgstr ""

#: serverguide/C/vcs.xml:369(para)
msgid ""
"The svn+ssh:// protocol is used to access the Subversion repository using "
"SSL encryption. The data transfer is encrypted using this method. To access "
"the project repository (for example with a checkout), you must use the "
"following command syntax:"
msgstr ""

#: serverguide/C/vcs.xml:376(command)
msgid "svn co svn+ssh://hostname/var/svn/repos/project"
msgstr ""

#: serverguide/C/vcs.xml:380(para)
msgid ""
"You must use the full path (/path/to/repos/project) to access the Subversion "
"repository using this access method."
msgstr ""

#: serverguide/C/vcs.xml:383(para)
msgid ""
"Based on server configuration, it prompts for password. You must enter the "
"password you use to login via ssh. Once you are authenticated, it checks out "
"the code from the Subversion repository."
msgstr ""

#: serverguide/C/vcs.xml:394(title)
msgid "CVS Server"
msgstr ""

#: serverguide/C/vcs.xml:395(para)
msgid ""
"CVS is a version control system. You can use it to record the history of "
"source files."
msgstr ""

#: serverguide/C/vcs.xml:401(para)
msgid ""
"To install <application>CVS</application>, run the following command from a "
"terminal prompt: <screen>\n"
"<command>sudo apt-get install cvs</command>\n"
"</screen> After you install <application>cvs</application>, you should "
"install <application>xinetd</application> to start/stop the cvs server. At "
"the prompt, enter the following command to install "
"<application>xinetd</application>: <screen>\n"
"<command>sudo apt-get install xinetd</command>\n"
"</screen>"
msgstr ""

#: serverguide/C/vcs.xml:434(programlisting)
#, no-wrap
msgid ""
"\n"
"service cvspserver\n"
"{\n"
"     port = 2401\n"
"     socket_type = stream\n"
"     protocol = tcp\n"
"     user = root\n"
"     wait = no\n"
"     type = UNLISTED\n"
"     server = /usr/bin/cvs\n"
"     server_args = -f --allow-root /var/lib/cvs pserver\n"
"     disable = no\n"
"}\n"
msgstr ""

#: serverguide/C/vcs.xml:450(para)
msgid ""
"Be sure to edit the repository if you have changed the default repository "
"(<application>/var/lib/cvs</application>) directory."
msgstr ""

#: serverguide/C/vcs.xml:419(para)
msgid ""
"Once you install cvs, the repository will be automatically initialized. By "
"default, the repository resides under the "
"<application>/var/lib/cvs</application> directory. You can change this path "
"by running following command: <screen>\n"
"<command>cvs -d /your/new/cvs/repo init</command>\n"
"</screen> Once the initial repository is set up, you can configure "
"<application>xinetd</application> to start the CVS server. You can copy the "
"following lines to the <filename> /etc/xinetd.d/cvspserver</filename> file. "
"<placeholder-1/><placeholder-2/> Once you have configured "
"<application>xinetd</application> you can start the cvs server by running "
"following command: <screen>\n"
"<command>sudo /etc/init.d/xinetd restart</command>\n"
"</screen>"
msgstr ""

#: serverguide/C/vcs.xml:463(para)
msgid ""
"You can confirm that the CVS server is running by issuing the following "
"command:"
msgstr ""

#: serverguide/C/vcs.xml:470(command)
msgid "sudo netstat -tap | grep cvs"
msgstr ""

#: serverguide/C/vcs.xml:474(para) serverguide/C/databases.xml:65(para)
msgid ""
"When you run this command, you should see the following line or something "
"similar:"
msgstr ""

#: serverguide/C/vcs.xml:479(programlisting)
#, no-wrap
msgid ""
"\n"
"tcp        0      0 *:cvspserver            *:* LISTEN \n"
msgstr ""

#: serverguide/C/vcs.xml:483(para)
msgid ""
"From here you can continue to add users, add new projects, and manage the "
"CVS server."
msgstr ""

#: serverguide/C/vcs.xml:488(para)
msgid ""
"CVS allows the user to add users independently of the underlying OS "
"installation. Probably the easiest way is to use the Linux Users for CVS, "
"although it has potential security issues. Please refer to the CVS manual "
"for details."
msgstr ""

#: serverguide/C/vcs.xml:498(title)
msgid "Add Projects"
msgstr ""

#: serverguide/C/vcs.xml:510(para)
msgid ""
"You can use the CVSROOT environment variable to store the CVS root "
"directory. Once you export the CVSROOT environment variable, you can avoid "
"using -d option in the above cvs command."
msgstr ""

#: serverguide/C/vcs.xml:522(para)
msgid ""
"When you add a new project, the CVS user you use must have write access to "
"the CVS repository (<application>/var/lib/cvs</application>). By default, "
"the <application>src</application> group has write access to the CVS "
"repository. So, you can add the user to this group, and he can then add and "
"manage projects in the CVS repository."
msgstr ""

#: serverguide/C/vcs.xml:499(para)
msgid ""
"This section explains how to add new project to the CVS repository. Create "
"the directory and add necessary document and source files to the directory. "
"Now, run the following command to add this project to CVS repository: "
"<screen>\n"
"<command>cd your/project</command>\n"
"<command>cvs -d :pserver:username@hostname.com:/var/lib/cvs import -m "
"\"Importing my project to CVS repository\" . new_project start</command>\n"
"</screen><placeholder-1/> The string <emphasis>new_project</emphasis> is a "
"vendor tag, and <emphasis>start</emphasis> is a release tag. They serve no "
"purpose in this context, but since CVS requires them, they must be present. "
"<placeholder-2/>"
msgstr ""

#: serverguide/C/vcs.xml:535(ulink)
msgid "Bazaar Home Page"
msgstr ""

#: serverguide/C/vcs.xml:536(ulink)
msgid "Launchpad"
msgstr ""

#: serverguide/C/vcs.xml:537(ulink)
msgid "Subversion Home Page"
msgstr ""

#: serverguide/C/vcs.xml:538(ulink)
msgid "Subversion Book"
msgstr ""

#: serverguide/C/vcs.xml:540(ulink)
msgid "CVS Manual"
msgstr ""

#: serverguide/C/serverguide.xml:3(title) serverguide/C/bookinfo.xml:3(title)
msgid "Credits and License"
msgstr ""

#: serverguide/C/serverguide.xml:4(para) serverguide/C/bookinfo.xml:4(para)
msgid ""
"This document is maintained by the Ubuntu documentation team "
"(https://wiki.ubuntu.com/DocumentationTeam). For a list of contributors, see "
"the <ulink url=\"../../libs/C/contributors.xml\">contributors page</ulink>"
msgstr ""

#: serverguide/C/serverguide.xml:5(para) serverguide/C/bookinfo.xml:5(para)
msgid ""
"This document is made available under the Creative Commons ShareAlike 2.5 "
"License (CC-BY-SA)."
msgstr ""

#: serverguide/C/serverguide.xml:6(para) serverguide/C/bookinfo.xml:6(para)
msgid ""
"You are free to modify, extend, and improve the Ubuntu documentation source "
"code under the terms of this license. All derivative works must be released "
"under this license."
msgstr ""

#: serverguide/C/serverguide.xml:8(para) serverguide/C/bookinfo.xml:8(para)
msgid ""
"This documentation is distributed in the hope that it will be useful, but "
"WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY "
"or FITNESS FOR A PARTICULAR PURPOSE AS DESCRIBED IN THE DISCLAIMER."
msgstr ""

#: serverguide/C/serverguide.xml:11(para) serverguide/C/bookinfo.xml:11(para)
msgid ""
"A copy of the license is available here: <ulink url=\"/usr/share/ubuntu-"
"docs/libs/C/ccbysa.xml\">Creative Commons ShareAlike License</ulink>."
msgstr ""

#: serverguide/C/serverguide.xml:14(year) serverguide/C/bookinfo.xml:14(year)
msgid "2008"
msgstr ""

#: serverguide/C/serverguide.xml:15(ulink) serverguide/C/bookinfo.xml:15(ulink)
msgid "Ubuntu Documentation Project"
msgstr ""

#: serverguide/C/serverguide.xml:15(holder) serverguide/C/bookinfo.xml:15(holder)
msgid "Canonical Ltd. and members of the <placeholder-1/>"
msgstr ""

#: serverguide/C/serverguide.xml:18(publishername) serverguide/C/bookinfo.xml:18(publishername)
msgid "The Ubuntu Documentation Project"
msgstr ""

#: serverguide/C/serverguide.xml:17(para)
msgid ""
"Welcome to the <emphasis>Ubuntu Server Guide</emphasis>! It contains "
"information on how to install and configure various server applications on "
"your Ubuntu system to fit your needs. It is a step-by-step, task-oriented "
"guide for configuring and customizing your system."
msgstr ""

#: serverguide/C/security.xml:13(title)
msgid "Security"
msgstr ""

#: serverguide/C/security.xml:14(para)
msgid ""
"Security should always be considered when installing, deploying, and using "
"any type of computer system. Although a fresh installation of Ubuntu is "
"relatively safe for immediate use on the Internet, it is important to have a "
"balanced understanding of your systems security posture based on how it will "
"be used after deployment."
msgstr ""

#: serverguide/C/security.xml:17(para)
msgid ""
"This chapter provides an overview of security related topics as they pertain "
"to Ubuntu 9.04 Server Edition, and outlines simple measures you may use to "
"protect your server and network from any number of potential security "
"threats."
msgstr ""

#: serverguide/C/security.xml:21(title)
msgid "User Management"
msgstr ""

#: serverguide/C/security.xml:22(para)
msgid ""
"User management is a critical part of maintaining a secure system. "
"Ineffective user and privilege management often lead many systems into being "
"compromised. Therefore, it is important that you understand how you can "
"protect your server through simple and effective user account management "
"techniques."
msgstr ""

#: serverguide/C/security.xml:26(title)
msgid "Where is root?"
msgstr ""

#: serverguide/C/security.xml:27(para)
msgid ""
"Ubuntu developers made a conscientious decision to disable the "
"administrative root account by default in all Ubuntu installations. This "
"does not mean that the root account has been deleted or that it may not be "
"accessed. It merely has been given a password which matches no possible "
"encrypted value, therefore may not log in directly by itself."
msgstr ""

#: serverguide/C/security.xml:30(para)
msgid ""
"Instead, users are encouraged to make use of a tool by the name of "
"<application>sudo</application> to carry out system administrative duties. "
"<application>Sudo</application> allows an authorized user to temporarily "
"elevate their privileges using their own password instead of having to know "
"the password belonging to the root account. This simple yet effective "
"methodology provides accountability for all user actions, and gives the "
"administrator granular control over which actions a user can perform with "
"said privileges."
msgstr ""

#: serverguide/C/security.xml:35(para)
msgid ""
"If for some reason you wish to enable the root account, simply give it a "
"password:"
msgstr ""

#: serverguide/C/security.xml:39(command)
msgid "sudo passwd"
msgstr ""

#: serverguide/C/security.xml:41(para)
msgid ""
"Sudo will prompt you for your password, and then ask you to supply a new "
"password for root as shown below:"
msgstr ""

#: serverguide/C/security.xml:44(userinput)
#, no-wrap
msgid "(enter your own password)"
msgstr ""

#: serverguide/C/security.xml:45(userinput)
#, no-wrap
msgid "(enter a new password for root)"
msgstr ""

#: serverguide/C/security.xml:46(userinput)
#, no-wrap
msgid "(repeat new password for root)"
msgstr ""

#: serverguide/C/security.xml:44(computeroutput)
#, no-wrap
msgid ""
"[sudo] password for username: <placeholder-1/>\n"
"Enter new UNIX password: <placeholder-2/>\n"
"Retype new UNIX password: <placeholder-3/>\n"
"passwd: password updated successfully"
msgstr ""

#: serverguide/C/security.xml:51(para)
msgid "To disable the root account, use the following passwd syntax:"
msgstr ""

#: serverguide/C/security.xml:55(command)
msgid "sudo passwd -l root"
msgstr ""

#: serverguide/C/security.xml:59(para)
msgid ""
"You should read more on <application>Sudo</application> by checking out it's "
"man page:"
msgstr ""

#: serverguide/C/security.xml:63(command)
msgid "man sudo"
msgstr ""

#: serverguide/C/security.xml:67(para)
msgid ""
"By default, the initial user created by the Ubuntu installer is a member of "
"the group \"admin\" which is added to the file "
"<filename>/etc/sudoers</filename> as an authorized sudo user. If you wish to "
"give any other account full root access through "
"<application>sudo</application>, simply add them to the admin group."
msgstr ""

#: serverguide/C/security.xml:73(title)
msgid "Adding and Deleting Users"
msgstr ""

#: serverguide/C/security.xml:74(para)
msgid ""
"The process for managing local users and groups is straight forward and "
"differs very little from most other GNU/Linux operating systems. Ubuntu and "
"other Debian based distributions, encourage the use of the \"adduser\" "
"package for account management."
msgstr ""

#: serverguide/C/security.xml:79(para)
msgid ""
"To add a user account, use the following syntax, and follow the prompts to "
"give the account a password and identifiable characteristics such as a full "
"name, phone number, etc."
msgstr ""

#: serverguide/C/security.xml:83(command)
msgid "sudo adduser username"
msgstr ""

#: serverguide/C/security.xml:87(para)
msgid ""
"To delete a user account and its primary group, use the following syntax:"
msgstr ""

#: serverguide/C/security.xml:91(command)
msgid "sudo deluser username"
msgstr ""

#: serverguide/C/security.xml:93(para)
msgid ""
"Deleting an account does not remove their respective home folder. It is up "
"to you whether or not you wish to delete the folder manually or keep it "
"according to your desired retention policies."
msgstr ""

#: serverguide/C/security.xml:96(para)
msgid ""
"Remember, any user added later on with the same UID/GID as the previous "
"owner will now have access to this folder if you have not taken the "
"necessary precautions."
msgstr ""

#: serverguide/C/security.xml:99(para)
msgid ""
"You may want to change these UID/GID values to something more appropriate, "
"such as the root account, and perhaps even relocate the folder to avoid "
"future conflicts:"
msgstr ""

#: serverguide/C/security.xml:103(command)
msgid "sudo chown -R root:root /home/username/"
msgstr ""

#: serverguide/C/security.xml:104(command)
msgid "sudo mkdir /home/archived_users/"
msgstr ""

#: serverguide/C/security.xml:105(command)
msgid "sudo mv /home/username /home/archived_users/"
msgstr ""

#: serverguide/C/security.xml:109(para)
msgid ""
"To temporarily lock or unlock a user account, use the following syntax, "
"respectively:"
msgstr ""

#: serverguide/C/security.xml:113(command)
msgid "sudo passwd -l username"
msgstr ""

#: serverguide/C/security.xml:114(command)
msgid "sudo passwd -u username"
msgstr ""

#: serverguide/C/security.xml:118(para)
msgid ""
"To add or delete a personalized group, use the following syntax, "
"respectively:"
msgstr ""

#: serverguide/C/security.xml:122(command)
msgid "sudo addgroup groupname"
msgstr ""

#: serverguide/C/security.xml:123(command)
msgid "sudo delgroup groupname"
msgstr ""

#: serverguide/C/security.xml:127(para)
msgid "To add a user to a group, use the following syntax:"
msgstr ""

#: serverguide/C/security.xml:131(command)
msgid "sudo adduser username groupname"
msgstr ""

#: serverguide/C/security.xml:138(title)
msgid "User Profile Security"
msgstr ""

#: serverguide/C/security.xml:139(para)
msgid ""
"When a new user is created, the adduser utility creates a brand new home "
"directory named <filename class=\"directory\">/home/username</filename>, "
"respectively. The default profile is modeled after the contents found in the "
"directory of <filename class=\"directory\">/etc/skel</filename>, which "
"includes all profile basics."
msgstr ""

#: serverguide/C/security.xml:142(para)
msgid ""
"If your server will be home to multiple users, you should pay close "
"attention to the user home directory permissions to ensure confidentiality. "
"By default, user home directories in Ubuntu are created with world "
"read/execute permissions. This means that all users can browse and access "
"the contents of other users home directories. This may not be suitable for "
"your environment."
msgstr ""

#: serverguide/C/security.xml:147(para)
msgid ""
"To verify your current users home directory permissions, use the following "
"syntax:"
msgstr ""

#: serverguide/C/security.xml:151(command) serverguide/C/security.xml:183(command)
msgid "ls -ld /home/username"
msgstr ""

#: serverguide/C/security.xml:153(para)
msgid ""
"The following output shows that the directory <filename "
"class=\"directory\">/home/username</filename> has world readable permissions:"
msgstr ""

#: serverguide/C/security.xml:156(computeroutput)
#, no-wrap
msgid "drwxr-xr-x  2 username username    4096 2007-10-02 20:03 username"
msgstr ""

#: serverguide/C/security.xml:160(para)
msgid ""
"You can remove the world readable permissions using the following syntax:"
msgstr ""

#: serverguide/C/security.xml:164(command)
msgid "sudo chmod 0750 /home/username"
msgstr ""

#: serverguide/C/security.xml:167(para)
msgid ""
"Some people tend to use the recursive option (-R) indiscriminately which "
"modifies all child folders and files, but this is not necessary, and may "
"yield other undesirable results. The parent directory alone is sufficient "
"for preventing unauthorized access to anything below the parent."
msgstr ""

#: serverguide/C/security.xml:171(para)
msgid ""
"A much more efficient approach to the matter would be to modify the "
"<application>adduser</application> global default permissions when creating "
"user home folders. Simply edit the file "
"<filename>/etc/adduser.conf</filename> and modify the "
"<varname>DIR_MODE</varname> variable to something appropriate, so that all "
"new home directories will receive the correct permissions."
msgstr ""

#: serverguide/C/security.xml:174(programlisting)
#, no-wrap
msgid ""
"\n"
"DIR_MODE=0750\n"
msgstr ""

#: serverguide/C/security.xml:179(para)
msgid ""
"After correcting the directory permissions using any of the previously "
"mentioned techniques, verify the results using the following syntax:"
msgstr ""

#: serverguide/C/security.xml:185(para)
msgid ""
"The results below show that world readable permissions have been removed:"
msgstr ""

#: serverguide/C/security.xml:188(computeroutput)
#, no-wrap
msgid "drwxr-x---   2 username username    4096 2007-10-02 20:03 username"
msgstr ""

#: serverguide/C/security.xml:195(title)
msgid "Password Policy"
msgstr ""

#: serverguide/C/security.xml:196(para)
msgid ""
"A strong password policy is one of the most important aspects of your "
"security posture. Many successful security breaches involve simple brute "
"force and dictionary attacks against weak passwords. If you intend to offer "
"any form of remote access involving your local password system, make sure "
"you adequately address minimum password complexity requirements, maximum "
"password lifetimes, and frequent audits of your authentication systems."
msgstr ""

#: serverguide/C/security.xml:200(title)
msgid "Minimum Password Length"
msgstr ""

#: serverguide/C/security.xml:201(para)
msgid ""
"By default, Ubuntu requires a minimum password length of 4 characters, as "
"well as some basic entropy checks. These values are controlled in the file "
"<filename>/etc/pam.d/common-password</filename>, which is outlined below."
msgstr ""

#: serverguide/C/security.xml:204(programlisting)
#, no-wrap
msgid ""
"\n"
"password   required   pam_unix.so nullok obscure min=4 max=8 md5\n"
msgstr ""

#: serverguide/C/security.xml:207(para)
msgid ""
"If you would like to adjust the minimum length to 6 characters, change the "
"appropriate variable to min=6. The modification is outlined below."
msgstr ""

#: serverguide/C/security.xml:210(programlisting)
#, no-wrap
msgid ""
"\n"
"password   required   pam_unix.so nullok obscure min=6 max=8 md5\n"
msgstr ""

#: serverguide/C/security.xml:214(para)
msgid ""
"The <varname>max=8</varname> variable does not represent the maximum length "
"of a password. It only means that complexity requirements will not be "
"checked on passwords over 8 characters. You may want to look at the "
"<application>libpam-cracklib</application> package for additional password "
"entropy assistance."
msgstr ""

#: serverguide/C/security.xml:220(title)
msgid "Password Expiration"
msgstr ""

#: serverguide/C/security.xml:221(para)
msgid ""
"When creating user accounts, you should make it a policy to have a minimum "
"and maximum password age forcing users to change their passwords when they "
"expire."
msgstr ""

#: serverguide/C/security.xml:226(para)
msgid ""
"To easily view the current status of a user account, use the following "
"syntax:"
msgstr ""

#: serverguide/C/security.xml:230(command) serverguide/C/security.xml:263(command)
msgid "sudo chage -l username"
msgstr ""

#: serverguide/C/security.xml:232(para)
msgid ""
"The output below shows interesting facts about the user account, namely that "
"there are no policies applied:"
msgstr ""

#: serverguide/C/security.xml:235(computeroutput)
#, no-wrap
msgid ""
"Last password change                                    : Jan 20, 2008\n"
"Password expires                                        : never\n"
"Password inactive                                       : never\n"
"Account expires                                         : never\n"
"Minimum number of days between password change          : 0\n"
"Maximum number of days between password change          : 99999\n"
"Number of days of warning before password expires       : 7"
msgstr ""

#: serverguide/C/security.xml:245(para)
msgid ""
"To set any of these values, simply use the following syntax, and follow the "
"interactive prompts:"
msgstr ""

#: serverguide/C/security.xml:249(command)
msgid "sudo chage username"
msgstr ""

#: serverguide/C/security.xml:251(para)
msgid ""
"The following is also an example of how you can manually change the explicit "
"expiration date (-E) to 01/31/2008, minimum password age (-m) of 5 days, "
"maximum password age (-M) of 90 days, inactivity period (-I) of 5 days after "
"password expiration, and a warning time period (-W) of 14 days before "
"password expiration."
msgstr ""

#: serverguide/C/security.xml:255(command)
msgid "sudo chage -E 01/31/2008 -m 5 -M 90 -I 30 -W 14 username"
msgstr ""

#: serverguide/C/security.xml:259(para)
msgid "To verify changes, use the same syntax as mentioned previously:"
msgstr ""

#: serverguide/C/security.xml:265(para)
msgid ""
"The output below shows the new policies that have been established for the "
"account:"
msgstr ""

#: serverguide/C/security.xml:268(computeroutput)
#, no-wrap
msgid ""
"Last password change                                    : Jan 20, 2008\n"
"Password expires                                        : Apr 19, 2008\n"
"Password inactive                                       : May 19, 2008\n"
"Account expires                                         : Jan 31, 2008\n"
"Minimum number of days between password change          : 5\n"
"Maximum number of days between password change          : 90\n"
"Number of days of warning before password expires       : 14"
msgstr ""

#: serverguide/C/security.xml:284(title)
msgid "Other Security Considerations"
msgstr ""

#: serverguide/C/security.xml:285(para)
msgid ""
"Many applications use alternate authentication mechanisms that can be easily "
"overlooked by even experienced system administrators. Therefore, it is "
"important to understand and control how users authenticate and gain access "
"to services and applications on your server."
msgstr ""

#: serverguide/C/security.xml:290(title)
msgid "SSH Access by Disabled Users"
msgstr ""

#: serverguide/C/security.xml:291(para)
msgid ""
"Simply disabling/locking a user account will not prevent a user from logging "
"into your server remotely if they have previously set up RSA public key "
"authentication. They will still be able to gain shell access to the server, "
"without the need for any password. Remember to check the users home "
"directory for files that will allow for this type of authenticated SSH "
"access. e.g. <filename>/home/username/.ssh/authorized_keys</filename>."
msgstr ""

#: serverguide/C/security.xml:294(para)
msgid ""
"Remove or rename the directory <filename "
"class=\"directory\">.ssh/</filename> in the user's home folder to prevent "
"further SSH authentication capabilities."
msgstr ""

#: serverguide/C/security.xml:297(para)
msgid ""
"Be sure to check for any established SSH connections by the disabled user, "
"as it is possible they may have existing inbound or outbound connections. "
"Kill any that are found."
msgstr ""

#: serverguide/C/security.xml:300(para)
msgid ""
"Restrict SSH access to only user accounts that should have it. For example, "
"you may create a group called \"sshlogin\" and add the group name as the "
"value associated with the <varname>AllowGroups</varname> variable located in "
"the file <filename>/etc/ssh/sshd_config</filename>."
msgstr ""

#: serverguide/C/security.xml:303(programlisting)
#, no-wrap
msgid ""
"\n"
"AllowGroups sshlogin\n"
msgstr ""

#: serverguide/C/security.xml:306(para)
msgid ""
"Then add your permitted SSH users to the group \"sshlogin\", and restart the "
"SSH service."
msgstr ""

#: serverguide/C/security.xml:310(command)
msgid "sudo adduser username sshlogin"
msgstr ""

#: serverguide/C/security.xml:311(command) serverguide/C/remote-administration.xml:150(command)
msgid "sudo /etc/init.d/ssh restart"
msgstr ""

#: serverguide/C/security.xml:315(title)
msgid "External User Database Authentication"
msgstr ""

#: serverguide/C/security.xml:316(para)
msgid ""
"Most enterprise networks require centralized authentication and access "
"controls for all system resources. If you have configured your server to "
"authenticate users against external databases, be sure to disable the user "
"accounts both externally and locally, this way you ensure that local "
"fallback authentication is not possible."
msgstr ""

#: serverguide/C/security.xml:325(title)
msgid "Console Security"
msgstr ""

#: serverguide/C/security.xml:326(para)
msgid ""
"As with any other security barrier you put in place to protect your server, "
"it is pretty tough to defend against untold damage caused by someone with "
"physical access to your environment, for example, theft of hard drives, "
"power or service disruption and so on. Therefore, console security should be "
"addressed merely as one component of your overall physical security "
"strategy. A locked \"screen door\" may deter a casual criminal, or at the "
"very least slow down a determined one, so it is still advisable to perform "
"basic precautions with regard to console security."
msgstr ""

#: serverguide/C/security.xml:329(para)
msgid ""
"The following instructions will help defend your server against issues that "
"could otherwise yield very serious consequences."
msgstr ""

#: serverguide/C/security.xml:334(title)
msgid "Disable Ctrl+Alt+Delete"
msgstr ""

#: serverguide/C/security.xml:335(para)
msgid ""
"First and foremost, anyone that has physical access to the keyboard can "
"simply use the "
"<keycombo><keycap>Ctrl</keycap><keycap>Alt</keycap><keycap>Delete</keycap></k"
"eycombo> key combination to reboot the server without having to log on. "
"Sure, someone could simply unplug the power source, but you should still "
"prevent the use of this key combination on a production server. This forces "
"an attacker to take more drastic measures to reboot the server, and will "
"prevent accidental reboots at the same time."
msgstr ""

#: serverguide/C/security.xml:340(para)
msgid ""
"To disable the reboot action taken by pressing the "
"<keycombo><keycap>Ctrl</keycap><keycap>Alt</keycap><keycap>Delete</keycap></k"
"eycombo> key combination, comment out the following line in the file "
"<filename>/etc/event.d/control-alt-delete</filename>."
msgstr ""

#: serverguide/C/security.xml:343(programlisting)
#, no-wrap
msgid ""
"\n"
"#exec /sbin/shutdown -r now \"Control-Alt-Delete pressed\"\n"
msgstr ""

#: serverguide/C/security.xml:350(title)
msgid "GRUB Password Security"
msgstr ""

#: serverguide/C/security.xml:351(para)
msgid ""
"Ubuntu installs GNU GRUB as its default boot loader, which allows for great "
"flexibility and recovery options. For example, when you install additional "
"kernel images, these are automatically added as available boot options in "
"the <application>grub</application> menu. Also, by default, alternate boot "
"options are available for each kernel entry that may be used for system "
"recovery, aptly labeled (recovery mode). Recovery mode simply boots the "
"corresponding kernel image into single user mode (init 1), which lands the "
"administrator at a root prompt without the need for any password."
msgstr ""

#: serverguide/C/security.xml:354(para)
msgid ""
"Therefore, it is important to control who may edit the "
"<application>grub</application> menu items which, would otherwise allow for "
"someone to perform the following dangerous actions:"
msgstr ""

#: serverguide/C/security.xml:359(para)
msgid "Pass kernel options at boot up."
msgstr ""

#: serverguide/C/security.xml:364(para)
msgid "Boot the server into single user mode."
msgstr ""

#: serverguide/C/security.xml:369(para)
msgid ""
"You can prevent these actions by adding a password to GRUB's configuration "
"file of <filename>/boot/grub/menu.lst</filename>, which will be required to "
"unlock GRUB's more advanced features prior to use."
msgstr ""

#: serverguide/C/security.xml:374(para)
msgid ""
"To add a password for use with <application>grub</application>, first you "
"must generate an md5 password hash using the <application>grub-md5-"
"crypt</application> utility:"
msgstr ""

#: serverguide/C/security.xml:378(command)
msgid "grub-md5-crypt"
msgstr ""

#: serverguide/C/security.xml:380(para)
msgid ""
"The command will ask you to enter a password and offer a resulting hash "
"value as shown below:"
msgstr ""

#: serverguide/C/security.xml:383(userinput)
#, no-wrap
msgid "(enter new password)"
msgstr ""

#: serverguide/C/security.xml:384(userinput)
#, no-wrap
msgid "(repeat password)"
msgstr ""

#: serverguide/C/security.xml:383(computeroutput)
#, no-wrap
msgid ""
"Password: <placeholder-1/>\n"
"Retype password: <placeholder-2/>\n"
"$1$s3YiK$M3lxAbqA6JLm2FbDWnClQ0"
msgstr ""

#: serverguide/C/security.xml:389(para)
msgid ""
"Add the resulting hash value to the file "
"<filename>/boot/grub/menu.lst</filename> in the following format:"
msgstr ""

#: serverguide/C/security.xml:392(programlisting)
#, no-wrap
msgid "password --md5 $1$s3YiK$M3lxAbqA6JLm2FbDWnClQ0"
msgstr ""

#: serverguide/C/security.xml:395(para)
msgid ""
"To require use of the password for entering single user mode, change the "
"value of the <varname>lockalternative</varname> variable in the file "
"<filename>/boot/grub/menu.lst</filename> to <varname>true</varname>, as "
"shown in the following example."
msgstr ""

#: serverguide/C/security.xml:398(programlisting)
#, no-wrap
msgid "# lockalternative=true"
msgstr ""

#: serverguide/C/security.xml:402(para)
msgid ""
"This does not prevent someone from booting the server from alternate media. "
"A determined attacker would simply boot into an alternate environment, "
"overwrite your master boot record, mount or copy your physical volumes, "
"destroy your data, or anything else they can imagine. Please explore other "
"countermeasures that may help you with these types of attacks."
msgstr ""

#: serverguide/C/security.xml:410(title)
msgid "Firewall"
msgstr ""

#: serverguide/C/security.xml:413(para)
msgid ""
"The Linux kernel includes the <emphasis>Netfilter</emphasis> subsystem, "
"which is used to manipulate or decide the fate of network traffic headed "
"into or through your server. All modern Linux firewall solutions use this "
"system for packet filtering."
msgstr ""

#: serverguide/C/security.xml:418(para)
msgid ""
"The kernel's packet filtering system would be of little use to "
"administrators without a userspace interface to manage it. This is the "
"purpose of iptables. When a packet reaches your server, it will be handed "
"off to the Netfilter subsystem for acceptance, manipulation, or rejection "
"based on the rules supplied to it from userspace via iptables. Thus, "
"iptables is all you need to manage your firewall if you're familiar with it, "
"but many frontends are available to simplify the task."
msgstr ""

#: serverguide/C/security.xml:428(title)
msgid "ufw - Uncomplicated Firewall"
msgstr ""

#: serverguide/C/security.xml:429(para)
msgid ""
"The default firewall configuration tool for Ubuntu is "
"<application>ufw</application>. Developed to ease iptables firewall "
"configuration, <application>ufw</application> provides a user friendly way "
"to create an IPv4 or IPv6 host-based firewall."
msgstr ""

#: serverguide/C/security.xml:433(para)
msgid ""
"<application>ufw</application> by default is initially disabled. From the "
"<application>ufw</application> man page:"
msgstr ""

#: serverguide/C/security.xml:437(quote)
msgid ""
"ufw is not intended to provide complete firewall functionality via its "
"command interface, but instead provides an easy way to add or remove simple "
"rules. It is currently mainly used for host-based firewalls."
msgstr ""

#: serverguide/C/security.xml:441(para)
msgid ""
"The following are some examples of how to use <application>ufw</application>:"
msgstr ""

#: serverguide/C/security.xml:446(para)
msgid ""
"First, <application>ufw</application> needs to be enabled. From a terminal "
"prompt enter:"
msgstr ""

#: serverguide/C/security.xml:450(command)
msgid "sudo ufw enable"
msgstr ""

#: serverguide/C/security.xml:454(para)
msgid "To open a port (ssh in this example):"
msgstr ""

#: serverguide/C/security.xml:458(command)
msgid "sudo ufw allow 22"
msgstr ""

#: serverguide/C/security.xml:462(para)
msgid "Rules can also be added using a <emphasis>numbered</emphasis> format:"
msgstr ""

#: serverguide/C/security.xml:466(command)
msgid "sudo ufw insert 1 allow 80"
msgstr ""

#: serverguide/C/security.xml:470(para)
msgid "Similarly, to close an opened port:"
msgstr ""

#: serverguide/C/security.xml:474(command)
msgid "sudo ufw deny 22"
msgstr ""

#: serverguide/C/security.xml:478(para)
msgid "To remove a rule, use delete followed by the rule:"
msgstr ""

#: serverguide/C/security.xml:482(command)
msgid "sudo ufw delete deny 22"
msgstr ""

#: serverguide/C/security.xml:486(para)
msgid ""
"It is also possible to allow access from specific hosts or networks to a "
"port. The following example allows ssh access from host 192.168.0.2 to any "
"ip address on this host:"
msgstr ""

#: serverguide/C/security.xml:491(command)
msgid "sudo ufw allow proto tcp from 192.168.0.2 to any port 22"
msgstr ""

#: serverguide/C/security.xml:493(para)
msgid ""
"Replace 192.168.0.2 with 192.168.0.0/24 to allow ssh access from the entire "
"subnet."
msgstr ""

#: serverguide/C/security.xml:499(para)
msgid ""
"Adding the <emphasis>--dry-run</emphasis> option to a "
"<emphasis>ufw</emphasis> command will output the resulting rules, but not "
"apply them. For example, the following is what would be applied if opening "
"the HTTP port:"
msgstr ""

#: serverguide/C/security.xml:505(command)
msgid "sudo ufw --dry-run allow http"
msgstr ""

#: serverguide/C/security.xml:509(computeroutput)
#, no-wrap
msgid ""
"*filter\n"
":ufw-user-input - [0:0]\n"
":ufw-user-output - [0:0]\n"
":ufw-user-forward - [0:0]\n"
":ufw-user-limit - [0:0]\n"
":ufw-user-limit-accept - [0:0]\n"
"### RULES ###\n"
"\n"
"### tuple ### allow tcp 80 0.0.0.0/0 any 0.0.0.0/0\n"
"-A ufw-user-input -p tcp --dport 80 -j ACCEPT\n"
"\n"
"### END RULES ###\n"
"-A ufw-user-input -j RETURN\n"
"-A ufw-user-output -j RETURN\n"
"-A ufw-user-forward -j RETURN\n"
"-A ufw-user-limit -m limit --limit 3/minute -j LOG --log-prefix \"[UFW "
"LIMIT]: \"\n"
"-A ufw-user-limit -j REJECT\n"
"-A ufw-user-limit-accept -j ACCEPT\n"
"COMMIT\n"
"Rules updated"
msgstr ""

#: serverguide/C/security.xml:533(para)
msgid "<application>ufw</application> can be disabled by:"
msgstr ""

#: serverguide/C/security.xml:537(command)
msgid "sudo ufw disable"
msgstr ""

#: serverguide/C/security.xml:541(para)
msgid "To see the firewall status, enter:"
msgstr ""

#: serverguide/C/security.xml:545(command)
msgid "sudo ufw status"
msgstr ""

#: serverguide/C/security.xml:549(para)
msgid "And for more verbose status information use:"
msgstr ""

#: serverguide/C/security.xml:553(command)
msgid "sudo ufw status verbose"
msgstr ""

#: serverguide/C/security.xml:557(para)
msgid "To view the <emphasis>numbered</emphasis> format:"
msgstr ""

#: serverguide/C/security.xml:561(command)
msgid "sudo ufw status numbered"
msgstr ""

#: serverguide/C/security.xml:566(para)
msgid ""
"If the port you want to open or close is defined in "
"<filename>/etc/services</filename>, you can use the port name instead of the "
"number. In the above examples, replace <emphasis>22</emphasis> with "
"<emphasis>ssh</emphasis>."
msgstr ""

#: serverguide/C/security.xml:572(para)
msgid ""
"This is a quick introduction to using <application>ufw</application>. Please "
"refer to the <application>ufw</application> man page for more information."
msgstr ""

#: serverguide/C/security.xml:578(title)
msgid "ufw Application Integration"
msgstr ""

#: serverguide/C/security.xml:580(para)
msgid ""
"Applications that open ports can include an <application>ufw</application> "
"profile, which details the ports needed for the application to function "
"properly. The profiles are kept in <filename "
"role=\"directory\">/etc/ufw/applications.d</filename>, and can be edited if "
"the default ports have been changed."
msgstr ""

#: serverguide/C/security.xml:589(para)
msgid ""
"To view which applications have installed a profile, enter the following in "
"a terminal:"
msgstr ""

#: serverguide/C/security.xml:594(command)
msgid "sudo ufw app list"
msgstr ""

#: serverguide/C/security.xml:600(para)
msgid ""
"Similar to allowing traffic to a port, using an application profile is "
"accomplished by entering:"
msgstr ""

#: serverguide/C/security.xml:605(command)
msgid "sudo ufw allow Samba"
msgstr ""

#: serverguide/C/security.xml:611(para)
msgid "An extended syntax is available as well:"
msgstr ""

#: serverguide/C/security.xml:616(command)
msgid "ufw allow from 192.168.0.0/24 to any app Samba"
msgstr ""

#: serverguide/C/security.xml:619(para)
msgid ""
"Replace <emphasis>Samba</emphasis> and <emphasis>192.168.0.0/24</emphasis> "
"with the application profile you are using and the IP range for your network."
msgstr ""

#: serverguide/C/security.xml:625(para)
msgid ""
"There is no need to specify the <emphasis>protocol</emphasis> for the "
"application, because that information is detailed in the profile. Also, note "
"that the <emphasis>app</emphasis> name replaces the "
"<emphasis>port</emphasis> number."
msgstr ""

#: serverguide/C/security.xml:634(para)
msgid ""
"To view details about which ports, protocols, etc are defined for an "
"application, enter:"
msgstr ""

#: serverguide/C/security.xml:639(command)
msgid "sudo ufw app info Samba"
msgstr ""

#: serverguide/C/security.xml:645(para)
msgid ""
"Not all applications that require opening a network port come with "
"<application>ufw</application> profiles, but if you have profiled an "
"application and want the file to be included with the package, please file a "
"bug against the package in <ulink "
"url=\"https://launchpad.net/\">Launchpad</ulink>."
msgstr ""

#: serverguide/C/security.xml:654(title)
msgid "IP Masquerading"
msgstr ""

#: serverguide/C/security.xml:655(para)
msgid ""
"The purpose of IP Masquerading is to allow machines with private, non-"
"routable IP addresses on your network to access the Internet through the "
"machine doing the masquerading. Traffic from your private network destined "
"for the Internet must be manipulated for replies to be routable back to the "
"machine that made the request. To do this, the kernel must modify the "
"<emphasis>source</emphasis> IP address of each packet so that replies will "
"be routed back to it, rather than to the private IP address that made the "
"request, which is impossible over the Internet. Linux uses "
"<emphasis>Connection Tracking</emphasis> (conntrack) to keep track of which "
"connections belong to which machines and reroute each return packet "
"accordingly. Traffic leaving your private network is thus \"masqueraded\" as "
"having originated from your Ubuntu gateway machine. This process is referred "
"to in Microsoft documentation as Internet Connection Sharing."
msgstr ""

#: serverguide/C/security.xml:671(title)
msgid "ufw Masquerading"
msgstr ""

#: serverguide/C/security.xml:672(para)
msgid ""
"IP Masquerading can be achieved using custom <application>ufw</application> "
"rules. This is possible because the current back-end for "
"<application>ufw</application> is <application>iptables-"
"restore</application> with the rules files located in "
"<filename>/etc/ufw/*.rules</filename>. These files are a great place to add "
"legacy iptables rules used without <application>ufw</application>, and rules "
"that are more network gateway or bridge related."
msgstr ""

#: serverguide/C/security.xml:678(para)
msgid ""
"The rules are split into two different files, rules that should be executed "
"before <application>ufw</application> command line rules, and rules that are "
"executed after <application>ufw</application> command line rules."
msgstr ""

#: serverguide/C/security.xml:684(para)
msgid ""
"First, packet forwarding needs to be enabled in "
"<application>ufw</application>. Two configuration files will need to be "
"adjusted, in <filename>/etc/default/ufw</filename> change the "
"<emphasis>DEFAULT_FORWARD_POLICY</emphasis> to <quote>ACCEPT</quote>:"
msgstr ""

#: serverguide/C/security.xml:688(programlisting)
#, no-wrap
msgid ""
"\n"
"DEFAULT_FORWARD_POLICY=\"ACCEPT\"\n"
msgstr ""

#: serverguide/C/security.xml:691(para)
msgid "Then edit <filename>/etc/ufw/sysctl.conf</filename> and uncomment:"
msgstr ""

#: serverguide/C/security.xml:694(programlisting) serverguide/C/security.xml:772(programlisting)
#, no-wrap
msgid ""
"\n"
"net.ipv4.ip_forward=1\n"
msgstr ""

#: serverguide/C/security.xml:697(para)
msgid "Similarly, for IPv6 forwarding uncomment:"
msgstr ""

#: serverguide/C/security.xml:700(programlisting) serverguide/C/security.xml:778(programlisting)
#, no-wrap
msgid ""
"\n"
"net.ipv6.conf.default.forwarding=1\n"
msgstr ""

#: serverguide/C/security.xml:705(para)
msgid ""
"Now we will add rules to the <filename>/etc/ufw/before.rules</filename> "
"file. The default rules only configure the <emphasis>filter</emphasis> "
"table, and to enable masquerading the <emphasis>nat</emphasis> table will "
"need to be configured. Add the following to the top of the file just after "
"the header comments:"
msgstr ""

#: serverguide/C/security.xml:710(programlisting)
#, no-wrap
msgid ""
"\n"
"# nat Table rules\n"
"*nat\n"
":POSTROUTING ACCEPT [0:0]\n"
"\n"
"# Forward traffic from eth1 through eth0.\n"
"-A POSTROUTING -s 192.168.0.0/24 -o eth0 -j MASQUERADE\n"
"\n"
"# don't delete the 'COMMIT' line or these nat table rules won't be "
"processed\n"
"COMMIT\n"
msgstr ""

#: serverguide/C/security.xml:721(para)
msgid ""
"The comments are not strictly necessary, but it is considered good practice "
"to document your configuration. Also, when modifying any of the "
"<emphasis>rules</emphasis> files in <filename "
"class=\"directory\">/etc/ufw</filename>, make sure these lines are the last "
"line for each table modified:"
msgstr ""

#: serverguide/C/security.xml:727(programlisting)
#, no-wrap
msgid ""
"\n"
"# don't delete the 'COMMIT' line or these rules won't be processed\n"
"COMMIT\n"
msgstr ""

#: serverguide/C/security.xml:732(para)
msgid ""
"For each <emphasis>Table</emphasis> a corresponding "
"<emphasis>COMMIT</emphasis> statement is required. In these examples only "
"the <emphasis>nat</emphasis> and <emphasis>filter</emphasis> tables are "
"shown, but you can also add rules for the <emphasis>raw</emphasis> and "
"<emphasis>mangle</emphasis> tables."
msgstr ""

#: serverguide/C/security.xml:739(para)
msgid ""
"In the above example replace <emphasis>eth0</emphasis>, "
"<emphasis>eth1</emphasis>, and <emphasis>192.168.0.0/24</emphasis> with the "
"appropriate interfaces and IP range for your network."
msgstr ""

#: serverguide/C/security.xml:747(para)
msgid ""
"Finally, disable and re-enable <application>ufw</application> to apply the "
"changes:"
msgstr ""

#: serverguide/C/security.xml:751(command)
msgid "sudo ufw disable &amp;&amp; sudo ufw enable"
msgstr ""

#: serverguide/C/security.xml:755(para)
msgid ""
"IP Masquerading should now be enabled. You can also add any additional "
"FORWARD rules to the <filename>/etc/ufw/before.rules</filename>. It is "
"recommended that these additional rules be added to the <emphasis>ufw-before-"
"forward</emphasis> chain."
msgstr ""

#: serverguide/C/security.xml:762(title)
msgid "iptables Masquerading"
msgstr ""

#: serverguide/C/security.xml:763(para)
msgid ""
"<application>iptables</application> can also be used to enable masquerading."
msgstr ""

#: serverguide/C/security.xml:768(para)
msgid ""
"Similar to <application>ufw</application>, the first step is to enable IPv4 "
"packet forwarding by editing <filename>/etc/sysctl.conf</filename> and "
"uncomment the following line"
msgstr ""

#: serverguide/C/security.xml:775(para)
msgid "If you wish to enable IPv6 forwarding also uncomment:"
msgstr ""

#: serverguide/C/security.xml:783(para)
msgid ""
"Next, execute the <application>sysctl</application> command to enable the "
"new settings in the configuration file:"
msgstr ""

#: serverguide/C/security.xml:787(command)
msgid "sudo sysctl -p"
msgstr ""

#: serverguide/C/security.xml:791(para)
msgid ""
"IP Masquerading can now be accomplished with a single iptables rule, which "
"may differ slightly based on your network configuration:"
msgstr ""

#: serverguide/C/security.xml:794(screen)
#, no-wrap
msgid ""
"\n"
"sudo iptables -t nat -A POSTROUTING -s 192.168.0.0/16 -o ppp0 -j MASQUERADE\n"
msgstr ""

#: serverguide/C/security.xml:797(para)
msgid ""
"The above command assumes that your private address space is 192.168.0.0/16 "
"and that your Internet-facing device is ppp0. The syntax is broken down as "
"follows:"
msgstr ""

#: serverguide/C/security.xml:802(para)
msgid "-t nat -- the rule is to go into the nat table"
msgstr ""

#: serverguide/C/security.xml:803(para)
msgid ""
"-A POSTROUTING -- the rule is to be appended (-A) to the POSTROUTING chain"
msgstr ""

#: serverguide/C/security.xml:804(para)
msgid ""
"-s 192.168.0.0/16 -- the rule applies to traffic originating from the "
"specified address space"
msgstr ""

#: serverguide/C/security.xml:805(para)
msgid ""
"-o ppp0 -- the rule applies to traffic scheduled to be routed through the "
"specified network device"
msgstr ""

#: serverguide/C/security.xml:807(para)
msgid ""
"-j MASQUERADE -- traffic matching this rule is to \"jump\" (-j) to the "
"MASQUERADE target to be manipulated as described above"
msgstr ""

#: serverguide/C/security.xml:815(para)
msgid ""
"Also, each chain in the filter table (the default table, and where most or "
"all packet filtering occurs) has a default <emphasis>policy</emphasis> of "
"ACCEPT, but if you are creating a firewall in addition to a gateway device, "
"you may have set the policies to DROP or REJECT, in which case your "
"masqueraded traffic needs to be allowed through the FORWARD chain for the "
"above rule to work:"
msgstr ""

#: serverguide/C/security.xml:822(screen)
#, no-wrap
msgid ""
"\n"
"sudo iptables -A FORWARD -s 192.168.0.0/16 -o ppp0 -j ACCEPT\n"
"sudo iptables -A FORWARD -d 192.168.0.0/16 -m state --state "
"ESTABLISHED,RELATED -i ppp0 -j ACCEPT\n"
msgstr ""

#: serverguide/C/security.xml:826(para)
msgid ""
"The above commands will allow all connections from your local network to the "
"Internet and all traffic related to those connections to return to the "
"machine that initiated them."
msgstr ""

#: serverguide/C/security.xml:833(para)
msgid ""
"If you want masquerading to be enabled on reboot, which you probably do, "
"edit <filename>/etc/rc.local</filename> and add any commands used above. For "
"example add the first command with no filtering:"
msgstr ""

#: serverguide/C/security.xml:837(screen)
#, no-wrap
msgid ""
"\n"
"iptables -t nat -A POSTROUTING -s 192.168.0.0/16 -o ppp0 -j MASQUERADE\n"
msgstr ""

#: serverguide/C/security.xml:845(title)
msgid "Logs"
msgstr ""

#: serverguide/C/security.xml:846(para)
msgid ""
"Firewall logs are essential for recognizing attacks, troubleshooting your "
"firewall rules, and noticing unusual activity on your network. You must "
"include logging rules in your firewall for them to be generated, though, and "
"logging rules must come before any applicable terminating rule (a rule with "
"a target that decides the fate of the packet, such as ACCEPT, DROP, or "
"REJECT)."
msgstr ""

#: serverguide/C/security.xml:853(para)
msgid ""
"If you are using <application>ufw</application>, you can turn on logging by "
"entering the following in a terminal:"
msgstr ""

#: serverguide/C/security.xml:857(command)
msgid "sudo ufw logging on"
msgstr ""

#: serverguide/C/security.xml:859(para)
msgid ""
"To turn logging off in <application>ufw</application>, simply replace "
"<emphasis role=\"italic\">on</emphasis> with <emphasis "
"role=\"italic\">off</emphasis> in the above command."
msgstr ""

#: serverguide/C/security.xml:862(para)
msgid ""
"If using <application>iptables</application> instead of "
"<application>ufw</application>, enter:"
msgstr ""

#: serverguide/C/security.xml:865(screen)
#, no-wrap
msgid ""
"\n"
"sudo iptables -A INPUT -m state --state NEW -p tcp --dport 80 -j LOG --log-"
"prefix \"NEW_HTTP_CONN: \"\n"
msgstr ""

#: serverguide/C/security.xml:868(para)
msgid ""
"A request on port 80 from the local machine, then, would generate a log in "
"dmesg that looks like this:"
msgstr ""

#: serverguide/C/security.xml:873(programlisting)
#, no-wrap
msgid ""
"[4304885.870000] NEW_HTTP_CONN: IN=lo OUT= "
"MAC=00:00:00:00:00:00:00:00:00:00:00:00:08:00 SRC=127.0.0.1 DST=127.0.0.1 "
"LEN=60 TOS=0x00 PREC=0x00 TTL=64 ID=58288 DF PROTO=TCP SPT=53981 DPT=80 "
"WINDOW=32767 RES=0x00 SYN URGP=0"
msgstr ""

#: serverguide/C/security.xml:875(para)
msgid ""
"The above log will also appear in <filename>/var/log/messages</filename>, "
"<filename>/var/log/syslog</filename>, and "
"<filename>/var/log/kern.log</filename>. This behavior can be modified by "
"editing <filename>/etc/syslog.conf</filename> appropriately or by installing "
"and configuring <application>ulogd</application> and using the ULOG target "
"instead of LOG. The <application>ulogd</application> daemon is a userspace "
"server that listens for logging instructions from the kernel specifically "
"for firewalls, and can log to any file you like, or even to a "
"<application>PostgreSQL</application> or <application>MySQL</application> "
"database. Making sense of your firewall logs can be simplified by using a "
"log analyzing tool such as <application>fwanalog</application>, "
"<application> fwlogwatch</application>, or <application>lire</application>."
msgstr ""

#: serverguide/C/security.xml:890(title)
msgid "Other Tools"
msgstr ""

#: serverguide/C/security.xml:891(para)
msgid ""
"There are many tools available to help you construct a complete firewall "
"without intimate knowledge of iptables. For the GUI-inclined:"
msgstr ""

#: serverguide/C/security.xml:897(para)
msgid ""
"<ulink url=\"http://www.fs-security.com/\">Firestarter</ulink> is quite "
"popular and easy to use."
msgstr ""

#: serverguide/C/security.xml:902(para)
msgid ""
"<ulink url=\"http://www.fwbuilder.org/\">fwbuilder</ulink> is very powerful "
"and will look familiar to an administrator who has used a commercial "
"firewall utility such as <application>Checkpoint FireWall-1</application>."
msgstr ""

#: serverguide/C/security.xml:908(para)
msgid ""
"If you prefer a command-line tool with plain-text configuration files:"
msgstr ""

#: serverguide/C/security.xml:913(para)
msgid ""
"<ulink url=\"http://www.shorewall.net/\">Shorewall</ulink> is a very "
"powerful solution to help you configure an advanced firewall for any network."
msgstr ""

#: serverguide/C/security.xml:919(para)
msgid ""
"<ulink url=\"http://www.linuxkungfu.org/\">ipkungfu</ulink> should give you "
"a working firewall \"out of the box\" with zero configuration, and will "
"allow you to easily set up a more advanced firewall by editing simple, well-"
"documented configuration files."
msgstr ""

#: serverguide/C/security.xml:926(para)
msgid ""
"<ulink url=\"http://fireflier.sourceforge.net/\">fireflier</ulink> is "
"designed to be a desktop firewall application. It is made up of a server "
"(fireflier-server) and your choice of GUI clients (GTK or QT), and behaves "
"like many popular interactive firewall applications for Windows."
msgstr ""

#: serverguide/C/security.xml:938(para)
msgid ""
"The <ulink url=\"https://wiki.ubuntu.com/UbuntuFirewall\">Ubuntu "
"Firewall</ulink> wiki page contains information on the development of "
"<application>ufw</application>."
msgstr ""

#: serverguide/C/security.xml:944(para)
msgid ""
"Also, the <application>ufw</application> manual page contains some very "
"useful information: <command>man ufw</command>."
msgstr ""

#: serverguide/C/security.xml:949(para)
msgid ""
"See the <ulink url=\"http://www.netfilter.org/documentation/HOWTO/packet-"
"filtering-HOWTO.html\">packet-filtering-HOWTO</ulink> for more information "
"on using <application>iptables</application>."
msgstr ""

#: serverguide/C/security.xml:955(para)
msgid ""
"The <ulink url=\"http://www.netfilter.org/documentation/HOWTO/NAT-"
"HOWTO.html\">nat-HOWTO</ulink> contains further details on masquerading."
msgstr ""

#: serverguide/C/security.xml:964(title)
msgid "AppArmor"
msgstr ""

#: serverguide/C/security.xml:965(para)
msgid ""
"<application>AppArmor</application> is a Linux Security Module "
"implementation of name-based mandatory access controls. AppArmor confines "
"individual programs to a set of listed files and posix 1003.1e draft "
"capabilities."
msgstr ""

#: serverguide/C/security.xml:969(para)
msgid ""
"<application>AppArmor</application> is installed and loaded by default. It "
"uses <emphasis>profiles</emphasis> of an application to determine what files "
"and permissions the application requires. Some packages will install their "
"own profiles, and additional profiles can be found in the "
"<application>apparmor-profiles</application> package."
msgstr ""

#: serverguide/C/security.xml:974(para)
msgid ""
"To install the <application>apparmor-profiles</application> package from a "
"terminal prompt:"
msgstr ""

#: serverguide/C/security.xml:980(para)
msgid "AppArmor profiles have two modes of execution:"
msgstr ""

#: serverguide/C/security.xml:985(para)
msgid ""
"Complaining/Learning: profile violations are permitted and logged. Useful "
"for testing and developing new profiles."
msgstr ""

#: serverguide/C/security.xml:990(para)
msgid ""
"Enforced/Confined: enforces profile policy as well as logging the violation."
msgstr ""

#: serverguide/C/security.xml:996(title)
msgid "Using AppArmor"
msgstr ""

#: serverguide/C/security.xml:997(para)
msgid ""
"The <application>apparmor-utils</application> package contains command line "
"utilities that you can use to change the <application>AppArmor</application> "
"execution mode, find the status of a profile, create new profiles, etc."
msgstr ""

#: serverguide/C/security.xml:1003(para)
msgid ""
"<application>apparmor_status</application> is used to view the current "
"status of AppArmor profiles."
msgstr ""

#: serverguide/C/security.xml:1007(command)
msgid "sudo apparmor_status"
msgstr ""

#: serverguide/C/security.xml:1011(para)
msgid ""
"<application>aa-complain</application> places a profile into "
"<emphasis>complain</emphasis> mode."
msgstr ""

#: serverguide/C/security.xml:1015(command)
msgid "sudo aa-complain /path/to/bin"
msgstr ""

#: serverguide/C/security.xml:1019(para)
msgid ""
"<application>aa-enforce</application> places a profile into "
"<emphasis>enforce</emphasis> mode."
msgstr ""

#: serverguide/C/security.xml:1023(command)
msgid "sudo aa-enforce /path/to/bin"
msgstr ""

#: serverguide/C/security.xml:1027(para)
msgid ""
"The <filename>/etc/apparmor.d</filename> directory is where the AppArmor "
"profiles are located. It can be used to manipulate the "
"<emphasis>mode</emphasis> of all profiles."
msgstr ""

#: serverguide/C/security.xml:1031(para)
msgid "Enter the following to place all profiles into complain mode:"
msgstr ""

#: serverguide/C/security.xml:1035(command)
msgid "sudo aa-complain /etc/apparmor.d/*"
msgstr ""

#: serverguide/C/security.xml:1037(para)
msgid "To place all profiles in enforce mode:"
msgstr ""

#: serverguide/C/security.xml:1041(command)
msgid "sudo aa-enforce /etc/apparmor.d/*"
msgstr ""

#: serverguide/C/security.xml:1045(para)
msgid ""
"<application>apparmor_parser</application> is used to load a profile into "
"the kernel. It can also be used to reload a currently loaded profile using "
"the <emphasis>-r</emphasis> option. To load a profile:"
msgstr ""

#: serverguide/C/security.xml:1050(command) serverguide/C/security.xml:1082(command)
msgid "cat /etc/apparmor.d/profile.name | sudo apparmor_parser -a"
msgstr ""

#: serverguide/C/security.xml:1052(para)
msgid "To reload a profile:"
msgstr ""

#: serverguide/C/security.xml:1056(command)
msgid "cat /etc/apparmor.d/profile.name | sudo apparmor_parser -r"
msgstr ""

#: serverguide/C/security.xml:1060(para)
msgid ""
"<filename>/etc/init.d/apparmor</filename> can be used to "
"<emphasis>reload</emphasis> all profiles:"
msgstr ""

#: serverguide/C/security.xml:1064(command)
msgid "sudo /etc/init.d/apparmor reload"
msgstr ""

#: serverguide/C/security.xml:1068(para)
msgid ""
"The <filename>/etc/apparmor.d/disable</filename> directory can be used along "
"with the <application>apparmor_parser -R</application> option to "
"<emphasis>disable</emphasis> a profile."
msgstr ""

#: serverguide/C/security.xml:1073(command)
msgid "sudo ln -s /etc/apparmor.d/profile.name /etc/apparmor.d/disable/"
msgstr ""

#: serverguide/C/security.xml:1074(command)
msgid "sudo apparmor_parser -R /etc/apparmor.d/profile.name"
msgstr ""

#: serverguide/C/security.xml:1076(para)
msgid ""
"To <emphasis>re-enable</emphasis> a disabled profile remove the symbolic "
"link to the profile in <filename>/etc/apparmor.d/disable/</filename>. Then "
"load the profile using the <emphasis>-a</emphasis> option."
msgstr ""

#: serverguide/C/security.xml:1081(command)
msgid "sudo rm /etc/apparmor.d/disable/profile.name"
msgstr ""

#: serverguide/C/security.xml:1086(para)
msgid ""
"<application>AppArmor</application> can be disabled, and the kernel module "
"unloaded by entering the following:"
msgstr ""

#: serverguide/C/security.xml:1090(command)
msgid "sudo /etc/init.d/apparmor stop"
msgstr ""

#: serverguide/C/security.xml:1091(command)
msgid "sudo update-rc.d -f apparmor remove"
msgstr ""

#: serverguide/C/security.xml:1095(para)
msgid "To re-enable <application>AppArmor</application> enter:"
msgstr ""

#: serverguide/C/security.xml:1099(command)
msgid "sudo /etc/init.d/apparmor start"
msgstr ""

#: serverguide/C/security.xml:1100(command)
msgid "sudo update-rc.d apparmor defaults"
msgstr ""

#: serverguide/C/security.xml:1105(para)
msgid ""
"Replace <emphasis>profile.name</emphasis> with the name of the profile you "
"want to manipulate. Also, replace <filename>/path/to/bin/</filename> with "
"the actual executable file path. For example for the "
"<application>ping</application> command use <filename>/bin/ping</filename>"
msgstr ""

#: serverguide/C/security.xml:1113(title)
msgid "Profiles"
msgstr ""

#: serverguide/C/security.xml:1114(para)
msgid ""
"<application>AppArmor</application> profiles are simple text files located "
"in <filename>/etc/apparmor.d/</filename>. The files are named after the full "
"path to the executable they profile replacing the \"/\" with \".\". For "
"example <filename>/etc/apparmor.d/bin.ping</filename> is the AppArmor "
"profile for the <filename>/bin/ping</filename> command."
msgstr ""

#: serverguide/C/security.xml:1120(para)
msgid "There are two main type of rules used in profiles:"
msgstr ""

#: serverguide/C/security.xml:1125(para)
msgid ""
"<emphasis>Path entries:</emphasis> which detail which files an application "
"can access in the file system."
msgstr ""

#: serverguide/C/security.xml:1130(para)
msgid ""
"<emphasis>Capability entries:</emphasis> determine what privileges a "
"confined process is allowed to use."
msgstr ""

#: serverguide/C/security.xml:1135(para)
msgid ""
"As an example take a look at <filename>/etc/apparmor.d/bin.ping</filename>:"
msgstr ""

#: serverguide/C/security.xml:1138(programlisting)
#, no-wrap
msgid ""
"\n"
"#include &lt;tunables/global&gt;\n"
"/bin/ping flags=(complain) {\n"
"  #include &lt;abstractions/base&gt;\n"
"  #include &lt;abstractions/consoles&gt;\n"
"  #include &lt;abstractions/nameservice&gt;\n"
"\n"
"  capability net_raw,\n"
"  capability setuid,\n"
"  network inet raw,\n"
"  \n"
"  /bin/ping mixr,\n"
"  /etc/modules.conf r,\n"
"}\n"
msgstr ""

#: serverguide/C/security.xml:1155(para)
msgid ""
"<emphasis>#include &lt;tunables/global&gt;:</emphasis> include statements "
"from other files. This allows statements pertaining to multiple applications "
"to be placed in a common file."
msgstr ""

#: serverguide/C/security.xml:1161(para)
msgid ""
"<emphasis>/bin/ping flags=(complain):</emphasis> path to the profiled "
"program, also setting the mode to <emphasis>complain</emphasis>."
msgstr ""

#: serverguide/C/security.xml:1167(para)
msgid ""
"<emphasis>capability net_raw,:</emphasis> allows the application access to "
"the CAP_NET_RAW Posix.1e capability."
msgstr ""

#: serverguide/C/security.xml:1172(para)
msgid ""
"<emphasis>/bin/ping mixr,:</emphasis> allows the application read and "
"execute access to the file."
msgstr ""

#: serverguide/C/security.xml:1178(para)
msgid ""
"After editing a profile file the profile must be reloaded. See <xref "
"linkend=\"apparmor-usage\"/> for details."
msgstr ""

#: serverguide/C/security.xml:1183(title)
msgid "Creating a Profile"
msgstr ""

#: serverguide/C/security.xml:1186(para)
msgid ""
"<emphasis>Design a test plan:</emphasis> Try to think about how the "
"application should be exercised. The test plan should be divided into small "
"test cases. Each test case should have a small description and list the "
"steps to follow."
msgstr ""

#: serverguide/C/security.xml:1190(para)
msgid "Some standard test cases are:"
msgstr ""

#: serverguide/C/security.xml:1195(para)
msgid "Starting the program."
msgstr ""

#: serverguide/C/security.xml:1200(para)
msgid "Stopping the program."
msgstr ""

#: serverguide/C/security.xml:1205(para)
msgid "Reloading the program."
msgstr ""

#: serverguide/C/security.xml:1210(para)
msgid "Testing all the commands supported by the init script."
msgstr ""

#: serverguide/C/security.xml:1217(para)
msgid ""
"<emphasis>Generate the new profile:</emphasis> Use <application>aa-"
"genprof</application> to generate a new profile. From a terminal:"
msgstr ""

#: serverguide/C/security.xml:1222(command)
msgid "sudo aa-genprof executable"
msgstr ""

#: serverguide/C/security.xml:1224(para)
msgid "For example:"
msgstr ""

#: serverguide/C/security.xml:1228(command)
msgid "sudo aa-genprof slapd"
msgstr ""

#: serverguide/C/security.xml:1232(para)
msgid ""
"To get your new profile included in the <application>apparmor-"
"profiles</application> package, file a bug in <emphasis>Launchpad</emphasis> "
"against the <ulink "
"url=\"https://bugs.launchpad.net/ubuntu/+source/apparmor/+filebug\">AppArmor<"
"/ulink> package:"
msgstr ""

#: serverguide/C/security.xml:1239(para)
msgid "Include your test plan and test cases."
msgstr ""

#: serverguide/C/security.xml:1244(para)
msgid "Attach your new profile to the bug."
msgstr ""

#: serverguide/C/security.xml:1253(title)
msgid "Updating Profiles"
msgstr ""

#: serverguide/C/security.xml:1254(para)
msgid ""
"When the program is misbehaving, audit messages are sent to the log files. "
"The program <application>aa-logprof</application> can be used to scan log "
"files for <application>AppArmor</application> audit messages, review them "
"and update the profiles. From a terminal:"
msgstr ""

#: serverguide/C/security.xml:1259(command)
msgid "sudo aa-logprof"
msgstr ""

#: serverguide/C/security.xml:1267(para)
msgid ""
"See the <ulink "
"url=\"http://www.novell.com/documentation/apparmor/apparmor201_sp10_admin/ind"
"ex.html?page=/documentation/apparmor/apparmor201_sp10_admin/data/book_apparmo"
"r_admin.html\">AppArmor Administration Guide</ulink> for advanced "
"configuration options."
msgstr ""

#: serverguide/C/security.xml:1274(para)
msgid ""
"For details using AppArmor with other Ubuntu releases see the <ulink "
"url=\"https://help.ubuntu.com/community/AppArmor\"> AppArmor Community "
"Wiki</ulink> page."
msgstr ""

#: serverguide/C/security.xml:1282(para)
msgid ""
"The <ulink url=\"http://en.opensuse.org/AppArmor\">OpenSUSE AppArmor</ulink> "
"page is another introduction to AppArmor."
msgstr ""

#: serverguide/C/security.xml:1289(para)
msgid ""
"A great place to ask for <application>AppArmor</application> assistance, and "
"get involved with the Ubuntu Server community, is the <emphasis>#ubuntu-"
"server</emphasis> IRC channel on <ulink "
"url=\"http://freenode.net\">freenode</ulink>."
msgstr ""

#: serverguide/C/security.xml:1299(title)
msgid "Certificates"
msgstr ""

#: serverguide/C/security.xml:1300(para)
msgid ""
"One of the most common forms of cryptography today is <emphasis>public-"
"key</emphasis> cryptography. Public-key cryptography utilizes a "
"<emphasis>public key</emphasis> and a <emphasis>private key</emphasis>. The "
"system works by <emphasis>encrypting</emphasis> information using the public "
"key. The information can then only be <emphasis>decrypted</emphasis> using "
"the private key."
msgstr ""

#: serverguide/C/security.xml:1306(para)
msgid ""
"A common use for public-key cryptography is encrypting application traffic "
"using a Secure Socket Layer (SSL) or Transport Layer Security (TLS) "
"connection. For example, configuring Apache to provide "
"<emphasis>HTTPS</emphasis>, the HTTP protocol over SSL. This allows a way to "
"encrypt traffic using a protocol that does not itself provide encryption."
msgstr ""

#: serverguide/C/security.xml:1311(para)
msgid ""
"A <emphasis>Certificate</emphasis> is a method used to distribute a "
"<emphasis>public key</emphasis> and other information about a server and the "
"organization who is responsible for it. Certificates can be digitally signed "
"by a <emphasis>Certification Authority</emphasis> or CA. A CA is a trusted "
"third party that has confirmed that the information contained in the "
"certificate is accurate."
msgstr ""

#: serverguide/C/security.xml:1318(title)
msgid "Types of Certificates"
msgstr ""

#: serverguide/C/security.xml:1319(para)
msgid ""
"To set up a secure server using public-key cryptography, in most cases, you "
"send your certificate request (including your public key), proof of your "
"company's identity, and payment to a CA. The CA verifies the certificate "
"request and your identity, and then sends back a certificate for your secure "
"server. Alternatively, you can create your own <emphasis>self-"
"signed</emphasis> certificate."
msgstr ""

#: serverguide/C/security.xml:1329(para)
msgid ""
"Note, that self-signed certificates should not be used in most production "
"environments."
msgstr ""

#: serverguide/C/security.xml:1333(para)
msgid ""
"Continuing the HTTPS example, a CA-signed certificate provides two important "
"capabilities that a self-signed certificate does not:"
msgstr ""

#: serverguide/C/security.xml:1340(para)
msgid ""
"Browsers (usually) automatically recognize the certificate and allow a "
"secure connection to be made without prompting the user."
msgstr ""

#: serverguide/C/security.xml:1347(para)
msgid ""
"When a CA issues a signed certificate, it is guaranteeing the identity of "
"the organization that is providing the web pages to the browser."
msgstr ""

#: serverguide/C/security.xml:1355(para)
msgid ""
"Most Web browsers, and computers, that support SSL have a list of CAs whose "
"certificates they automatically accept. If a browser encounters a "
"certificate whose authorizing CA is not in the list, the browser asks the "
"user to either accept or decline the connection. Also, other applications "
"may generate an error message when using a self-singed certificate."
msgstr ""

#: serverguide/C/security.xml:1363(para)
msgid ""
"The process of getting a certificate from a CA is fairly easy. A quick "
"overview is as follows:"
msgstr ""

#: serverguide/C/security.xml:1370(para)
msgid "Create a private and public encryption key pair."
msgstr ""

#: serverguide/C/security.xml:1373(para)
msgid ""
"Create a certificate request based on the public key. The certificate "
"request contains information about your server and the company hosting it."
msgstr ""

#: serverguide/C/security.xml:1378(para)
msgid ""
"Send the certificate request, along with documents proving your identity, to "
"a CA. We cannot tell you which certificate authority to choose. Your "
"decision may be based on your past experiences, or on the experiences of "
"your friends or colleagues, or purely on monetary factors."
msgstr ""

#: serverguide/C/security.xml:1384(para)
msgid ""
"Once you have decided upon a CA, you need to follow the instructions they "
"provide on how to obtain a certificate from them."
msgstr ""

#: serverguide/C/security.xml:1389(para)
msgid ""
"When the CA is satisfied that you are indeed who you claim to be, they send "
"you a digital certificate."
msgstr ""

#: serverguide/C/security.xml:1393(para)
msgid ""
"Install this certificate on your secure server, and configure the "
"appropriate applications to use the certificate."
msgstr ""

#: serverguide/C/security.xml:1402(title)
msgid "Generating a Certificate Signing Request (CSR)"
msgstr ""

#: serverguide/C/security.xml:1404(para)
msgid ""
"Whether you are getting a certificate from a CA or generating your own self-"
"signed certificate, the first step is to generate a key."
msgstr ""

#: serverguide/C/security.xml:1409(para)
msgid ""
"If the certificate will be used by service daemons, such as Apache, Postfix, "
"Dovecot, etc, a key without a passphrase is often appropriate. Not having a "
"passphrase allows the services to start without manual intervention, usually "
"the preferred way to start a daemon."
msgstr ""

#: serverguide/C/security.xml:1415(para)
msgid ""
"This section will cover generating a key with a passphrase, and one without. "
"The non-passphrase key will then be used to generate a certificate that can "
"be used with various service daemons."
msgstr ""

#: serverguide/C/security.xml:1421(para)
msgid ""
"Running your secure service without a passphrase is convenient because you "
"will not need to enter the passphrase every time you start your secure "
"service. But it is insecure and a compromise of the key means a compromise "
"of the server as well."
msgstr ""

#: serverguide/C/security.xml:1428(para)
msgid ""
"To generate the <emphasis>keys</emphasis> for the Certificate Signing "
"Request (CSR) run the following command from a terminal prompt:"
msgstr ""

#: serverguide/C/security.xml:1434(command)
msgid "openssl genrsa -des3 -out server.key 1024"
msgstr ""

#: serverguide/C/security.xml:1437(programlisting)
#, no-wrap
msgid ""
"\n"
"Generating RSA private key, 1024 bit long modulus\n"
".....................++++++\n"
".................++++++\n"
"unable to write 'random state'\n"
"e is 65537 (0x10001)\n"
"Enter pass phrase for server.key:\n"
msgstr ""

#: serverguide/C/security.xml:1446(para)
msgid ""
"You can now enter your passphrase. For best security, it should at least "
"contain eight characters. The minimum length when specifying -des3 is four "
"characters. It should include numbers and/or punctuation and not be a word "
"in a dictionary. Also remember that your passphrase is case-sensitive."
msgstr ""

#: serverguide/C/security.xml:1454(para)
msgid ""
"Re-type the passphrase to verify. Once you have re-typed it correctly, the "
"server key is generated and stored in the <filename>server.key</filename> "
"file."
msgstr ""

#: serverguide/C/security.xml:1460(para)
msgid ""
"Now create the insecure key, the one without a passphrase, and shuffle the "
"key names:"
msgstr ""

#: serverguide/C/security.xml:1466(command)
msgid "openssl rsa -in server.key -out server.key.insecure"
msgstr ""

#: serverguide/C/security.xml:1467(command)
msgid "mv server.key server.key.secure"
msgstr ""

#: serverguide/C/security.xml:1468(command)
msgid "mv server.key.insecure server.key"
msgstr ""

#: serverguide/C/security.xml:1471(para)
msgid ""
"The insecure key is now named <filename>server.key</filename>, and you can "
"use this file to generate the CSR without passphrase."
msgstr ""

#: serverguide/C/security.xml:1476(para)
msgid "To create the CSR, run the following command at a terminal prompt:"
msgstr ""

#: serverguide/C/security.xml:1481(command)
msgid "openssl req -new -key server.key -out server.csr"
msgstr ""

#: serverguide/C/security.xml:1484(para)
msgid ""
"It will prompt you enter the passphrase. If you enter the correct "
"passphrase, it will prompt you to enter Company Name, Once you enter all "
"these details, your CSR will be created and it will be stored in the "
"<filename>server.csr</filename> file. Site Name, Email Id, etc."
msgstr ""

#: serverguide/C/security.xml:1492(para)
msgid ""
"You can now submit this CSR file to a CA for processing. The CA will use "
"this CSR file and issue the certificate. On the other hand, you can create "
"self-signed certificate using this CSR."
msgstr ""

#: serverguide/C/security.xml:1500(title)
msgid "Creating a Self-Signed Certificate"
msgstr ""

#: serverguide/C/security.xml:1501(para)
msgid ""
"To create the self-signed certificate, run the following command at a "
"terminal prompt:"
msgstr ""

#: serverguide/C/security.xml:1506(command)
msgid ""
"openssl x509 -req -days 365 -in server.csr -signkey server.key -out "
"server.crt"
msgstr ""

#: serverguide/C/security.xml:1509(para)
msgid ""
"The above command will prompt you to enter the passphrase. Once you enter "
"the correct passphrase, your certificate will be created and it will be "
"stored in the <filename>server.crt</filename> file."
msgstr ""

#: serverguide/C/security.xml:1514(para)
msgid ""
"If your secure server is to be used in a production environment, you "
"probably need a CA-signed certificate. It is not recommended to use self-"
"signed certificate."
msgstr ""

#: serverguide/C/security.xml:1522(title)
msgid "Installing the Certificate"
msgstr ""

#: serverguide/C/security.xml:1524(para)
msgid ""
"You can install the key file <filename>server.key</filename> and certificate "
"file <filename>server.crt</filename>, or the certificate file issued by your "
"CA, by running following commands at a terminal prompt:"
msgstr ""

#: serverguide/C/security.xml:1530(command)
msgid "sudo cp server.crt /etc/ssl/certs"
msgstr ""

#: serverguide/C/security.xml:1531(command)
msgid "sudo cp server.key /etc/ssl/private"
msgstr ""

#: serverguide/C/security.xml:1533(para)
msgid ""
"Now simply configure any applications, with the ability to use public-key "
"cryptography, to use the <emphasis>certificate</emphasis> and "
"<emphasis>key</emphasis> files. For example, "
"<application>Apache</application> can provide HTTPS, "
"<application>Dovecot</application> can provide IMAPS and POP3S, etc."
msgstr ""

#: serverguide/C/security.xml:1540(title)
msgid "Certification Authority"
msgstr ""

#: serverguide/C/security.xml:1542(para)
msgid ""
"If the services on your network require more than a few self-signed "
"certificates it may be worth the additional effort to setup your own "
"internal <emphasis>Certification Authority (CA)</emphasis>. Using "
"certificates signed by your own CA, allows the various services using the "
"certificates to easily trust other services using certificates issued from "
"the same CA."
msgstr ""

#: serverguide/C/security.xml:1552(para)
msgid ""
"First, create the directories to hold the CA certificate and related files:"
msgstr ""

#: serverguide/C/security.xml:1557(command)
msgid "sudo mkdir /etc/ssl/CA"
msgstr ""

#: serverguide/C/security.xml:1558(command)
msgid "sudo mkdir /etc/ssl/newcerts"
msgstr ""

#: serverguide/C/security.xml:1564(para)
msgid ""
"The CA needs a few additional files to operate, one to keep track of the "
"last serial number used by the CA, each certificate must have a unique "
"serial number, and another file to record which certificates have been "
"issued:"
msgstr ""

#: serverguide/C/security.xml:1571(command)
msgid "sudo sh -c \"echo '01' &gt; /etc/ssl/CA/serial\""
msgstr ""

#: serverguide/C/security.xml:1572(command)
msgid "sudo touch /etc/ssl/CA/index.txt"
msgstr ""

#: serverguide/C/security.xml:1578(para)
msgid ""
"The third file is a CA configuration file. Though not strictly necessary, it "
"is very convenient when issuing multiple certificates. Edit "
"<filename>/etc/ssl/openssl.cnf</filename>, and in the <emphasis>[ CA_default "
"]</emphasis> change:"
msgstr ""

#: serverguide/C/security.xml:1584(programlisting)
#, no-wrap
msgid ""
"\n"
"dir             = /etc/ssl/             # Where everything is kept\n"
"database        = $dir/CA/index.txt     # database index file.\n"
"certificate     = $dir/certs/cacert.pem # The CA certificate\n"
"serial          = $dir/CA/serial        # The current serial number\n"
"private_key     = $dir/private/cakey.pem# The private key\n"
msgstr ""

#: serverguide/C/security.xml:1595(para)
msgid "Next, create the self-singed root certificate:"
msgstr ""

#: serverguide/C/security.xml:1600(command)
msgid ""
"openssl req -new -x509 -extensions v3_ca -keyout cakey.pem -out cacert.pem -"
"days 3650"
msgstr ""

#: serverguide/C/security.xml:1603(para)
msgid "You will then be asked to enter the details about the certificate."
msgstr ""

#: serverguide/C/security.xml:1610(para)
msgid "Now install the root certificate and key:"
msgstr ""

#: serverguide/C/security.xml:1615(command)
msgid "sudo mv cakey.pem /etc/ssl/private/"
msgstr ""

#: serverguide/C/security.xml:1616(command)
msgid "sudo mv cacert.pem /etc/ssl/certs/"
msgstr ""

#: serverguide/C/security.xml:1622(para)
msgid ""
"You are now ready to start signing certificates. The first item needed is a "
"Certificate Signing Request (CSR), see <xref linkend=\"generating-a-csr\"/> "
"for details. Once you have a CSR, enter the following to generate a "
"certificate signed by the CA:"
msgstr ""

#: serverguide/C/security.xml:1629(command)
msgid "sudo openssl ca -in server.csr -config /etc/ssl/openssl.cnf"
msgstr ""

#: serverguide/C/security.xml:1632(para)
msgid ""
"After entering the password for the CA key, you will be prompted to sign the "
"certificate, and again to commit the new certificate. You should then see a "
"somewhat large amount of output related to the certificate creation."
msgstr ""

#: serverguide/C/security.xml:1641(para)
msgid ""
"There should now be a new file, "
"<filename>/etc/ssl/newcerts/01.pem</filename>, containing the same output. "
"Copy and paste everything between the <emphasis>-----BEGIN CERTIFICATE-----"
"</emphasis> and <emphasis>----END CERTIFICATE-----</emphasis> lines to a "
"file named after the hostname of the server where the certificate will be "
"installed. For example <filename>mail.example.com.crt</filename>, is a nice "
"descriptive name."
msgstr ""

#: serverguide/C/security.xml:1649(para)
msgid ""
"Subsequent certificates will be named <filename>02.pem</filename>, "
"<filename>03.pem</filename>, etc."
msgstr ""

#: serverguide/C/security.xml:1654(para)
msgid ""
"Replace <emphasis>mail.example.com.crt</emphasis> with your own descriptive "
"name."
msgstr ""

#: serverguide/C/security.xml:1662(para)
msgid ""
"Finally, copy the new certificate to the host that needs it, and configure "
"the appropriate applications to use it. The default location to install "
"certificates is <filename role=\"directory\">/etc/ssl/certs</filename>. This "
"enables multiple services to use the same certificate without overly "
"complicated file permissions."
msgstr ""

#: serverguide/C/security.xml:1668(para)
msgid ""
"For applications that can be configured to use a CA certificate, you should "
"also copy the <filename>/etc/ssl/certs/cacert.pem</filename> file to the "
"<filename role=\"directory\">/etc/ssl/certs/</filename> directory on each "
"server."
msgstr ""

#: serverguide/C/security.xml:1682(para)
msgid ""
"For more detailed instructions on using cryptography see the <ulink "
"url=\"http://tldp.org/HOWTO/SSL-Certificates-HOWTO/index.html\">SSL "
"Certificates HOWTO</ulink> by tlpd.org"
msgstr ""

#: serverguide/C/security.xml:1688(para)
msgid ""
"<ulink url=\"http://www.pki-page.org/\">The PKI Page</ulink> contains a list "
"of Certificate Authorities."
msgstr ""

#: serverguide/C/security.xml:1693(para)
msgid ""
"The Wikipedia <ulink "
"url=\"http://en.wikipedia.org/wiki/Https\">HTTPS</ulink> page has more "
"information regarding HTTPS."
msgstr ""

#: serverguide/C/security.xml:1698(para)
msgid ""
"For more information on <emphasis>OpenSSL</emphasis> see the <ulink "
"url=\"http://www.openssl.org/\">OpenSSL Home Page</ulink>."
msgstr ""

#: serverguide/C/security.xml:1703(para)
msgid ""
"Also, O'Reilly's <ulink "
"url=\"http://oreilly.com/catalog/9780596002701/\">Network Security with "
"OpenSSL</ulink> is a good in depth reference."
msgstr ""

#: serverguide/C/security.xml:1712(title)
msgid "eCryptfs"
msgstr ""

#: serverguide/C/security.xml:1714(para)
msgid ""
"<emphasis>eCryptfs</emphasis> is a POSIX-compliant enterprise-class stacked "
"cryptographic filesystem for Linux. Layering on top of the filesystem layer "
"<emphasis>eCryptfs</emphasis> protects files no matter the underlying "
"filesystem, partition type, etc."
msgstr ""

#: serverguide/C/security.xml:1720(para)
msgid ""
"During installation there is an option to encrypt the <filename "
"role=\"directory\">/home</filename> partition. This will automatically "
"configure everything needed to encrypt and mount the partition."
msgstr ""

#: serverguide/C/security.xml:1725(para)
msgid ""
"As an example, this section will cover configuring <filename "
"role=\"directory\">/srv</filename> to be encrypted using eCryptfs."
msgstr ""

#: serverguide/C/security.xml:1730(title)
msgid "Using eCryptfs"
msgstr ""

#: serverguide/C/security.xml:1732(para)
msgid "First, install the necessary packages. From a terminal prompt enter:"
msgstr ""

#: serverguide/C/security.xml:1737(command)
msgid "sudo apt-get install ecryptfs-utils"
msgstr ""

#: serverguide/C/security.xml:1740(para)
msgid "Now mount the partition to be encrypted:"
msgstr ""

#: serverguide/C/security.xml:1745(command)
msgid "sudo mount -t ecryptfs /srv /srv"
msgstr ""

#: serverguide/C/security.xml:1748(para)
msgid ""
"You will then be prompted for some details on how "
"<application>ecryptfs</application> should encrypt the data."
msgstr ""

#: serverguide/C/security.xml:1752(para)
msgid ""
"To test that files placed in <filename>/srv</filename> are indeed encrypted "
"copy the <filename>/etc/default</filename> folder to "
"<filename>/srv</filename>:"
msgstr ""

#: serverguide/C/security.xml:1758(command) serverguide/C/clustering.xml:185(command)
msgid "sudo cp -r /etc/default /srv"
msgstr ""

#: serverguide/C/security.xml:1761(para)
msgid "Now unmount <filename>/srv</filename>, and try to view a file:"
msgstr ""

#: serverguide/C/security.xml:1766(command) serverguide/C/installation.xml:1088(command) serverguide/C/clustering.xml:193(command)
msgid "sudo umount /srv"
msgstr ""

#: serverguide/C/security.xml:1767(command)
msgid "cat /srv/default/cron"
msgstr ""

#: serverguide/C/security.xml:1770(para)
msgid ""
"Remounting <filename>/srv</filename> using "
"<application>ecryptfs</application> will make the data viewable once again."
msgstr ""

#: serverguide/C/security.xml:1776(title)
msgid "Automatically Mounting Encrypted Partitions"
msgstr ""

#: serverguide/C/security.xml:1778(para)
msgid ""
"There are a couple of ways to automatically mount an "
"<application>ecryptfs</application> encrypted filesystem at boot. This "
"example will use a <filename>/root/.ecryptfsrc</filename> file containing "
"mount options, along with a passphrase file residing on a USB key."
msgstr ""

#: serverguide/C/security.xml:1784(para)
msgid "First, create <filename>/root/.ecryptfsrc</filename> containing:"
msgstr ""

#: serverguide/C/security.xml:1788(programlisting)
#, no-wrap
msgid ""
"\n"
"key=passphrase:passphrase_passwd_file=/mnt/usb/passwd_file.txt\n"
"ecryptfs_sig=5826dd62cf81c615\n"
"ecryptfs_cipher=aes\n"
"ecryptfs_key_bytes=16\n"
"ecryptfs_passthrough=n\n"
"ecryptfs_enable_filename_crypto=n\n"
msgstr ""

#: serverguide/C/security.xml:1798(para)
msgid ""
"Adjust the <emphasis>ecryptfs_sig</emphasis> to the signature in "
"<filename>/root/.ecryptfs/sig-cache.txt</filename>."
msgstr ""

#: serverguide/C/security.xml:1803(para)
msgid ""
"Next, create the <filename>/mnt/usb/passwd_file.txt</filename> passphrase "
"file:"
msgstr ""

#: serverguide/C/security.xml:1807(programlisting)
#, no-wrap
msgid ""
"\n"
"passphrase_passwd=[secrets]\n"
msgstr ""

#: serverguide/C/security.xml:1811(para)
msgid "Now add the necessary lines to <filename>/etc/fstab</filename>:"
msgstr ""

#: serverguide/C/security.xml:1815(programlisting)
#, no-wrap
msgid ""
"\n"
"/dev/sdb1       /mnt/usb        ext3    ro      0 0\n"
"/srv /srv ecryptfs defaults 0 0\n"
msgstr ""

#: serverguide/C/security.xml:1820(para)
msgid "Make sure the USB drive is mounted before the encrypted partition."
msgstr ""

#: serverguide/C/security.xml:1824(para)
msgid ""
"Finally, reboot and the <filename>/srv</filename> should be mounted using "
"ecryptfs."
msgstr ""

#: serverguide/C/security.xml:1832(para)
msgid ""
"The <application>ecryptfs-utils</application> package includes several other "
"useful utilities:"
msgstr ""

#: serverguide/C/security.xml:1838(para)
msgid ""
"<emphasis>ecryptfs-setup-private:</emphasis> creates a "
"<filename>~/Private</filename> directory to contain encrypted information. "
"This utility can be run by unprivileged users to keep data private from "
"other users on the system."
msgstr ""

#: serverguide/C/security.xml:1845(para)
msgid ""
"<emphasis>ecryptfs-mount-private and ecryptfs-umount-private:</emphasis> "
"will mount and unmount respectively, a users <filename>~/Private</filename> "
"directory."
msgstr ""

#: serverguide/C/security.xml:1851(para)
msgid ""
"<emphasis>ecryptfs-add-passphrase:</emphasis> adds a new passphrase to the "
"kernel keyring."
msgstr ""

#: serverguide/C/security.xml:1856(para)
msgid ""
"<emphasis>ecryptfs-manager:</emphasis> manages "
"<application>eCryptfs</application> objects such as keys."
msgstr ""

#: serverguide/C/security.xml:1861(para)
msgid ""
"<emphasis>ecryptfs-stat:</emphasis> allows you to view the "
"<application>ecryptfs</application> meta information for a file."
msgstr ""

#: serverguide/C/security.xml:1874(para)
msgid ""
"For more information on eCryptfs see the <ulink "
"url=\"https://launchpad.net/ecryptfs\">Launch Pad project page</ulink>"
msgstr ""

#: serverguide/C/security.xml:1879(para)
msgid ""
"There is also a <ulink "
"url=\"http://www.linuxjournal.com/article/9400\">Linux Journal</ulink> "
"article covering eCryptfs."
msgstr ""

#: serverguide/C/security.xml:1884(para)
msgid ""
"Also, for more <application>ecryptfs</application> options see the <ulink "
"url=\"http://manpages.ubuntu.com/manpages/jaunty/en/man7/ecryptfs.7.html\">ec"
"ryptfs man page</ulink>."
msgstr ""

#: serverguide/C/remote-administration.xml:13(title)
msgid "Remote Administration"
msgstr ""

#: serverguide/C/remote-administration.xml:14(para)
msgid ""
"There are many ways to remotely administer a Linux server. This chapter will "
"cover one of the most popular <application>SSH</application> as well as "
"<application>eBox</application>, a web based administration framework."
msgstr ""

#: serverguide/C/remote-administration.xml:23(para)
msgid ""
"This section of the Ubuntu Server Guide introduces a powerful collection of "
"tools for the remote control of networked computers and transfer of data "
"between networked computers, called <emphasis>OpenSSH</emphasis>. You will "
"also learn about some of the configuration settings possible with the "
"OpenSSH server application and how to change them on your Ubuntu system."
msgstr ""

#: serverguide/C/remote-administration.xml:30(para)
msgid ""
"OpenSSH is a freely available version of the Secure Shell (SSH) protocol "
"family of tools for remotely controlling a computer or transferring files "
"between computers. Traditional tools used to accomplish these functions, "
"such as <application>telnet</application> or <application>rcp</application>, "
"are insecure and transmit the user's password in cleartext when used. "
"OpenSSH provides a server daemon and client tools to facilitate secure, "
"encrypted remote control and file transfer operations, effectively replacing "
"the legacy tools."
msgstr ""

#: serverguide/C/remote-administration.xml:39(para)
msgid ""
"The OpenSSH server component, <application>sshd</application>, listens "
"continuously for client connections from any of the client tools. When a "
"connection request occurs, <application>sshd</application> sets up the "
"correct connection depending on the type of client tool connecting. For "
"example, if the remote computer is connecting with the "
"<application>ssh</application> client application, the OpenSSH server sets "
"up a remote control session after authentication. If a remote user connects "
"to an OpenSSH server with <application>scp</application>, the OpenSSH server "
"daemon initiates a secure copy of files between the server and client after "
"authentication. OpenSSH can use many authentication methods, including plain "
"password, public key, and <application>Kerberos</application> tickets."
msgstr ""

#: serverguide/C/remote-administration.xml:53(para)
msgid ""
"Installation of the OpenSSH client and server applications is simple. To "
"install the OpenSSH client applications on your Ubuntu system, use this "
"command at a terminal prompt:"
msgstr ""

#: serverguide/C/remote-administration.xml:59(command)
msgid "sudo apt-get install openssh-client"
msgstr ""

#: serverguide/C/remote-administration.xml:61(para)
msgid ""
"To install the OpenSSH server application, and related support files, use "
"this command at a terminal prompt:"
msgstr ""

#: serverguide/C/remote-administration.xml:66(command)
msgid "sudo apt-get install openssh-server"
msgstr ""

#: serverguide/C/remote-administration.xml:68(para)
msgid ""
"The <application>openssh-server</application> package can also be selected "
"to install during the Server Edition installation process."
msgstr ""

#: serverguide/C/remote-administration.xml:75(para)
msgid ""
"You may configure the default behavior of the OpenSSH server application, "
"<application>sshd</application>, by editing the file "
"<filename>/etc/ssh/sshd_config</filename>. For information about the "
"configuration directives used in this file, you may view the appropriate "
"manual page with the following command, issued at a terminal prompt:"
msgstr ""

#: serverguide/C/remote-administration.xml:83(command)
msgid "man sshd_config"
msgstr ""

#: serverguide/C/remote-administration.xml:85(para)
msgid ""
"There are many directives in the <application>sshd</application> "
"configuration file controlling such things as communication settings and "
"authentication modes. The following are examples of configuration directives "
"that can be changed by editing the <filename>/etc/ssh/sshd_config</filename> "
"file."
msgstr ""

#: serverguide/C/remote-administration.xml:92(para)
msgid ""
"Prior to editing the configuration file, you should make a copy of the "
"original file and protect it from writing so you will have the original "
"settings as a reference and to reuse as necessary."
msgstr ""

#: serverguide/C/remote-administration.xml:96(para)
msgid ""
"Copy the <filename>/etc/ssh/sshd_config</filename> file and protect it from "
"writing with the following commands, issued at a terminal prompt:"
msgstr ""

#: serverguide/C/remote-administration.xml:101(command)
msgid "sudo cp /etc/ssh/sshd_config /etc/ssh/sshd_config.original"
msgstr ""

#: serverguide/C/remote-administration.xml:102(command)
msgid "sudo chmod a-w /etc/ssh/sshd_config.original"
msgstr ""

#: serverguide/C/remote-administration.xml:104(para)
msgid ""
"The following are examples of configuration directives you may change:"
msgstr ""

#: serverguide/C/remote-administration.xml:109(para)
msgid ""
"To set your OpenSSH to listen on TCP port 2222 instead of the default TCP "
"port 22, change the Port directive as such:"
msgstr ""

#: serverguide/C/remote-administration.xml:113(para)
msgid "Port 2222"
msgstr ""

#: serverguide/C/remote-administration.xml:118(para)
msgid ""
"To have <application>sshd</application> allow public key-based login "
"credentials, simply add or modify the line:"
msgstr ""

#: serverguide/C/remote-administration.xml:122(para)
msgid "PubkeyAuthentication yes"
msgstr ""

#: serverguide/C/remote-administration.xml:125(para)
msgid ""
"In the <filename>/etc/ssh/sshd_config</filename> file, or if already "
"present, ensure the line is not commented out."
msgstr ""

#: serverguide/C/remote-administration.xml:131(para)
msgid ""
"To make your OpenSSH server display the contents of the "
"<filename>/etc/issue.net</filename> file as a pre-login banner, simply add "
"or modify the line:"
msgstr ""

#: serverguide/C/remote-administration.xml:136(para)
msgid "Banner /etc/issue.net"
msgstr ""

#: serverguide/C/remote-administration.xml:139(para)
msgid "In the <filename>/etc/ssh/sshd_config</filename> file."
msgstr ""

#: serverguide/C/remote-administration.xml:144(para)
msgid ""
"After making changes to the <filename>/etc/ssh/sshd_config</filename> file, "
"save the file, and restart the <application>sshd</application> server "
"application to effect the changes using the following command at a terminal "
"prompt:"
msgstr ""

#: serverguide/C/remote-administration.xml:153(para)
msgid ""
"Many other configuration directives for <application>sshd</application> are "
"available for changing the server application's behavior to fit your needs. "
"Be advised, however, if your only method of access to a server is "
"<application>ssh</application>, and you make a mistake in configuring "
"<application>sshd</application> via the "
"<filename>/etc/ssh/sshd_config</filename> file, you may find you are locked "
"out of the server upon restarting it, or that the "
"<application>sshd</application> server refuses to start due to an incorrect "
"configuration directive, so be extra careful when editing this file on a "
"remote server."
msgstr ""

#: serverguide/C/remote-administration.xml:168(title)
msgid "SSH Keys"
msgstr ""

#: serverguide/C/remote-administration.xml:169(para)
msgid ""
"SSH <emphasis>keys</emphasis> allow authentication between two hosts without "
"the need of a password. SSH key authentication uses two keys a "
"<emphasis>private</emphasis> key and a <emphasis>public</emphasis> key."
msgstr ""

#: serverguide/C/remote-administration.xml:173(para)
msgid "To generate the keys, from a terminal prompt enter:"
msgstr ""

#: serverguide/C/remote-administration.xml:177(command)
msgid "ssh-keygen -t dsa"
msgstr ""

#: serverguide/C/remote-administration.xml:179(para)
msgid ""
"This will generate the keys using a <emphasis>DSA</emphasis> authentication "
"identity of the user. During the process you will be prompted for a "
"password. Simply hit <emphasis>Enter</emphasis> when prompted to create the "
"key."
msgstr ""

#: serverguide/C/remote-administration.xml:183(para)
msgid ""
"By default the <emphasis>public</emphasis> key is saved in the file "
"<filename>~/.ssh/id_dsa.pub</filename>, while "
"<filename>~/.ssh/id_dsa</filename> is the <emphasis>private</emphasis> key. "
"Now copy the <filename>id_dsa.pub</filename> file to the remote host and "
"append it to <filename>~/.ssh/authorized_keys</filename> by entering:"
msgstr ""

#: serverguide/C/remote-administration.xml:189(command)
msgid "ssh-copy-id username@remotehost"
msgstr ""

#: serverguide/C/remote-administration.xml:191(para)
msgid ""
"Finally, double check the permissions on the "
"<filename>authorized_keys</filename> file, only the authenticated user "
"should have read and write permissions. If the permissions are not correct "
"change them by:"
msgstr ""

#: serverguide/C/remote-administration.xml:196(command)
msgid "chmod 644 .ssh/authorized_keys"
msgstr ""

#: serverguide/C/remote-administration.xml:198(para)
msgid ""
"You should now be able to SSH to the host without being prompted for a "
"password."
msgstr ""

#: serverguide/C/remote-administration.xml:205(ulink)
msgid "OpenSSH Website"
msgstr ""

#: serverguide/C/remote-administration.xml:208(ulink)
msgid "Advanced OpenSSH Wiki Page"
msgstr ""

#: serverguide/C/remote-administration.xml:213(title)
msgid "eBox"
msgstr ""

#: serverguide/C/remote-administration.xml:214(para)
msgid ""
"<application>eBox</application> is a web framework used to manage server "
"application configuration. The modular design of eBox allows you to pick and "
"choose which services you want to configure using eBox."
msgstr ""

#: serverguide/C/remote-administration.xml:221(para)
msgid ""
"The different <application>eBox</application> modules are split into "
"different packages, allowing you to only install those necessary. One way to "
"view the available packages is to enter the following from a terminal:"
msgstr ""

#: serverguide/C/remote-administration.xml:227(command)
msgid "apt-cache rdepends ebox | uniq"
msgstr ""

#: serverguide/C/remote-administration.xml:229(para)
msgid ""
"To install the <application>ebox</application> package, which contains the "
"default modules, enter the following:"
msgstr ""

#: serverguide/C/remote-administration.xml:234(command)
msgid "sudo apt-get install ebox"
msgstr ""

#: serverguide/C/remote-administration.xml:237(para)
msgid ""
"During the installation you will be asked to supply a password for the ebox "
"user. After installing eBox the web interface can be accessed from: "
"<emphasis>https://yourserver/ebox</emphasis>."
msgstr ""

#: serverguide/C/remote-administration.xml:246(para)
msgid ""
"An important thing to remember when using <application>eBox</application> is "
"that when configuring most modules there is a <emphasis>Change</emphasis> "
"button that implements the new configuration. After clicking the Change "
"button most, but not all, modules will then need to be "
"<emphasis>Saved</emphasis>. To save the new configuration click on the "
"<quote>Save changes</quote> link in the top right hand corner."
msgstr ""

#: serverguide/C/remote-administration.xml:254(para)
msgid ""
"Once you make a change that requires a Save, the link will change from green "
"to red."
msgstr ""

#: serverguide/C/remote-administration.xml:260(title)
msgid "eBox Modules"
msgstr ""

#: serverguide/C/remote-administration.xml:261(para)
msgid ""
"By default all eBox <emphasis>Modules</emphasis> are not enabled, and when a "
"new module is installed it will not be automatically enabled."
msgstr ""

#: serverguide/C/remote-administration.xml:265(para)
msgid ""
"To enable a disabled module click on the <emphasis>Module status</emphasis> "
"link in the left hand menu. Then <emphasis role=\"italic\">check</emphasis> "
"which modules you would like to enable and click the <quote>Save</quote> "
"link."
msgstr ""

#: serverguide/C/remote-administration.xml:271(title)
msgid "Default Modules"
msgstr ""

#: serverguide/C/remote-administration.xml:272(para)
msgid ""
"This section provides a quick summary of the default "
"<application>eBox</application> modules."
msgstr ""

#: serverguide/C/remote-administration.xml:278(para)
msgid ""
"<emphasis>System:</emphasis> contains options allowing configuration of "
"general eBox items."
msgstr ""

#: serverguide/C/remote-administration.xml:284(para)
msgid ""
"<emphasis>General:</emphasis> allows you to set the language, port number, "
"and contains a change password form."
msgstr ""

#: serverguide/C/remote-administration.xml:290(para)
msgid ""
"<emphasis>Disk Usage:</emphasis> displays a graph detailing information "
"about disk usage."
msgstr ""

#: serverguide/C/remote-administration.xml:296(para)
msgid ""
"<emphasis>Backup:</emphasis> is used to backup "
"<application>eBox</application> configuration information, and the "
"<emphasis>Full Backup</emphasis> option allows you to save all eBox "
"information not included in the <emphasis>Configuration</emphasis> option "
"such as log files."
msgstr ""

#: serverguide/C/remote-administration.xml:304(para)
msgid ""
"<emphasis>Halt/Reboot:</emphasis> will shutdown the system or reboot it."
msgstr ""

#: serverguide/C/remote-administration.xml:309(para)
msgid ""
"<emphasis>Bug Report:</emphasis> creates a file containing details helpful "
"when reporting bugs to the eBox developers."
msgstr ""

#: serverguide/C/remote-administration.xml:317(para)
msgid ""
"<emphasis>Logs:</emphasis> allows <application>eBox</application> logs to be "
"queried depending on the purge time configured."
msgstr ""

#: serverguide/C/remote-administration.xml:323(para)
msgid ""
"<emphasis>Events:</emphasis> this module has the ability to send alerts "
"through rss, jabber, and log file."
msgstr ""

#: serverguide/C/remote-administration.xml:330(emphasis)
msgid "Available Events:"
msgstr ""

#: serverguide/C/remote-administration.xml:334(para)
msgid ""
"<emphasis>Free Storage Space:</emphasis> will send alert if free disk space "
"drops below a configured percentage, 10% by default."
msgstr ""

#: serverguide/C/remote-administration.xml:340(para)
msgid ""
"<emphasis>Log Observer:</emphasis> unfortunately this event does not work "
"with the <application>eBox</application> version shipped with Ubuntu 7.10."
msgstr ""

#: serverguide/C/remote-administration.xml:346(para)
msgid ""
"<emphasis>RAID:</emphasis> will monitor the RAID system and send alerts if "
"any issues arise."
msgstr ""

#: serverguide/C/remote-administration.xml:352(para)
msgid ""
"<emphasis>Service:</emphasis> sends alerts if a service restarts multiple "
"times in a short time period."
msgstr ""

#: serverguide/C/remote-administration.xml:358(para)
msgid ""
"<emphasis>State:</emphasis> alerts on the state of "
"<application>eBox</application>, either up or down."
msgstr ""

#: serverguide/C/remote-administration.xml:367(emphasis)
msgid "Dispatchers:"
msgstr ""

#: serverguide/C/remote-administration.xml:371(para)
msgid ""
"<emphasis>Log:</emphasis> this dispatcher will send event messages to the "
"<application>eBox</application> log file "
"<filename>/var/log/ebox/ebox.log</filename>."
msgstr ""

#: serverguide/C/remote-administration.xml:378(para)
msgid ""
"<emphasis>Jabber:</emphasis> before enabling this dispatcher you must first "
"configure it by clicking on the <quote>Configure</quote> icon."
msgstr ""

#: serverguide/C/remote-administration.xml:384(para)
msgid ""
"<emphasis>RSS:</emphasis> once this dispatcher is configured you can "
"subscribe to the link in order to view event alerts."
msgstr ""

#: serverguide/C/remote-administration.xml:397(title)
msgid "Additional Modules"
msgstr ""

#: serverguide/C/remote-administration.xml:398(para)
msgid ""
"Here is a quick description of other available "
"<application>eBox</application> modules:"
msgstr ""

#: serverguide/C/remote-administration.xml:403(para)
msgid ""
"<emphasis>Network:</emphasis> allows configuration of the server's network "
"options through eBox."
msgstr ""

#: serverguide/C/remote-administration.xml:409(para)
msgid ""
"<emphasis>Firewall:</emphasis> configures firewall options for the eBox host."
msgstr ""

#: serverguide/C/remote-administration.xml:414(para)
msgid ""
"<emphasis>UsersandGroups:</emphasis> this module will manage users and "
"groups contained in an <application>OpenLDAP</application> LDAP directory."
msgstr ""

#: serverguide/C/remote-administration.xml:420(para)
msgid ""
"<emphasis>DHCP:</emphasis> provides an interface for configuring a DHCP "
"server."
msgstr ""

#: serverguide/C/remote-administration.xml:425(para)
msgid ""
"<emphasis>DNS:</emphasis> provides <application>BIND9</application> DNS "
"server configuration options."
msgstr ""

#: serverguide/C/remote-administration.xml:431(para)
msgid ""
"<emphasis>Objects:</emphasis> allow configuration of eBox <emphasis>Network "
"Objects</emphasis>, which allow you to assign a name to an IP address or "
"group of IPs."
msgstr ""

#: serverguide/C/remote-administration.xml:438(para)
msgid ""
"<emphasis>Services:</emphasis> displays configuration information for "
"services that are available to the network."
msgstr ""

#: serverguide/C/remote-administration.xml:444(para)
msgid ""
"<emphasis>Squid:</emphasis> configuration options for the "
"<application>Squid</application> proxy server."
msgstr ""

#: serverguide/C/remote-administration.xml:450(para)
msgid ""
"<emphasis>CA:</emphasis> configures a Certificate Authority for the server."
msgstr ""

#: serverguide/C/remote-administration.xml:455(para)
msgid "<emphasis>NTP:</emphasis> set Network Time Protocol options."
msgstr ""

#: serverguide/C/remote-administration.xml:460(para)
msgid "<emphasis>Printers:</emphasis> allows the configuration of printers."
msgstr ""

#: serverguide/C/remote-administration.xml:465(para)
msgid "<emphasis>Samba:</emphasis> configuration options for Samba."
msgstr ""

#: serverguide/C/remote-administration.xml:470(para)
msgid ""
"<emphasis>OpenVPN:</emphasis> setup options for OpenVPN Virtual Private "
"Network application."
msgstr ""

#: serverguide/C/remote-administration.xml:481(para)
msgid ""
"For more information see the <ulink url=\"http://ebox-platform.com/\">eBox "
"Home Page</ulink>."
msgstr ""

#: serverguide/C/package-management.xml:13(title)
msgid "Package Management"
msgstr ""

#: serverguide/C/package-management.xml:14(para)
msgid ""
"Ubuntu features a comprehensive package management system for the "
"installation, upgrade, configuration, and removal of software. In addition "
"to providing access to an organized base of over 24,000 software packages "
"for your Ubuntu computer, the package management facilities also feature "
"dependency resolution capabilities and software update checking."
msgstr ""

#: serverguide/C/package-management.xml:16(para)
msgid ""
"Several tools are available for interacting with Ubuntu's package management "
"system, from simple command-line utilities which may be easily automated by "
"system administrators, to a simple graphical interface which is easy to use "
"by those new to Ubuntu."
msgstr ""

#: serverguide/C/package-management.xml:21(para)
msgid ""
"Ubuntu's package management system is derived from the same system used by "
"the Debian GNU/Linux distribution. The package files contain all of the "
"necessary files, meta-data, and instructions to implement a particular "
"functionality or software application on your Ubuntu computer."
msgstr ""

#: serverguide/C/package-management.xml:24(para)
msgid ""
"Debian package files typically have the extension '.deb', and typically "
"exist in <emphasis role=\"italics\">repositories</emphasis> which are "
"collections of packages found on various media, such as CD-ROM discs, or "
"online. Packages are normally of the pre-compiled binary format; thus "
"installation is quick and requires no compiling of software."
msgstr ""

#: serverguide/C/package-management.xml:27(para)
msgid ""
"Many complex packages use the concept of <emphasis "
"role=\"italics\">dependencies</emphasis>. Dependencies are additional "
"packages required by the principal package in order to function properly. "
"For example, the speech synthesis package "
"<application>Festival</application> depends upon the package "
"<application>libasound2</application>, which is a package supplying the "
"<application>ALSA</application> sound library needed for audio playback. In "
"order for <application>Festival</application> to function, it and all of its "
"dependencies must be installed. The software management tools in Ubuntu will "
"do this automatically."
msgstr ""

#: serverguide/C/package-management.xml:32(title)
msgid "dpkg"
msgstr ""

#: serverguide/C/package-management.xml:34(para)
msgid ""
"<application>dpkg</application> is a package manager for "
"<emphasis>Debian</emphasis> based systems. It can install, remove, and build "
"packages, but unlike other package management system's it can not "
"automatically download and install packages and their dependencies. This "
"section covers using <application>dpkg</application> to manage locally "
"installed packages:"
msgstr ""

#: serverguide/C/package-management.xml:43(para)
msgid ""
"To list all packages installed on the system, from a terminal prompt enter:"
msgstr ""

#: serverguide/C/package-management.xml:48(command)
msgid "dpkg -l"
msgstr ""

#: serverguide/C/package-management.xml:54(para)
msgid ""
"Depending on the amount of packages on your system, this can generate a "
"large amount of output. Pipe the output through "
"<application>grep</application> to see if a specific package is installed:"
msgstr ""

#: serverguide/C/package-management.xml:60(command)
msgid "dpkg -l | grep apache2"
msgstr ""

#: serverguide/C/package-management.xml:63(para)
msgid ""
"Replace <emphasis>apache2</emphasis> with any package name, part of a "
"package name, or other regular expression."
msgstr ""

#: serverguide/C/package-management.xml:70(para)
msgid ""
"To list the files installed by a package, in this case the "
"<application>ufw</application> package, enter:"
msgstr ""

#: serverguide/C/package-management.xml:75(command)
msgid "dpkg -L ufw"
msgstr ""

#: serverguide/C/package-management.xml:81(para)
msgid ""
"If you are not sure which package installed a file, <application>dpkg -"
"S</application> may be able to tell you. For example:"
msgstr ""

#: serverguide/C/package-management.xml:87(command)
msgid "dpkg -S /etc/host.conf"
msgstr ""

#: serverguide/C/package-management.xml:88(computeroutput)
#, no-wrap
msgid "base-files: /etc/host.conf"
msgstr ""

#: serverguide/C/package-management.xml:91(para)
msgid ""
"The output shows that the <filename>/etc/host.conf</filename> belongs to the "
"<application>base-files</application> package."
msgstr ""

#: serverguide/C/package-management.xml:96(para)
msgid ""
"Many files are automatically generated during the package install process, "
"and even though they are on the filesystem <command>dpkg -S</command> may "
"not know which package they belong to."
msgstr ""

#: serverguide/C/package-management.xml:105(para)
msgid "You can install a local <emphasis>.deb</emphasis> file by entering:"
msgstr ""

#: serverguide/C/package-management.xml:110(command)
msgid "sudo dpkg -i zip_2.32-1_i386.deb"
msgstr ""

#: serverguide/C/package-management.xml:113(para)
msgid ""
"Change <filename>zip_2.32-1_i386.deb</filename> to the actual file name of "
"the local .deb file."
msgstr ""

#: serverguide/C/package-management.xml:120(para)
msgid "Uninstalling a package can be accomplished by:"
msgstr ""

#: serverguide/C/package-management.xml:125(command)
msgid "sudo dpkg -r zip"
msgstr ""

#: serverguide/C/package-management.xml:129(para)
msgid ""
"Uninstalling packages using <application>dpkg</application>, in most cases, "
"is <emphasis>NOT</emphasis> recommended. It is better to use a package "
"manager that handles dependencies, to ensure that the system is in a "
"consistent state. For example using <command>dpkg -r</command> you can "
"remove the <application>zip</application> package, but any packages that "
"depend on it will still be installed and may no longer function correctly."
msgstr ""

#: serverguide/C/package-management.xml:140(para)
msgid ""
"For more <application>dpkg</application> options see the man page: "
"<command>man dpkg</command>."
msgstr ""

#: serverguide/C/package-management.xml:146(title)
msgid "Apt-Get"
msgstr ""

#: serverguide/C/package-management.xml:147(para)
msgid ""
"The <application>apt-get</application> command is a powerful command-line "
"tool used to work with Ubuntu's <emphasis>Advanced Packaging Tool</emphasis> "
"(APT) performing such functions as installation of new software packages, "
"upgrade of existing software packages, updating of the package list index, "
"and even upgrading the entire Ubuntu system."
msgstr ""

#: serverguide/C/package-management.xml:150(para)
msgid ""
"Being a simple command-line tool, <application>apt-get</application> has "
"numerous advantages over other package management tools available in Ubuntu "
"for server administrators. Some of these advantages include ease of use over "
"simple terminal connections (SSH) and the ability to be used in system "
"administration scripts, which can in turn be automated by the "
"<application>cron</application> scheduling utility."
msgstr ""

#: serverguide/C/package-management.xml:157(para)
msgid ""
"<emphasis role=\"bold\">Install a Package</emphasis>: Installation of "
"packages using the <application>apt-get</application> tool is quite simple. "
"For example, to install the network scanner <emphasis "
"role=\"italics\">nmap</emphasis>, type the following: <screen>\n"
"<command>sudo apt-get install nmap</command>\n"
"</screen>"
msgstr ""

#: serverguide/C/package-management.xml:165(para)
msgid ""
"<emphasis role=\"bold\">Remove a Package</emphasis>: Removal of a package or "
"packages is also a straightforward and simple process. To remove the nmap "
"package installed in the previous example, type the following: <screen>\n"
"<command>sudo apt-get remove nmap</command>\n"
"</screen>"
msgstr ""

#: serverguide/C/package-management.xml:172(para)
msgid ""
"<emphasis role=\"bold\">Multiple Packages</emphasis>: You may specify "
"multiple packages to be installed or removed, separated by spaces."
msgstr ""

#: serverguide/C/package-management.xml:175(para)
msgid ""
"Also, adding the <emphasis>--purge</emphasis> options to <command>apt-get "
"remove</command> will remove the package configuration files as well. This "
"may or may not be the desired effect so use with caution."
msgstr ""

#: serverguide/C/package-management.xml:181(para)
msgid ""
"<emphasis role=\"bold\">Update the Package Index</emphasis>: The APT package "
"index is essentially a database of available packages from the repositories "
"defined in the <filename>/etc/apt/sources.list</filename> file. To update "
"the local package index with the latest changes made in repositories, type "
"the following: <screen>\n"
"<command>sudo apt-get update</command>\n"
"</screen>"
msgstr ""

#: serverguide/C/package-management.xml:189(para)
msgid ""
"<emphasis role=\"bold\">Upgrade Packages</emphasis>: Over time, updated "
"versions of packages currently installed on your computer may become "
"available from the package repositories (for example security updates). To "
"upgrade your system, first update your package index as outlined above, and "
"then type: <screen>\n"
"<command>sudo apt-get upgrade</command>\n"
"</screen>"
msgstr ""

#: serverguide/C/package-management.xml:195(para)
msgid ""
"For information on upgrading to a new Ubuntu release see <xref "
"linkend=\"installing-upgrading\"/>."
msgstr ""

#: serverguide/C/package-management.xml:153(para)
msgid ""
"Some examples of popular uses for the <application>apt-get</application> "
"utility: <placeholder-1/>"
msgstr ""

#: serverguide/C/package-management.xml:201(para)
msgid ""
"Actions of the <application>apt-get</application> command, such as "
"installation and removal of packages, are logged in the /var/log/dpkg.log "
"log file."
msgstr ""

#: serverguide/C/package-management.xml:204(para)
msgid ""
"For further information about the use of <application>APT</application>, "
"read the comprehensive <ulink url=\"http://www.debian.org/doc/user-"
"manuals#apt-howto\">Debian APT User Manual</ulink> or type: <screen>apt-get "
"help</screen>"
msgstr ""

#: serverguide/C/package-management.xml:208(title)
msgid "Aptitude"
msgstr ""

#: serverguide/C/package-management.xml:209(para)
msgid ""
"<application>Aptitude</application> is a menu-driven, text-based front-end "
"to the <emphasis>Advanced Packaging Tool</emphasis> (APT) system. Many of "
"the common package management functions, such as installation, removal, and "
"upgrade, are performed in <application>Aptitude</application> with single-"
"key commands, which are typically lowercase letters."
msgstr ""

#: serverguide/C/package-management.xml:212(para)
msgid ""
"<application>Aptitude</application> is best suited for use in a non-"
"graphical terminal environment to ensure proper functioning of the command "
"keys. You may start <application>Aptitude</application> as a normal user "
"with the following command at a terminal prompt: <screen>\n"
"<command>sudo aptitude</command>\n"
"</screen>"
msgstr ""

#: serverguide/C/package-management.xml:219(para)
msgid ""
"When <application>Aptitude</application> starts, you will see a menu bar at "
"the top of the screen and two panes below the menu bar. The top pane "
"contains package categories, such as <emphasis role=\"italics\">New "
"Packages</emphasis> and <emphasis role=\"italics\">Not Installed "
"Packages</emphasis>. The bottom pane contains information related to the "
"packages and package categories."
msgstr ""

#: serverguide/C/package-management.xml:222(para)
msgid ""
"Using <application>Aptitude</application> for package management is "
"relatively straightforward, and the user interface makes common tasks simple "
"to perform. The following are examples of common package management "
"functions as performed in <application>Aptitude</application>:"
msgstr ""

#: serverguide/C/package-management.xml:226(para)
msgid ""
"<emphasis role=\"bold\">Install Packages</emphasis>: To install a package, "
"locate the package via the Not Installed Packages package category, for "
"example, by using the keyboard arrow keys and the <keycap>ENTER</keycap> "
"key, and highlight the package you wish to install. After highlighting the "
"package you wish to install, press the <keycap>+</keycap> key, and the "
"package entry should turn <emphasis role=\"italics\">green</emphasis>, "
"indicating it has been marked for installation. Now press <keycap>g</keycap> "
"to be presented with a summary of package actions. Press <keycap>g</keycap> "
"again, and you will be prompted to become root to complete the installation. "
"Press <keycap>ENTER</keycap> which will result in a Password: prompt. Enter "
"your user password to become root. Finally, press <keycap>g</keycap> once "
"more and you'll be prompted to download the package. Press "
"<keycap>ENTER</keycap> on the <emphasis role=\"italics\">Continue</emphasis> "
"prompt, and downloading and installation of the package will commence."
msgstr ""

#: serverguide/C/package-management.xml:230(para)
msgid ""
"<emphasis role=\"bold\">Remove Packages</emphasis>: To remove a package, "
"locate the package via the Installed Packages package category, for example, "
"by using the keyboard arrow keys and the <keycap>ENTER</keycap> key, and "
"highlight the package you wish to remove. After highlighting the package you "
"wish to install, press the <keycap>-</keycap> key, and the package entry "
"should turn <emphasis role=\"italics\">pink</emphasis>, indicating it has "
"been marked for removal. Now press <keycap>g</keycap> to be presented with a "
"summary of package actions. Press <keycap>g</keycap> again, and you will be "
"prompted to become root to complete the installation. Press "
"<keycap>ENTER</keycap> which will result in a Password: prompt. Enter your "
"user password to become root. Finally, press <keycap>g</keycap> once more, "
"and you'll be prompted to download the package. Press <keycap>ENTER</keycap> "
"on the <emphasis role=\"italics\">Continue</emphasis> prompt, and removal of "
"the package will commence."
msgstr ""

#: serverguide/C/package-management.xml:234(para)
msgid ""
"<emphasis role=\"bold\">Update Package Index</emphasis>: To update the "
"package index, simply press the <keycap>u</keycap> key and you will be "
"prompted to become root to complete the update. Press <keycap>ENTER</keycap> "
"which will result in a Password: prompt. Enter your user password to become "
"root. Updating of the package index will commence. Press "
"<keycap>ENTER</keycap> on the OK prompt when the download dialog is "
"presented to complete the process."
msgstr ""

#: serverguide/C/package-management.xml:238(para)
msgid ""
"<emphasis role=\"bold\">Upgrade Packages</emphasis>: To upgrade packages, "
"perform the update of the package index as detailed above, and then press "
"the <keycap>U</keycap> key to mark all packages with updates. Now press "
"<keycap>g</keycap> whereby you'll be presented with a summary of package "
"actions. Press <keycap>g</keycap> again, and you will be prompted to become "
"root to complete the installation. Press <keycap>ENTER</keycap> which will "
"result in a Password: prompt. Enter your user password to become root. "
"Finally, press <keycap>g</keycap> once more, and you'll be prompted to "
"download the packages. Press <keycap>ENTER</keycap> on the <emphasis "
"role=\"italics\">Continue</emphasis> prompt, and upgrade of the packages "
"will commence."
msgstr ""

#: serverguide/C/package-management.xml:245(para)
msgid "<emphasis role=\"bold\">i</emphasis>: Installed package"
msgstr ""

#: serverguide/C/package-management.xml:250(para)
msgid ""
"<emphasis role=\"bold\">c</emphasis>: Package not installed, but package "
"configuration remains on system"
msgstr ""

#: serverguide/C/package-management.xml:254(para)
msgid "<emphasis role=\"bold\">p</emphasis>: Purged from system"
msgstr ""

#: serverguide/C/package-management.xml:258(para)
msgid "<emphasis role=\"bold\">v</emphasis>: Virtual package"
msgstr ""

#: serverguide/C/package-management.xml:262(para)
msgid "<emphasis role=\"bold\">B</emphasis>: Broken package"
msgstr ""

#: serverguide/C/package-management.xml:266(para)
msgid ""
"<emphasis role=\"bold\">u</emphasis>: Unpacked files, but package not yet "
"configured"
msgstr ""

#: serverguide/C/package-management.xml:270(para)
msgid ""
"<emphasis role=\"bold\">C</emphasis>: Half-configured - Configuration failed "
"and requires fix"
msgstr ""

#: serverguide/C/package-management.xml:274(para)
msgid ""
"<emphasis role=\"bold\">H</emphasis>: Half-installed - Removal failed and "
"requires fix"
msgstr ""

#: serverguide/C/package-management.xml:242(para)
msgid ""
"The first column of information displayed in the package list in the top "
"pane, when actually viewing packages lists the current state of the package, "
"and uses the following key to describe the state of the package: "
"<placeholder-1/>"
msgstr ""

#: serverguide/C/package-management.xml:280(para)
msgid ""
"To exit Aptitude, simply press the <keycap>q</keycap> key and confirm you "
"wish to exit. Many other functions are available from the Aptitude menu by "
"pressing the <keycap>F10</keycap> key."
msgstr ""

#: serverguide/C/package-management.xml:285(title)
msgid "Automatic Updates"
msgstr ""

#: serverguide/C/package-management.xml:287(para)
msgid ""
"The <application>unattended-upgrades</application> package can be used to "
"automatically install updated packages, and can be configured to update all "
"packages or just install security updates. First, install the package by "
"entering the following in a terminal:"
msgstr ""

#: serverguide/C/package-management.xml:293(command)
msgid "sudo apt-get install unattended-upgrades"
msgstr ""

#: serverguide/C/package-management.xml:296(para)
msgid ""
"To configure <application>unattended-upgrades</application>, edit "
"<filename>/etc/apt/apt.conf.d/50unattended-upgrades</filename> and adjust "
"the following to fit your needs:"
msgstr ""

#: serverguide/C/package-management.xml:301(programlisting)
#, no-wrap
msgid ""
"\n"
"Unattended-Upgrade::Allowed-Origins {\n"
"        \"Ubuntu jaunty-security\";\n"
"//      \"Ubuntu jaunty-updates\";\n"
"};\n"
msgstr ""

#: serverguide/C/package-management.xml:308(para)
msgid ""
"Certain packages can also be <emphasis>blacklisted</emphasis> and therefore "
"will not be automatically updated. To blacklist a package, add it to the "
"list:"
msgstr ""

#: serverguide/C/package-management.xml:313(programlisting)
#, no-wrap
msgid ""
"\n"
"Unattended-Upgrade::Package-Blacklist {\n"
"//      \"vim\";\n"
"//      \"libc6\";\n"
"//      \"libc6-dev\";\n"
"//      \"libc6-i686\";\n"
"};\n"
msgstr ""

#: serverguide/C/package-management.xml:323(para)
msgid ""
"The double <emphasis><quote>//</quote></emphasis> serve as comments, so "
"whatever follows \"//\" will not be evaluated."
msgstr ""

#: serverguide/C/package-management.xml:328(para)
msgid ""
"The results of <application>unattended-upgrades</application> will be logged "
"to <filename>/var/log/unattended-upgrades</filename>."
msgstr ""

#: serverguide/C/package-management.xml:333(title)
msgid "Notifications"
msgstr ""

#: serverguide/C/package-management.xml:335(para)
msgid ""
"Configuring <emphasis>Unattended-Upgrade::Mail</emphasis> in "
"<filename>/etc/apt/apt.conf.d/50unattended-upgrades</filename> will enable "
"<application>unattended-upgrades</application> to email an administrator "
"detailing any packages that need upgrading or have problems."
msgstr ""

#: serverguide/C/package-management.xml:340(para)
msgid ""
"Another useful package is <application>apticron</application>. "
"<application>apticron</application> will configure a "
"<application>cron</application> job to email an administrator information "
"about any packages on the system that need updated as well as a summary of "
"changes in each package."
msgstr ""

#: serverguide/C/package-management.xml:346(para)
msgid ""
"To install the <application>apticron</application> package, in a terminal "
"enter:"
msgstr ""

#: serverguide/C/package-management.xml:351(command)
msgid "sudo apt-get install apticron"
msgstr ""

#: serverguide/C/package-management.xml:354(para)
msgid ""
"Once the package is installed edit "
"<filename>/etc/apticron/apticron.conf</filename>, to set the email address "
"and other options:"
msgstr ""

#: serverguide/C/package-management.xml:358(programlisting)
#, no-wrap
msgid ""
"\n"
"EMAIL=\"root@example.com\"\n"
msgstr ""

#: serverguide/C/package-management.xml:367(para)
msgid ""
"Configuration of the <emphasis>Advanced Packaging Tool</emphasis> (APT) "
"system repositories is stored in the /etc/apt/sources.list configuration "
"file. An example of this file is referenced here, along with information on "
"adding or removing repository references from the file."
msgstr ""

#: serverguide/C/package-management.xml:373(para)
msgid ""
"<ulink url=\"../sample/sources.list\">Here</ulink> is a simple example of a "
"typical <filename>/etc/apt/sources.list</filename> file."
msgstr ""

#: serverguide/C/package-management.xml:377(para)
msgid ""
"You may edit the file to enable repositories or disable them. For example, "
"to disable the requirement of inserting the Ubuntu CD-ROM whenever package "
"operations occur, simply comment out the appropriate line for the CD-ROM, "
"which appears at the top of the file:"
msgstr ""

#: serverguide/C/package-management.xml:382(screen)
#, no-wrap
msgid ""
"\n"
"# no more prompting for CD-ROM please\n"
"# deb cdrom:[Ubuntu 9.04_Jaunty_Jackalope - Release i386 (20070419.1)]/ "
"jaunty main restricted\n"
msgstr ""

#: serverguide/C/package-management.xml:388(title)
msgid "Extra Repositories"
msgstr ""

#: serverguide/C/package-management.xml:389(para)
msgid ""
"In addition to the officially supported package repositories available for "
"Ubuntu, there exist additional community-maintained repositories which add "
"thousands more potential packages for installation. Two of the most popular "
"are the <emphasis>Universe</emphasis> and <emphasis>Multiverse</emphasis> "
"repositories. These repositories are not officially supported by Ubuntu, but "
"because they are maintained by the community they generally provide packages "
"which are safe for use with your Ubuntu computer."
msgstr ""

#: serverguide/C/package-management.xml:392(para)
msgid ""
"Packages in the <emphasis>Multiverse</emphasis> repository often have "
"licensing issues that prevent them from being distributed with a free "
"operating system, and they may be illegal in your locality."
msgstr ""

#: serverguide/C/package-management.xml:394(para)
msgid ""
"Be advised that neither the <emphasis>Universe</emphasis> or "
"<emphasis>Multiverse</emphasis> repositories contain officially supported "
"packages. In particular, there may not be security updates for these "
"packages."
msgstr ""

#: serverguide/C/package-management.xml:398(para)
msgid ""
"Many other package sources are available, sometimes even offering only one "
"package, as in the case of package sources provided by the developer of a "
"single application. You should always be very careful and cautious when "
"using non-standard package sources, however. Research the source and "
"packages carefully before performing any installation, as some package "
"sources and their packages could render your system unstable or non-"
"functional in some respects."
msgstr ""

#: serverguide/C/package-management.xml:401(para)
msgid ""
"By default, the <emphasis>Universe</emphasis> and "
"<emphasis>Multiverse</emphasis> repositories are enabled but if you would "
"like to disable them edit <filename>/etc/apt/sources.list</filename> and "
"comment the following lines:"
msgstr ""

#: serverguide/C/package-management.xml:408(programlisting)
#, no-wrap
msgid ""
"\n"
"deb http://archive.ubuntu.com/ubuntu jaunty universe multiverse\n"
"deb-src http://archive.ubuntu.com/ubuntu jaunty universe multiverse\n"
"\n"
"deb http://us.archive.ubuntu.com/ubuntu/ jaunty universe\n"
"deb-src http://us.archive.ubuntu.com/ubuntu/ jaunty universe\n"
"deb http://us.archive.ubuntu.com/ubuntu/ jaunty-updates universe\n"
"deb-src http://us.archive.ubuntu.com/ubuntu/ jaunty-updates universe\n"
"\n"
"deb http://us.archive.ubuntu.com/ubuntu/ jaunty multiverse\n"
"deb-src http://us.archive.ubuntu.com/ubuntu/ jaunty multiverse\n"
"deb http://us.archive.ubuntu.com/ubuntu/ jaunty-updates multiverse\n"
"deb-src http://us.archive.ubuntu.com/ubuntu/ jaunty-updates multiverse\n"
"\n"
"deb http://security.ubuntu.com/ubuntu jaunty-security universe\n"
"deb-src http://security.ubuntu.com/ubuntu jaunty-security universe\n"
"deb http://security.ubuntu.com/ubuntu jaunty-security multiverse\n"
"deb-src http://security.ubuntu.com/ubuntu jaunty-security multiverse\n"
msgstr ""

#: serverguide/C/package-management.xml:434(para)
msgid ""
"Most of the material covered in this chapter is available in "
"<application>man</application> pages, many of which are available online."
msgstr ""

#: serverguide/C/package-management.xml:441(para)
msgid ""
"For more <application>dpkg</application> details see the <ulink "
"url=\"http://manpages.ubuntu.com/manpages/jaunty/en/man1/dpkg.1.html\">dpkg "
"man page</ulink>."
msgstr ""

#: serverguide/C/package-management.xml:447(para)
msgid ""
"The <ulink url=\"http://www.debian.org/doc/manuals/apt-howto/\">APT "
"HOWTO</ulink> and <ulink "
"url=\"http://manpages.ubuntu.com/manpages/jaunty/en/man8/apt-"
"get.8.html\">apt-get man page</ulink> contain useful information regarding "
"<application>apt-get</application> usage."
msgstr ""

#: serverguide/C/package-management.xml:454(para)
msgid ""
"See the <ulink "
"url=\"http://manpages.ubuntu.com/manpages/jaunty/man8/aptitude.8.html\">aptit"
"ude man page</ulink> for more <application>aptitude</application> options."
msgstr ""

#: serverguide/C/package-management.xml:460(para)
msgid ""
"The <ulink "
"url=\"https://help.ubuntu.com/community/Repositories/Ubuntu\">Adding "
"Repositories HOWTO (Ubuntu Wiki)</ulink> page contains more details on "
"adding repositories."
msgstr ""

#: serverguide/C/other-apps.xml:13(title)
msgid "Other Useful Applications"
msgstr ""

#: serverguide/C/other-apps.xml:15(para)
msgid ""
"There are many very useful applications developed by the Ubuntu Server Team, "
"and others that are well integrated with Ubuntu Server Edition, that might "
"not be well known. This chapter will showcase some useful applications that "
"can make administering an Ubuntu server, or many Ubuntu servers, that much "
"easier."
msgstr ""

#: serverguide/C/other-apps.xml:23(title)
msgid "Update MOTD"
msgstr ""

#: serverguide/C/other-apps.xml:25(para)
msgid ""
"When logging into an Ubuntu server you may have noticed the informative "
"Message Of The Day (MOTD). This information is obtained and displayed using "
"a couple of packages:"
msgstr ""

#: serverguide/C/other-apps.xml:32(para)
msgid ""
"<emphasis>landscape-common:</emphasis> provides the core libraries of "
"<application>landscape-client</application>, which can be used to manage "
"systems using the web based <emphasis>Landscape</emphasis> application. The "
"package includes the <application>/usr/bin/landscape-sysinfo</application> "
"utility which is used to gather the information displayed in the MOTD."
msgstr ""

#: serverguide/C/other-apps.xml:40(para)
msgid ""
"<emphasis>update-motd:</emphasis> is used to automatically update the MOTD "
"via <application>cron</application>."
msgstr ""

#: serverguide/C/other-apps.xml:46(para)
msgid ""
"The <application>update-motd</application> utility has several options to "
"further customize the MOTD:"
msgstr ""

#: serverguide/C/other-apps.xml:52(para)
msgid ""
"<emphasis>--disable:</emphasis> prevents automatic updates of the MOTD. "
"Using this option creates the <filename>/var/lib/update-"
"motd/disabled</filename> file, which if present stops <application>update-"
"motd</application> from modifying <filename>/etc/motd</filename>."
msgstr ""

#: serverguide/C/other-apps.xml:59(para)
msgid ""
"<emphasis>--enable:</emphasis> enables the automatic MOTD updates. If "
"<filename>/var/lib/update-motd</filename> is present it will be removed."
msgstr ""

#: serverguide/C/other-apps.xml:65(para)
msgid ""
"<emphasis>--force:</emphasis> does a one time update of "
"<filename>/etc/motd</filename>, overriding <application>update-"
"motd</application> if it has been disabled."
msgstr ""

#: serverguide/C/other-apps.xml:71(para)
msgid ""
"<emphasis>d, hourly, weekly, monthly:</emphasis> option will run the scripts "
"in <filename>/etc/update-motd.d/</filename> (default), <filename>/etc/update-"
"motd.d/hourly</filename>, <filename>/etc/update-motd.d/weekly</filename>, or "
"<filename>/etc/update-motd.d/monthly</filename> respectively."
msgstr ""

#: serverguide/C/other-apps.xml:79(para)
msgid ""
"<application>update-motd</application> executes the scripts in "
"<filename>/etc/update-motd.d</filename> in order based on the number "
"prepended to the script. Separate <application>cron</application> scripts "
"execute every ten minutes, hourly, weekly, and monthly running the "
"corresponding scripts in <filename>/etc/update-motd.d</filename>. The output "
"of the scripts is written to <filename>/var/run/update-motd/</filename>, "
"keeping the numerical order, then concatenated with "
"<filename>/etc/motd.tail</filename> and written to "
"<filename>/etc/motd</filename>."
msgstr ""

#: serverguide/C/other-apps.xml:87(para)
msgid ""
"You can add your own dynamic information to the MOTD. For example, to add "
"local weather information:"
msgstr ""

#: serverguide/C/other-apps.xml:93(para)
msgid "First, install the <application>weather-util</application> package:"
msgstr ""

#: serverguide/C/other-apps.xml:98(command)
msgid "sudo apt-get install weather-util"
msgstr ""

#: serverguide/C/other-apps.xml:103(para)
msgid ""
"The <application>weather</application> utility uses METAR data from the "
"National Oceanic and Atmospheric Administration and forecasts from the "
"National Weather Service. In order to find local information you will need "
"the 4-character ICAO location indicator. This can be determined by browsing "
"to the <ulink url=\"http://www.weather.gov/tg/siteloc.shtml\">National "
"Weather Service</ulink> site."
msgstr ""

#: serverguide/C/other-apps.xml:110(para)
msgid ""
"Although the National Weather Service is a United States government agency "
"there are weather stations available world wide. However, local weather "
"information for all locations outside the U.S. may not be available."
msgstr ""

#: serverguide/C/other-apps.xml:116(para)
msgid ""
"Create <filename>/usr/local/bin/local-weather</filename>, a simple shell "
"script to use <application>weather</application> with your local ICAO "
"indicator:"
msgstr ""

#: serverguide/C/other-apps.xml:121(programlisting)
#, no-wrap
msgid ""
"\n"
"#!/bin/sh\n"
"##########################################################################\n"
"#\n"
"# Prints the local weather to /var/run/update-motd/60-local-weather  \n"
"# for update-motd.\n"
"#\n"
"##########################################################################\n"
"\n"
"# Replace KINT with your local weather station.\n"
"# Local stations can be found here: http://www.weather.gov/tg/siteloc.shtml\n"
"\n"
"echo \"\" &gt; /var/run/update-motd/60-local-weather\n"
"weather -i KINT &gt;&gt; /var/run/update-motd/60-local-weather\n"
"\n"
msgstr ""

#: serverguide/C/other-apps.xml:139(para)
msgid "Make the script executable:"
msgstr ""

#: serverguide/C/other-apps.xml:144(command)
msgid "sudo chmod 755 /usr/local/bin/local-weather"
msgstr ""

#: serverguide/C/other-apps.xml:148(para)
msgid ""
"Next, create a symlink to <filename>/etc/update-motd.d/60-local-"
"weather</filename>:"
msgstr ""

#: serverguide/C/other-apps.xml:153(command)
msgid ""
"sudo ln -s /usr/local/bin/local-weather /etc/update-motd.d/60-local-weather"
msgstr ""

#: serverguide/C/other-apps.xml:157(para)
msgid "Finally, update the MOTD:"
msgstr ""

#: serverguide/C/other-apps.xml:162(command)
msgid "sudo update-motd"
msgstr ""

#: serverguide/C/other-apps.xml:167(para)
msgid ""
"You should now be greeted with some useful information, and some information "
"about the local weather that may not be quite so useful. Hopefully the "
"<application>local-weather</application> example demonstrates the "
"flexibility of <application>update-motd</application>."
msgstr ""

#: serverguide/C/other-apps.xml:175(title)
msgid "etckeeper"
msgstr ""

#: serverguide/C/other-apps.xml:177(para)
msgid ""
"<application>etckeeper</application> allows the contents of <filename "
"role=\"directory\">/etc</filename> be easily stored in Version Control "
"System (VCS) repository. It hooks into <application>apt</application> to "
"automatically commit changes to <filename>/etc</filename> when packages are "
"installed or upgraded. Placing <filename>/etc</filename> under version "
"control is considered an industry best practice, and the goal of "
"<application>etckeeper</application> is to make this process as painless as "
"possible."
msgstr ""

#: serverguide/C/other-apps.xml:185(para)
msgid ""
"Install <application>etckeeper</application> by entering the following in a "
"terminal:"
msgstr ""

#: serverguide/C/other-apps.xml:190(command)
msgid "sudo apt-get install etckeeper"
msgstr ""

#: serverguide/C/other-apps.xml:193(para)
msgid ""
"The main configuration file, "
"<filename>/etc/etckeeper/etckeeper.conf</filename>, is fairly simple. The "
"main options being which VCS and which package management system to use. By "
"default <application>etckeeper</application> is configured to use "
"<application>bzr</application> for version control, "
"<application>apt</application> for high level package mangement, and "
"<application>dpkg</application> for low level package management."
msgstr ""

#: serverguide/C/other-apps.xml:200(para)
msgid ""
"With the package installed, it is time to initialize the repository. In a "
"terminal enter:"
msgstr ""

#: serverguide/C/other-apps.xml:205(command)
msgid "sudo etckeeper init"
msgstr ""

#: serverguide/C/other-apps.xml:208(para)
msgid "Next, commit the files to the repository:"
msgstr ""

#: serverguide/C/other-apps.xml:213(command)
msgid "sudo etckeeper commit \"initial import\""
msgstr ""

#: serverguide/C/other-apps.xml:216(para)
msgid ""
"Using the VCS commands you can view log information about files in "
"<filename>/etc</filename>:"
msgstr ""

#: serverguide/C/other-apps.xml:221(command)
msgid "sudo bzr log /etc/passswd"
msgstr ""

#: serverguide/C/other-apps.xml:224(para)
msgid ""
"To demonstrate the integration with the package management system, install "
"<application>postfix</application>:"
msgstr ""

#: serverguide/C/other-apps.xml:229(command) serverguide/C/mail.xml:38(command)
msgid "sudo apt-get install postfix"
msgstr ""

#: serverguide/C/other-apps.xml:232(para)
msgid ""
"When the installation is finished, all the "
"<application>postfix</application> configuration files should be committed "
"to the repository:"
msgstr ""

#: serverguide/C/other-apps.xml:238(computeroutput)
#, no-wrap
msgid ""
"Committing to: /etc/\n"
"added aliases.db\n"
"modified group\n"
"modified group-\n"
"modified gshadow\n"
"modified gshadow-\n"
"modified passwd\n"
"modified passwd-\n"
"added postfix\n"
"added resolvconf\n"
"added rsyslog.d\n"
"modified shadow\n"
"modified shadow-\n"
"added init.d/postfix\n"
"added network/if-down.d/postfix\n"
"added network/if-up.d/postfix\n"
"added postfix/dynamicmaps.cf\n"
"added postfix/main.cf\n"
"added postfix/master.cf\n"
"added postfix/post-install\n"
"added postfix/postfix-files\n"
"added postfix/postfix-script\n"
"added postfix/sasl\n"
"added ppp/ip-down.d\n"
"added ppp/ip-down.d/postfix\n"
"added ppp/ip-up.d/postfix\n"
"added rc0.d/K20postfix\n"
"added rc1.d/K20postfix\n"
"added rc2.d/S20postfix\n"
"added rc3.d/S20postfix\n"
"added rc4.d/S20postfix\n"
"added rc5.d/S20postfix\n"
"added rc6.d/K20postfix\n"
"added resolvconf/update-libc.d\n"
"added resolvconf/update-libc.d/postfix\n"
"added rsyslog.d/postfix.conf\n"
"added ufw/applications.d/postfix\n"
"Committed revision 2."
msgstr ""

#: serverguide/C/other-apps.xml:278(para)
msgid ""
"For an example of how <application>etckeeper</application> tracks manual "
"changes, add new a host to <filename>/etc/hosts</filename>. Using "
"<application>bzr</application> you can see which files have been modified:"
msgstr ""

#: serverguide/C/other-apps.xml:284(command)
msgid "sudo bzr status /etc/"
msgstr ""

#: serverguide/C/other-apps.xml:285(computeroutput)
#, no-wrap
msgid ""
"modified:\n"
"  hosts"
msgstr ""

#: serverguide/C/other-apps.xml:289(para)
msgid "Now commit the changes:"
msgstr ""

#: serverguide/C/other-apps.xml:294(command)
msgid "sudo etckeeper commit \"new host\""
msgstr ""

#: serverguide/C/other-apps.xml:297(para)
msgid ""
"For more information on <application>bzr</application> see <xref "
"linkend=\"bazaar\"/>."
msgstr ""

#: serverguide/C/other-apps.xml:303(title)
msgid "Screen Profiles"
msgstr ""

#: serverguide/C/other-apps.xml:305(para)
msgid ""
"One of the most useful applications for any system administrator is "
"<application>screen</application>. It allows the execution of multiple "
"shells in one terminal. To make some of the advanced "
"<application>screen</application> features more user friendly, and provide "
"some useful information about the system, the <application>screen-"
"profiles</application> package was created."
msgstr ""

#: serverguide/C/other-apps.xml:312(para)
msgid ""
"When executing <application>screen</application> for the first time you will "
"be presented with the <application>screen-profiles-helper</application> "
"menu. This menu will allow you to:"
msgstr ""

#: serverguide/C/other-apps.xml:318(para)
msgid "View the Help menu"
msgstr ""

#: serverguide/C/other-apps.xml:319(para)
msgid "Change the key binding set"
msgstr ""

#: serverguide/C/other-apps.xml:320(para)
msgid "Change screen profiles"
msgstr ""

#: serverguide/C/other-apps.xml:321(para)
msgid "Change the escape sequence"
msgstr ""

#: serverguide/C/other-apps.xml:322(para)
msgid "Create new screen windows"
msgstr ""

#: serverguide/C/other-apps.xml:323(para)
msgid "Manage the default windows"
msgstr ""

#: serverguide/C/other-apps.xml:324(para)
msgid "Install screen by default at login"
msgstr ""

#: serverguide/C/other-apps.xml:327(para)
msgid ""
"The <emphasis>key bindings</emphasis> determine such things as the escape "
"sequence, new window, change window, etc. There are two key binding sets to "
"choose from <emphasis>common</emphasis> and <emphasis>none</emphasis>. If "
"you wish to use the original key bindings choose the "
"<emphasis>none</emphasis> set."
msgstr ""

#: serverguide/C/other-apps.xml:333(para)
msgid ""
"The Ubuntu <application>screen-profiles</application> provide a menu which "
"displays the Ubuntu release, processor information, memory information, and "
"the time and date. The effect is similar to a desktop menu. When a profile "
"is selected it will be symlinked to <filename>~/.screenrc</filename>. The "
"<application>select-screen-profile</application> utility can also be used to "
"change profiles, in a terminal enter:"
msgstr ""

#: serverguide/C/other-apps.xml:341(command)
msgid "select-screen-profile -s ubuntu-light"
msgstr ""

#: serverguide/C/other-apps.xml:344(para)
msgid ""
"The <emphasis>plain</emphasis> profile will change "
"<application>screen</application> back to the defaults, which does not "
"include the information menu at the bottom."
msgstr ""

#: serverguide/C/other-apps.xml:349(para)
msgid ""
"Using the <emphasis>\"Install screen by default at login\"</emphasis> option "
"will cause screen to be executed any time a terminal is opened. Changes made "
"to <application>screen</application> are on a per user basis, and will not "
"affect other users on the system."
msgstr ""

#: serverguide/C/other-apps.xml:354(para)
msgid ""
"One difference when using screen is the <emphasis>scrollback</emphasis> "
"mode. If you are using one of the Ubuntu profiles press the "
"<emphasis>F7</emphasis>, or <emphasis>Ctrl+a+[</emphasis> if not, to enter "
"scrollback mode. Scrollback mode allows you to navigate past output using "
"<emphasis>vi</emphasis> like commands. Here is a quick list of movement "
"commands:"
msgstr ""

#: serverguide/C/other-apps.xml:361(para)
msgid "<emphasis>h</emphasis> - Move the cursor left by one character"
msgstr ""

#: serverguide/C/other-apps.xml:362(para)
msgid "<emphasis>j</emphasis> - Move the cursor down by one line"
msgstr ""

#: serverguide/C/other-apps.xml:363(para)
msgid "<emphasis>k</emphasis> - Move the cursor up by one line"
msgstr ""

#: serverguide/C/other-apps.xml:364(para)
msgid "<emphasis>l</emphasis> - Move the cursor right by one character"
msgstr ""

#: serverguide/C/other-apps.xml:365(para)
msgid "<emphasis>0</emphasis> - Move to the beginning of the current line"
msgstr ""

#: serverguide/C/other-apps.xml:366(para)
msgid "<emphasis>$</emphasis> - Move to the end of the current line"
msgstr ""

#: serverguide/C/other-apps.xml:367(para)
msgid ""
"<emphasis>G</emphasis> - Moves to the specified line (defaults to the end of "
"the buffer)"
msgstr ""

#: serverguide/C/other-apps.xml:368(para)
msgid "<emphasis>C-u</emphasis> - Scrolls a half page up"
msgstr ""

#: serverguide/C/other-apps.xml:369(para)
msgid "<emphasis>C-b</emphasis> - Scrolls a full page up"
msgstr ""

#: serverguide/C/other-apps.xml:370(para)
msgid "<emphasis>C-d</emphasis> - Scrolls a half page down"
msgstr ""

#: serverguide/C/other-apps.xml:371(para)
msgid "<emphasis>C-f</emphasis> - Scrolls the full page down"
msgstr ""

#: serverguide/C/other-apps.xml:372(para)
msgid "<emphasis>/</emphasis> - Search forward"
msgstr ""

#: serverguide/C/other-apps.xml:373(para)
msgid "<emphasis>?</emphasis> - Search backward"
msgstr ""

#: serverguide/C/other-apps.xml:374(para)
msgid ""
"<emphasis>n</emphasis> - Moves to the next match, either forward or backword"
msgstr ""

#: serverguide/C/other-apps.xml:383(para)
msgid ""
"See the <ulink "
"url=\"http://manpages.ubuntu.com/manpages/jaunty/en/man1/update-"
"motd.1.html\">update-motd man page</ulink> for more options available to "
"<application>update-motd</application>."
msgstr ""

#: serverguide/C/other-apps.xml:389(para)
msgid ""
"The Debian Package of the Day <ulink "
"url=\"http://debaday.debian.net/2007/10/04/weather-check-weather-conditions-"
"and-forecasts-on-the-command-line/\">weather</ulink> article has more "
"details about using the <application>weather</application>utility."
msgstr ""

#: serverguide/C/other-apps.xml:396(para)
msgid ""
"See the <ulink "
"url=\"http://kitenet.net/~joey/code/etckeeper/\">etckeeper</ulink> site for "
"more details on using <application>etckeeper</application>."
msgstr ""

#: serverguide/C/other-apps.xml:402(para)
msgid ""
"For the latest news and information about <application>bzr</application> see "
"the <ulink url=\"http://bazaar-vcs.org/\">bzr</ulink> web site."
msgstr ""

#: serverguide/C/other-apps.xml:407(para)
msgid ""
"For more information on <application>screen</application> see the <ulink "
"url=\"http://www.gnu.org/software/screen/\">screen web site</ulink>."
msgstr ""

#: serverguide/C/other-apps.xml:412(para)
msgid ""
"Also, see the <application>screen-profiles</application><ulink "
"url=\"https://launchpad.net/screen-profiles\">project page</ulink> for more "
"information."
msgstr ""

#: serverguide/C/network-config.xml:13(title)
msgid "Networking"
msgstr ""

#: serverguide/C/network-config.xml:14(para)
msgid ""
"Networks consist of two or more devices, such as computer systems, printers, "
"and related equipment which are connected by either physical cabling or "
"wireless links for the purpose of sharing and distributing information among "
"the connected devices."
msgstr ""

#: serverguide/C/network-config.xml:20(para)
msgid ""
"This section provides general and specific information pertaining to "
"networking, including an overview of network concepts and detailed "
"discussion of popular network protocols."
msgstr ""

#: serverguide/C/network-config.xml:26(title)
msgid "Network Configuration"
msgstr ""

#: serverguide/C/network-config.xml:27(para)
msgid ""
"Ubuntu ships with a number of graphical utilities to configure your network "
"devices. This document is geared toward server administrators and will focus "
"on managing your network on the command line."
msgstr ""

#: serverguide/C/network-config.xml:33(title)
msgid "Ethernet"
msgstr ""

#: serverguide/C/network-config.xml:34(para)
msgid ""
"Most Ethernet configuration is centralized in a single file, "
"<filename>/etc/network/interfaces</filename>. If you have no Ethernet "
"devices, only the loopback interface will appear in this file, and it will "
"look something like this:"
msgstr ""

#: serverguide/C/network-config.xml:40(programlisting)
#, no-wrap
msgid ""
"\n"
"# This file describes the network interfaces available on your system\n"
"# and how to activate them. For more information, see interfaces(5).\n"
"\n"
"# The loopback network interface\n"
"auto lo\n"
"iface lo inet loopback\n"
"address 127.0.0.1\n"
"netmask 255.0.0.0\n"
msgstr ""

#: serverguide/C/network-config.xml:50(para)
msgid ""
"If you have only one Ethernet device, eth0, and it gets its configuration "
"from a DHCP server, and it should come up automatically at boot, only two "
"additional lines are required:"
msgstr ""

#: serverguide/C/network-config.xml:55(programlisting)
#, no-wrap
msgid ""
"\n"
"auto eth0\n"
"iface eth0 inet dhcp\n"
msgstr ""

#: serverguide/C/network-config.xml:59(para)
msgid ""
"The first line specifies that the eth0 device should come up automatically "
"when you boot. The second line means that interface (<quote>iface</quote>) "
"eth0 should have an IPv4 address space (replace <quote>inet</quote> with "
"<quote>inet6</quote> for an IPv6 device) and that it should get its "
"configuration automatically from DHCP. Assuming your network and DHCP server "
"are properly configured, this machine's network should need no further "
"configuration to operate properly. The DHCP server will provide the default "
"gateway (implemented via the <application>route</application> command), the "
"device's IP address (implemented via the <application>ifconfig</application> "
"command), and DNS servers used on the network (implemented in the "
"<filename>/etc/resolv.conf</filename> file.)"
msgstr ""

#: serverguide/C/network-config.xml:72(para)
msgid ""
"To configure your Ethernet device with a static IP address and custom "
"configuration, some more information will be required. Suppose you want to "
"assign the IP address 192.168.0.2 to the device eth1, with the typical "
"netmask of 255.255.255.0. Your default gateway's IP address is 192.168.0.1. "
"You would enter something like this into "
"<filename>/etc/network/interfaces</filename>:"
msgstr ""

#: serverguide/C/network-config.xml:79(programlisting)
#, no-wrap
msgid ""
"\n"
"iface eth1 inet static\n"
"\taddress 192.168.0.2\n"
"\tnetmask 255.255.255.0\n"
"\tgateway 192.168.0.1\n"
msgstr ""

#: serverguide/C/network-config.xml:85(para)
msgid ""
"In this case, you will need to specify your DNS servers manually in "
"<filename>/etc/resolv.conf</filename>, which should look something like this:"
msgstr ""

#: serverguide/C/network-config.xml:89(programlisting)
#, no-wrap
msgid ""
"\n"
"search mydomain.example\n"
"nameserver 192.168.0.1\n"
"nameserver 4.2.2.2\n"
msgstr ""

#: serverguide/C/network-config.xml:94(para)
msgid ""
"The <emphasis role=\"italics\">search</emphasis> directive will append "
"mydomain.example to hostname queries in an attempt to resolve names to your "
"network. For example, if your network's domain is mydomain.example and you "
"try to ping the host <quote>mybox</quote>, the DNS query will be modified to "
"<quote>mybox.mydomain.example</quote> for resolution. The <emphasis "
"role=\"italics\">nameserver</emphasis> directives specify DNS servers to be "
"used to resolve hostnames to IP addresses. If you use your own nameserver, "
"enter it here. Otherwise, ask your Internet Service Provider for the primary "
"and secondary DNS servers to use, and enter them into "
"<filename>/etc/resolv.conf</filename> as shown above."
msgstr ""

#: serverguide/C/network-config.xml:106(para)
msgid ""
"Many more configurations are possible, including dialup PPP interfaces, IPv6 "
"networking, VPN devices, etc. Refer to <application>man 5 "
"interfaces</application> for more information and supported options. "
"Remember that <filename>/etc/network/interfaces</filename> is used by the "
"<application>ifup</application>/<application>ifdown</application> scripts as "
"a higher level configuration scheme than may be used in some other Linux "
"distributions, and that the traditional, lower level utilities such as "
"<application>ifconfig</application>, <application>route</application>, and "
"<application>dhclient</application> are still available to you for ad hoc "
"configurations."
msgstr ""

#: serverguide/C/network-config.xml:120(title)
msgid "Managing DNS Entries"
msgstr ""

#: serverguide/C/network-config.xml:121(para)
msgid ""
"This section explains how to configure which nameserver to use when "
"resolving IP addresses to hostnames and vice versa. It does not explain how "
"to configure the system as a name server."
msgstr ""

#: serverguide/C/network-config.xml:126(para)
msgid ""
"To manage DNS entries, you can add, edit, or remove DNS names from the "
"<filename>/etc/resolv.conf</filename> file. A sample file is given below:"
msgstr ""

#: serverguide/C/network-config.xml:130(programlisting)
#, no-wrap
msgid ""
"\n"
"search com\n"
"nameserver 204.11.126.131\n"
"nameserver 64.125.134.133\n"
"nameserver 64.125.134.132\n"
"nameserver 208.185.179.218\n"
msgstr ""

#: serverguide/C/network-config.xml:138(para)
msgid ""
"The <application>search</application> key specifies the string which will be "
"appended to an incomplete hostname. Here, we have configured it to "
"<application>com</application>. So, when we run: <command>ping "
"ubuntu</command> it would be interpreted as <command>ping "
"ubuntu.com</command>."
msgstr ""

#: serverguide/C/network-config.xml:146(para)
msgid ""
"The <application>nameserver</application> key specifies the nameserver IP "
"address. It will be used to resolve a given IP address or hostname. This "
"file can have multiple nameserver entries. The nameservers will be used by "
"the network query in the same order."
msgstr ""

#: serverguide/C/network-config.xml:155(para)
msgid ""
"If the DNS server names are retrieved dynamically from DHCP or PPPoE "
"(retrieved from your ISP), do not add nameserver entries in this file. It "
"will be overwritten."
msgstr ""

#: serverguide/C/network-config.xml:164(title)
msgid "Managing Hosts"
msgstr ""

#: serverguide/C/network-config.xml:165(para)
msgid ""
"To manage hosts, you can add, edit, or remove hosts from "
"<filename>/etc/hosts</filename> file. The file contains IP addresses and "
"their corresponding hostnames. When your system tries to resolve a hostname "
"to an IP address or determine the hostname for an IP address, it refers to "
"the <filename>/etc/hosts</filename> file before using the name servers. If "
"the IP address is listed in the <filename>/etc/hosts</filename> file, the "
"name servers are not used. This behavior can be modified by editing "
"<filename>/etc/nsswitch.conf</filename> at your peril."
msgstr ""

#: serverguide/C/network-config.xml:178(para)
msgid ""
"If your network contains computers whose IP addresses are not listed in DNS, "
"it is recommended that you add them to the <filename>/etc/hosts</filename> "
"file."
msgstr ""

#: serverguide/C/network-config.xml:186(title)
msgid "Bridging"
msgstr ""

#: serverguide/C/network-config.xml:188(para)
msgid ""
"Bridging multiple interfaces is a more advanced configuration, but is very "
"useful in multiple scenarios. One scenario is setting up a bridge with "
"multiple network interfaces, then using a firewall to filter traffic between "
"two network segments. Another scenario is using bridge on a system with one "
"interface to allow virtual machines direct access to the outside network. "
"The following example covers the latter scenario."
msgstr ""

#: serverguide/C/network-config.xml:195(para)
msgid ""
"Before configuring a bridge you will need to install the <application>bridge-"
"utils</application> package. To install the package, in a terminal enter:"
msgstr ""

#: serverguide/C/network-config.xml:201(command)
msgid "sudo apt-get install bridge-utils"
msgstr ""

#: serverguide/C/network-config.xml:204(para)
msgid ""
"Next, configure the bridge by editing "
"<filename>/etc/network/interfaces</filename>:"
msgstr ""

#: serverguide/C/network-config.xml:208(programlisting)
#, no-wrap
msgid ""
"\n"
"auto lo\n"
"iface lo inet loopback\n"
"\n"
"auto br0\n"
"iface br0 inet static\n"
"        address 192.168.0.10\n"
"        network 192.168.0.0\n"
"        netmask 255.255.255.0\n"
"        broadcast 192.168.0.255\n"
"        gateway 192.168.0.1\n"
"        bridge_ports eth0\n"
"        bridge_fd 9\n"
"        bridge_hello 2\n"
"        bridge_maxage 12\n"
"        bridge_stp off\n"
msgstr ""

#: serverguide/C/network-config.xml:227(para)
msgid "Enter the appropriate values for your physical interface and network."
msgstr ""

#: serverguide/C/network-config.xml:232(para)
msgid "Now restart networking to enable the bridge interface:"
msgstr ""

#: serverguide/C/network-config.xml:240(para)
msgid ""
"If setting up a bridge interface using Ubuntu Desktop Edition, or if "
"<application>dhcdbd</application> is installed, the "
"<application>dhcdbd</application> daemon will need to be stopped and "
"disabled."
msgstr ""

#: serverguide/C/network-config.xml:245(para)
msgid ""
"After configuring the bridge in "
"<filename>/etc/network/interfaces</filename>, shutdown "
"<application>dhcdbd</application> by:"
msgstr ""

#: serverguide/C/network-config.xml:250(command)
msgid "sudo /etc/init.d/dhcdbd stop"
msgstr ""

#: serverguide/C/network-config.xml:253(para)
msgid "Now to disable it from starting on boot enter:"
msgstr ""

#: serverguide/C/network-config.xml:258(command)
msgid "sudo update-rc.d -f dhcdbd remove"
msgstr ""

#: serverguide/C/network-config.xml:261(para)
msgid ""
"The new bridge interface should now be up and running. The "
"<application>brctl</application> provides useful information about the state "
"of the bridge, controls which interfaces are part of the bridge, etc. See "
"<command>man brctl</command> for more information."
msgstr ""

#: serverguide/C/network-config.xml:277(para)
msgid ""
"The <ulink "
"url=\"http://manpages.ubuntu.com/manpages/jaunty/en/man5/interfaces.5.html\">"
"interafaces man page</ulink> has details on more options for "
"<filename>/etc/network/interfaces</filename>."
msgstr ""

#: serverguide/C/network-config.xml:283(para)
msgid ""
"For more information on DNS client configuration see the <ulink "
"url=\"http://manpages.ubuntu.com/manpages/jaunty/en/man5/resolver.5.html\">re"
"solver man page</ulink>. Also, Chapter 6 of O'Reilly's <ulink "
"url=\"http://oreilly.com/catalog/linag2/book/ch06.html\">Linux Network "
"Administrator's Guide</ulink> is a good source of resolver and name service "
"configuration information."
msgstr ""

#: serverguide/C/network-config.xml:291(para)
msgid ""
"For more information on <emphasis>bridging</emphasis> see the <ulink "
"url=\"http://manpages.ubuntu.com/manpages/jaunty/en/man8/brctl.8.html\">brctl"
" man page</ulink> and the Linux Foundation's <ulink "
"url=\"http://www.linuxfoundation.org/en/Net:Bridge\">Net:Bridge</ulink> page."
msgstr ""

#: serverguide/C/network-config.xml:302(title)
msgid "TCP/IP"
msgstr ""

#: serverguide/C/network-config.xml:303(para)
msgid ""
"The Transmission Control Protocol and Internet Protocol (TCP/IP) is a "
"standard set of protocols developed in the late 1970s by the Defense "
"Advanced Research Projects Agency (DARPA) as a means of communication "
"between different types of computers and computer networks. TCP/IP is the "
"driving force of the Internet, and thus it is the most popular set of "
"network protocols on Earth."
msgstr ""

#: serverguide/C/network-config.xml:311(title)
msgid "TCP/IP Introduction"
msgstr ""

#: serverguide/C/network-config.xml:312(para)
msgid ""
"The two protocol components of TCP/IP deal with different aspects of "
"computer networking. <emphasis>Internet Protocol</emphasis>, the \"IP\" of "
"TCP/IP is a connectionless protocol which deals only with network packet "
"routing using the <emphasis role=\"italics\">IP Datagram</emphasis> as the "
"basic unit of networking information. The IP Datagram consists of a header "
"followed by a message. The <emphasis> Transmission Control "
"Protocol</emphasis> is the \"TCP\" of TCP/IP and enables network hosts to "
"establish connections which may be used to exchange data streams. TCP also "
"guarantees that the data between connections is delivered and that it "
"arrives at one network host in the same order as sent from another network "
"host."
msgstr ""

#: serverguide/C/network-config.xml:325(title)
msgid "TCP/IP Configuration"
msgstr ""

#: serverguide/C/network-config.xml:326(para)
msgid ""
"The TCP/IP protocol configuration consists of several elements which must be "
"set by editing the appropriate configuration files, or deploying solutions "
"such as the Dynamic Host Configuration Protocol (DHCP) server which in turn, "
"can be configured to provide the proper TCP/IP configuration settings to "
"network clients automatically. These configuration values must be set "
"correctly in order to facilitate the proper network operation of your Ubuntu "
"system."
msgstr ""

#: serverguide/C/network-config.xml:338(para)
msgid ""
"<emphasis role=\"bold\">IP address</emphasis> The IP address is a unique "
"identifying string expressed as four decimal numbers ranging from zero (0) "
"to two-hundred and fifty-five (255), separated by periods, with each of the "
"four numbers representing eight (8) bits of the address for a total length "
"of thirty-two (32) bits for the whole address. This format is called "
"<emphasis>dotted quad notation</emphasis>."
msgstr ""

#: serverguide/C/network-config.xml:348(para)
msgid ""
"<emphasis role=\"bold\">Netmask</emphasis> The Subnet Mask (or simply, "
"<emphasis>netmask</emphasis>) is a local bit mask, or set of flags which "
"separate the portions of an IP address significant to the network from the "
"bits significant to the <emphasis>subnetwork</emphasis>. For example, in a "
"Class C network, the standard netmask is 255.255.255.0 which masks the first "
"three bytes of the IP address and allows the last byte of the IP address to "
"remain available for specifying hosts on the subnetwork."
msgstr ""

#: serverguide/C/network-config.xml:359(para)
msgid ""
"<emphasis role=\"bold\">Network Address</emphasis> The Network Address "
"represents the bytes comprising the network portion of an IP address. For "
"example, the host 12.128.1.2 in a Class A network would use 12.0.0.0 as the "
"network address, where twelve (12) represents the first byte of the IP "
"address, (the network part) and zeroes (0) in all of the remaining three "
"bytes to represent the potential host values. A network host using the "
"private IP address 192.168.1.100 would in turn use a Network Address of "
"192.168.1.0, which specifies the first three bytes of the Class C 192.168.1 "
"network and a zero (0) for all the possible hosts on the network."
msgstr ""

#: serverguide/C/network-config.xml:372(para)
msgid ""
"<emphasis role=\"bold\">Broadcast Address</emphasis> The Broadcast Address "
"is an IP address which allows network data to be sent simultaneously to all "
"hosts on a given subnetwork rather than specifying a particular host. The "
"standard general broadcast address for IP networks is 255.255.255.255, but "
"this broadcast address cannot be used to send a broadcast message to every "
"host on the Internet because routers block it. A more appropriate broadcast "
"address is set to match a specific subnetwork. For example, on the private "
"Class C IP network, 192.168.1.0, the broadcast address is 192.168.1.255. "
"Broadcast messages are typically produced by network protocols such as the "
"Address Resolution Protocol (ARP) and the Routing Information Protocol (RIP)."
msgstr ""

#: serverguide/C/network-config.xml:385(para)
msgid ""
"<emphasis role=\"bold\">Gateway Address</emphasis> A Gateway Address is the "
"IP address through which a particular network, or host on a network, may be "
"reached. If one network host wishes to communicate with another network "
"host, and that host is not located on the same network, then a "
"<emphasis>gateway</emphasis> must be used. In many cases, the Gateway "
"Address will be that of a router on the same network, which will in turn "
"pass traffic on to other networks or hosts, such as Internet hosts. The "
"value of the Gateway Address setting must be correct, or your system will "
"not be able to reach any hosts beyond those on the same network."
msgstr ""

#: serverguide/C/network-config.xml:396(para)
msgid ""
"<emphasis role=\"bold\">Nameserver Address</emphasis> Nameserver Addresses "
"represent the IP addresses of Domain Name Service (DNS) systems, which "
"resolve network hostnames into IP addresses. There are three levels of "
"Nameserver Addresses, which may be specified in order of precedence: The "
"<emphasis>Primary</emphasis> Nameserver, the <emphasis>Secondary</emphasis> "
"Nameserver, and the <emphasis>Tertiary</emphasis> Nameserver. In order for "
"your system to be able to resolve network hostnames into their corresponding "
"IP addresses, you must specify valid Nameserver Addresses which you are "
"authorized to use in your system's TCP/IP configuration. In many cases these "
"addresses can and will be provided by your network service provider, but "
"many free and publicly accessible nameservers are available for use, such as "
"the Level3 (Verizon) servers with IP addresses from 4.2.2.1 to 4.2.2.6."
msgstr ""

#: serverguide/C/network-config.xml:410(para)
msgid ""
"The IP address, Netmask, Network Address, Broadcast Address, and Gateway "
"Address are typically specified via the appropriate directives in the file "
"<filename>/etc/network/interfaces</filename>. The Nameserver Addresses are "
"typically specified via <emphasis>nameserver</emphasis> directives in the "
"file <filename>/etc/resolv.conf</filename>. For more information, view the "
"system manual page for <filename>interfaces</filename> or "
"<filename>resolv.conf</filename> respectively, with the following commands "
"typed at a terminal prompt:"
msgstr ""

#: serverguide/C/network-config.xml:417(para)
msgid ""
"Access the system manual page for <filename>interfaces</filename> with the "
"following command:"
msgstr ""

#: serverguide/C/network-config.xml:422(command)
msgid "man interfaces"
msgstr ""

#: serverguide/C/network-config.xml:425(para)
msgid ""
"Access the system manual page for <filename>resolv.conf</filename> with the "
"following command:"
msgstr ""

#: serverguide/C/network-config.xml:429(command)
msgid "man resolv.conf"
msgstr ""

#: serverguide/C/network-config.xml:334(para)
msgid ""
"The common configuration elements of TCP/IP and their purposes are as "
"follows: <placeholder-1/>"
msgstr ""

#: serverguide/C/network-config.xml:436(title)
msgid "IP Routing"
msgstr ""

#: serverguide/C/network-config.xml:437(para)
msgid ""
"IP routing is a means of specifying and discovering paths in a TCP/IP "
"network along which network data may be sent. Routing uses a set of "
"<emphasis>routing tables</emphasis> to direct the forwarding of network data "
"packets from their source to the destination, often via many intermediary "
"network nodes known as <emphasis>routers</emphasis>. There are two primary "
"forms of IP routing: <emphasis>Static Routing</emphasis> and "
"<emphasis>Dynamic Routing.</emphasis>"
msgstr ""

#: serverguide/C/network-config.xml:446(para)
msgid ""
"Static routing involves manually adding IP routes to the system's routing "
"table, and this is usually done by manipulating the routing table with the "
"<application>route</application> command. Static routing enjoys many "
"advantages over dynamic routing, such as simplicity of implementation on "
"smaller networks, predictability (the routing table is always computed in "
"advance, and thus the route is precisely the same each time it is used), and "
"low overhead on other routers and network links due to the lack of a dynamic "
"routing protocol. However, static routing does present some disadvantages as "
"well. For example, static routing is limited to small networks and does not "
"scale well. Static routing also fails completely to adapt to network outages "
"and failures along the route due to the fixed nature of the route."
msgstr ""

#: serverguide/C/network-config.xml:456(para)
msgid ""
"Dynamic routing depends on large networks with multiple possible IP routes "
"from a source to a destination and makes use of special routing protocols, "
"such as the Router Information Protocol (RIP), which handle the automatic "
"adjustments in routing tables that make dynamic routing possible. Dynamic "
"routing has several advantages over static routing, such as superior "
"scalability and the ability to adapt to failures and outages along network "
"routes. Additionally, there is less manual configuration of the routing "
"tables, since routers learn from one another about their existence and "
"available routes. This trait also eliminates the possibility of introducing "
"mistakes in the routing tables via human error. Dynamic routing is not "
"perfect, however, and presents disadvantages such as heightened complexity "
"and additional network overhead from router communications, which does not "
"immediately benefit the end users, but still consumes network bandwidth."
msgstr ""

#: serverguide/C/network-config.xml:470(title)
msgid "TCP and UDP"
msgstr ""

#: serverguide/C/network-config.xml:471(para)
msgid ""
"TCP is a connection-based protocol, offering error correction and guaranteed "
"delivery of data via what is known as <emphasis>flow control</emphasis>. "
"Flow control determines when the flow of a data stream needs to be stopped, "
"and previously sent data packets should to be re-sent due to problems such "
"as <emphasis>collisions</emphasis>, for example, thus ensuring complete and "
"accurate delivery of the data. TCP is typically used in the exchange of "
"important information such as database transactions."
msgstr ""

#: serverguide/C/network-config.xml:479(para)
msgid ""
"The User Datagram Protocol (UDP), on the other hand, is a "
"<emphasis>connectionless</emphasis> protocol which seldom deals with the "
"transmission of important data because it lacks flow control or any other "
"method to ensure reliable delivery of the data. UDP is commonly used in such "
"applications as audio and video streaming, where it is considerably faster "
"than TCP due to the lack of error correction and flow control, and where the "
"loss of a few packets is not generally catastrophic."
msgstr ""

#: serverguide/C/network-config.xml:489(title)
msgid "ICMP"
msgstr ""

#: serverguide/C/network-config.xml:490(para)
msgid ""
"The Internet Control Messaging Protocol (ICMP) is an extension to the "
"Internet Protocol (IP) as defined in the Request For Comments (RFC) #792 and "
"supports network packets containing control, error, and informational "
"messages. ICMP is used by such network applications as the "
"<application>ping</application> utility, which can determine the "
"availability of a network host or device. Examples of some error messages "
"returned by ICMP which are useful to both network hosts and devices such as "
"routers, include <emphasis>Destination Unreachable</emphasis> and "
"<emphasis>Time Exceeded</emphasis>."
msgstr ""

#: serverguide/C/network-config.xml:500(title)
msgid "Daemons"
msgstr ""

#: serverguide/C/network-config.xml:501(para)
msgid ""
"Daemons are special system applications which typically execute continuously "
"in the background and await requests for the functions they provide from "
"other applications. Many daemons are network-centric; that is, a large "
"number of daemons executing in the background on an Ubuntu system may "
"provide network-related functionality. Some examples of such network daemons "
"include the <emphasis>Hyper Text Transport Protocol Daemon</emphasis> "
"(httpd), which provides web server functionality; the <emphasis>Secure SHell "
"Daemon</emphasis> (sshd), which provides secure remote login shell and file "
"transfer capabilities; and the <emphasis>Internet Message Access Protocol "
"Daemon</emphasis> (imapd), which provides E-Mail services."
msgstr ""

#: serverguide/C/network-config.xml:516(para)
msgid ""
"There are man pages for <ulink "
"url=\"http://manpages.ubuntu.com/manpages/jaunty/en/man7/tcp.7.html\">TCP</ul"
"ink> and <ulink "
"url=\"http://manpages.ubuntu.com/manpages/jaunty/man7/ip.7.html\">IP</ulink> "
"that contain more useful information."
msgstr ""

#: serverguide/C/network-config.xml:522(para)
msgid ""
"Also, see the <ulink "
"url=\"http://www.redbooks.ibm.com/abstracts/gg243376.html\">TCP/IP Tutorial "
"and Technical Overview</ulink> IBM Redbook."
msgstr ""

#: serverguide/C/network-config.xml:528(para)
msgid ""
"Another resource is O'Reilly's <ulink "
"url=\"http://oreilly.com/catalog/9780596002978/\">TCP/IP Network "
"Administration</ulink>."
msgstr ""

#: serverguide/C/network-config.xml:537(title)
msgid "Dynamic Host Configuration Protocol (DHCP)"
msgstr ""

#: serverguide/C/network-config.xml:538(para)
msgid ""
"The Dynamic Host Configuration Protocol (DHCP) is a network service that "
"enables host computers to be automatically assigned settings from a server "
"as opposed to manually configuring each network host. Computers configured "
"to be DHCP clients have no control over the settings they receive from the "
"DHCP server, and the configuration is transparent to the computer's user."
msgstr ""

#: serverguide/C/network-config.xml:545(para)
msgid ""
"The most common settings provided by a DHCP server to DHCP clients include:"
msgstr ""

#: serverguide/C/network-config.xml:550(para)
msgid "IP-Address and Netmask"
msgstr ""

#: serverguide/C/network-config.xml:553(para)
msgid "DNS"
msgstr ""

#: serverguide/C/network-config.xml:556(para)
msgid "WINS"
msgstr ""

#: serverguide/C/network-config.xml:559(para)
msgid ""
"However, a DHCP server can also supply configuration properties such as:"
msgstr ""

#: serverguide/C/network-config.xml:564(para)
msgid "Host Name"
msgstr ""

#: serverguide/C/network-config.xml:567(para)
msgid "Domain Name"
msgstr ""

#: serverguide/C/network-config.xml:570(para)
msgid "Default Gateway"
msgstr ""

#: serverguide/C/network-config.xml:573(para)
msgid "Time Server"
msgstr ""

#: serverguide/C/network-config.xml:576(para)
msgid "Print Server"
msgstr ""

#: serverguide/C/network-config.xml:579(para)
msgid ""
"The advantage of using DHCP is that changes to the network, for example a "
"change in the address of the DNS server, need only be changed at the DHCP "
"server, and all network hosts will be reconfigured the next time their DHCP "
"clients poll the DHCP server. As an added advantage, it is also easier to "
"integrate new computers into the network, as there is no need to check for "
"the availability of an IP address. Conflicts in IP address allocation are "
"also reduced."
msgstr ""

#: serverguide/C/network-config.xml:587(para)
msgid "A DHCP server can provide configuration settings using two methods:"
msgstr ""

#: serverguide/C/network-config.xml:592(term)
msgid "MAC Address"
msgstr ""

#: serverguide/C/network-config.xml:594(para)
msgid ""
"This method entails using DHCP to identify the unique hardware address of "
"each network card connected to the network and then continually supplying a "
"constant configuration each time the DHCP client makes a request to the DHCP "
"server using that network device."
msgstr ""

#: serverguide/C/network-config.xml:603(term)
msgid "Address Pool"
msgstr ""

#: serverguide/C/network-config.xml:605(para)
msgid ""
"This method entails defining a pool (sometimes also called a range or scope) "
"of IP addresses from which DHCP clients are supplied their configuration "
"properties dynamically and on a \"first come, first served\" basis. When a "
"DHCP client is no longer on the network for a specified period, the "
"configuration is expired and released back to the address pool for use by "
"other DHCP Clients."
msgstr ""

#: serverguide/C/network-config.xml:616(para)
msgid ""
"Ubuntu is shipped with both DHCP server and client. The server is "
"<application>dhcpd</application> (dynamic host configuration protocol "
"daemon). The client provided with Ubuntu is "
"<application>dhclient</application> and should be installed on all computers "
"required to be automatically configured. Both programs are easy to install "
"and configure and will be automatically started at system boot."
msgstr ""

#: serverguide/C/network-config.xml:626(para)
msgid ""
"At a terminal prompt, enter the following command to install "
"<application>dhcpd</application>:"
msgstr ""

#: serverguide/C/network-config.xml:631(command)
msgid "sudo apt-get install dhcp3-server"
msgstr ""

#: serverguide/C/network-config.xml:633(para)
msgid ""
"You will probably need to change the default configuration by editing "
"/etc/dhcp3/dhcpd.conf to suit your needs and particular configuration."
msgstr ""

#: serverguide/C/network-config.xml:637(para)
msgid ""
"You also need to edit /etc/default/dhcp3-server to specify the interfaces "
"dhcpd should listen to. By default it listens to eth0."
msgstr ""

#: serverguide/C/network-config.xml:641(para)
msgid ""
"NOTE: dhcpd's messages are being sent to syslog. Look there for diagnostics "
"messages."
msgstr ""

#: serverguide/C/network-config.xml:648(para)
msgid ""
"The error message the installation ends with might be a little confusing, "
"but the following steps will help you configure the service:"
msgstr ""

#: serverguide/C/network-config.xml:652(para)
msgid ""
"Most commonly, what you want to do is assign an IP address randomly. This "
"can be done with settings as follows:"
msgstr ""

#: serverguide/C/network-config.xml:656(programlisting)
#, no-wrap
msgid ""
"\n"
"# Sample /etc/dhcpd.conf\n"
"# (add your comments here) \n"
"default-lease-time 600;\n"
"max-lease-time 7200;\n"
"option subnet-mask 255.255.255.0;\n"
"option broadcast-address 192.168.1.255;\n"
"option routers 192.168.1.254;\n"
"option domain-name-servers 192.168.1.1, 192.168.1.2;\n"
"option domain-name \"mydomain.example\";\n"
"\n"
"subnet 192.168.1.0 netmask 255.255.255.0 {\n"
"range 192.168.1.10 192.168.1.100;\n"
"range 192.168.1.150 192.168.1.200;\n"
"} \n"
msgstr ""

#: serverguide/C/network-config.xml:672(para)
msgid ""
"This will result in the DHCP server giving a client an IP address from the "
"range 192.168.1.10-192.168.1.100 or 192.168.1.150-192.168.1.200. It will "
"lease an IP address for 600 seconds if the client doesn't ask for a specific "
"time frame. Otherwise the maximum (allowed) lease will be 7200 seconds. The "
"server will also \"advise\" the client that it should use 255.255.255.0 as "
"its subnet mask, 192.168.1.255 as its broadcast address, 192.168.1.254 as "
"the router/gateway and 192.168.1.1 and 192.168.1.2 as its DNS servers."
msgstr ""

#: serverguide/C/network-config.xml:681(para)
msgid ""
"If you need to specify a WINS server for your Windows clients, you will need "
"to include the netbios-name-servers option, e.g."
msgstr ""

#: serverguide/C/network-config.xml:685(programlisting)
#, no-wrap
msgid ""
"\n"
"option netbios-name-servers 192.168.1.1; \n"
msgstr ""

#: serverguide/C/network-config.xml:688(para)
msgid ""
"Dhcpd configuration settings are taken from the DHCP mini-HOWTO, which can "
"be found <ulink "
"url=\"http://www.tldp.org/HOWTO/DHCP/index.html\">here</ulink>."
msgstr ""

#: serverguide/C/network-config.xml:698(para)
msgid ""
"For more <filename>/etc/dhcp3/dchpd.conf</filename> options see the <ulink "
"url=\"http://manpages.ubuntu.com/manpages/jaunty/en/man5/dhcpd.conf.5.html\">"
"dhcpd.conf man page</ulink>."
msgstr ""

#: serverguide/C/network-config.xml:704(para)
msgid ""
"Also see the <ulink url=\"http://www.dhcp-handbook.com/dhcp_faq.html\">DHCP "
"FAQ</ulink>"
msgstr ""

#: serverguide/C/network-config.xml:714(title)
msgid "Time Synchronisation with NTP"
msgstr ""

#: serverguide/C/network-config.xml:715(para)
msgid ""
"This page describes methods for keeping your computer's time accurate. This "
"is useful for servers, but is not necessary (or desirable) for desktop "
"machines."
msgstr ""

#: serverguide/C/network-config.xml:718(para)
msgid ""
"NTP is a TCP/IP protocol for synchronising time over a network. Basically a "
"client requests the current time from a server, and uses it to set its own "
"clock."
msgstr ""

#: serverguide/C/network-config.xml:721(para)
msgid ""
"Behind this simple description, there is a lot of complexity - there are "
"tiers of NTP servers, with the tier one NTP servers connected to atomic "
"clocks (often via GPS), and tier two and three servers spreading the load of "
"actually handling requests across the Internet. Also the client software is "
"a lot more complex than you might think - it has to factor out communication "
"delays, and adjust the time in a way that does not upset all the other "
"processes that run on the server. But luckily all that complexity is hidden "
"from you!"
msgstr ""

#: serverguide/C/network-config.xml:724(para)
msgid ""
"Ubuntu has two ways of automatically setting your time: ntpdate and ntpd."
msgstr ""

#: serverguide/C/network-config.xml:729(title)
msgid "ntpdate"
msgstr ""

#: serverguide/C/network-config.xml:730(para)
msgid ""
"Ubuntu comes with ntpdate as standard, and will run it once at boot time to "
"set up your time according to Ubuntu's NTP server. However, a server's clock "
"is likely to drift considerably between reboots, so it makes sense to "
"correct the time occasionally. The easiest way to do this is to get cron to "
"run ntpdate every day. With your favourite editor, as root, create a file "
"<code>/etc/cron.daily/ntpdate</code> containing:"
msgstr ""

#: serverguide/C/network-config.xml:735(screen)
#, no-wrap
msgid "ntpdate ntp.ubuntu.com\n"
msgstr ""

#: serverguide/C/network-config.xml:737(para)
msgid ""
"The file <code>/etc/cron.daily/ntpdate</code> must also be executable."
msgstr ""

#: serverguide/C/network-config.xml:740(screen)
#, no-wrap
msgid "sudo chmod 755 /etc/cron.daily/ntpdate\n"
msgstr ""

#: serverguide/C/network-config.xml:744(title)
msgid "ntpd"
msgstr ""

#: serverguide/C/network-config.xml:745(para)
msgid ""
"ntpdate is a bit of a blunt instrument - it can only adjust the time once a "
"day, in one big correction. The ntp daemon ntpd is far more subtle. It "
"calculates the drift of your system clock and continuously adjusts it, so "
"there are no large corrections that could lead to inconsistent logs for "
"instance. The cost is a little processing power and memory, but for a modern "
"server this is negligible."
msgstr ""

#: serverguide/C/network-config.xml:748(para)
msgid "To set up ntpd:"
msgstr ""

#: serverguide/C/network-config.xml:749(screen)
#, no-wrap
msgid "sudo apt-get install ntp\n"
msgstr ""

#: serverguide/C/network-config.xml:754(title)
msgid "Changing Time Servers"
msgstr ""

#: serverguide/C/network-config.xml:755(para)
msgid ""
"In both cases above, your system will use Ubuntu's NTP server at "
"<code>ntp.ubuntu.com</code> by default. This is OK, but you might want to "
"use several servers to increase accuracy and resilience, and you may want to "
"use time servers that are geographically closer to you. to do this for "
"ntpdate, change the contents of <code>/etc/cron.daily/ntpdate</code> to:"
msgstr ""

#: serverguide/C/network-config.xml:762(screen)
#, no-wrap
msgid "ntpdate ntp.ubuntu.com pool.ntp.org \n"
msgstr ""

#: serverguide/C/network-config.xml:764(para)
msgid ""
"And for ntpd edit <code>/etc/ntp.conf</code> to include additional server "
"lines:"
msgstr ""

#: serverguide/C/network-config.xml:769(screen)
#, no-wrap
msgid ""
"server ntp.ubuntu.com\n"
"server pool.ntp.org\n"
msgstr ""

#: serverguide/C/network-config.xml:772(para)
msgid ""
"You may notice <code>pool.ntp.org</code> in the examples above. This is a "
"really good idea which uses round-robin DNS to return an NTP server from a "
"pool, spreading the load between several different servers. Even better, "
"they have pools for different regions - for instance, if you are in New "
"Zealand, so you could use <code>nz.pool.ntp.org</code> instead of "
"<code>pool.ntp.org</code> . Look at <ulink "
"url=\"http://www.pool.ntp.org/\">http://www.pool.ntp.org/</ulink> for more "
"details."
msgstr ""

#: serverguide/C/network-config.xml:783(para)
msgid ""
"You can also Google for NTP servers in your region, and add these to your "
"configuration. To test that a server works, just type <code>sudo ntpdate "
"ntp.server.name</code> and see what happens."
msgstr ""

#: serverguide/C/network-config.xml:791(title)
msgid "Related Pages"
msgstr ""

#: serverguide/C/network-config.xml:795(ulink)
msgid "NTP Support"
msgstr ""

#: serverguide/C/network-config.xml:800(ulink)
msgid "The NTP FAQ and HOWTO"
msgstr ""

#: serverguide/C/network-auth.xml:13(title)
msgid "Network Authentication"
msgstr ""

#: serverguide/C/network-auth.xml:15(para)
msgid "This section explains various Network Authentication protocols."
msgstr ""

#: serverguide/C/network-auth.xml:19(title)
msgid "OpenLDAP Server"
msgstr ""

#: serverguide/C/network-auth.xml:20(para)
msgid ""
"LDAP is an acronym for Lightweight Directory Access Protocol, it is a "
"simplified version of the X.500 protocol. The directory setup in this "
"section will be used for authentication. Nevertheless, LDAP can be used in "
"numerous ways: authentication, shared directory (for mail clients), address "
"book, etc."
msgstr ""

#: serverguide/C/network-auth.xml:28(para)
msgid ""
"To describe LDAP quickly, all information is stored in a tree structure. "
"With <application>OpenLDAP</application> you have freedom to determine the "
"directory arborescence (the Directory Information Tree: the DIT) yourself. "
"We will begin with a basic tree containing two nodes below the root:"
msgstr ""

#: serverguide/C/network-auth.xml:37(para)
msgid "\"People\" node where your users will be stored"
msgstr ""

#: serverguide/C/network-auth.xml:40(para)
msgid "\"Groups\" node where your groups will be stored"
msgstr ""

#: serverguide/C/network-auth.xml:44(para)
msgid ""
"Before beginning, you should determine what the root of your LDAP directory "
"will be. By default, your tree will be determined by your Fully Qualified "
"Domain Name (FQDN). If your domain is example.com (which we will use in this "
"example), your root node will be dc=example,dc=com."
msgstr ""

#: serverguide/C/network-auth.xml:54(para)
msgid ""
"First, install the <application>OpenLDAP</application> server daemon "
"<application>slapd</application> and <application>ldap-utils</application>, "
"a package containing LDAP management utilities:"
msgstr ""

#: serverguide/C/network-auth.xml:60(command)
msgid "sudo apt-get install slapd ldap-utils"
msgstr ""

#: serverguide/C/network-auth.xml:63(para)
msgid ""
"The installation process will prompt you for the LDAP directory admin "
"password and confirmation."
msgstr ""

#: serverguide/C/network-auth.xml:68(para)
msgid ""
"By default the directory suffix will match the domain name of the server. "
"For example, if the machine's Fully Qualified Domain Name (FQDN) is "
"ldap.example.com, the default suffix will be "
"<emphasis>dc=example,dc=com</emphasis>. If you require a different suffix, "
"the directory can be reconfigured using <application>dpkg-"
"reconfigure</application>. Enter the following in a terminal prompt:"
msgstr ""

#: serverguide/C/network-auth.xml:78(command)
msgid "sudo dpkg-reconfigure slapd"
msgstr ""

#: serverguide/C/network-auth.xml:81(para)
msgid ""
"You will then be taken through a menu based configuration dialog, allowing "
"you to configure various <application>slapd</application> options."
msgstr ""

#: serverguide/C/network-auth.xml:90(para)
msgid ""
"<application>OpenLDAP</application> uses a separate database which contains "
"the <emphasis>cn=config</emphasis> Directory Information Tree (DIT). The "
"<emphasis>cn=config</emphasis> DIT is used to dynamically configure the "
"<application>slapd</application> daemon, allowing the modification of schema "
"definitions, indexes, ACLs, etc without stopping the service."
msgstr ""

#: serverguide/C/network-auth.xml:98(para)
msgid ""
"The <emphasis>cn=config</emphasis> tree can be manipulated using the "
"utilities in the <application>ldap-utils</application> package. For example:"
msgstr ""

#: serverguide/C/network-auth.xml:106(para)
msgid ""
"Use <application>ldapsearch</application> to view the tree, entering the "
"admin password set during installation or reconfiguration:"
msgstr ""

#: serverguide/C/network-auth.xml:112(command)
msgid ""
"ldapsearch -xLLL -b cn=config -D cn=admin,cn=config -W olcDatabase={1}hdb"
msgstr ""

#: serverguide/C/network-auth.xml:116(computeroutput)
#, no-wrap
msgid ""
"Enter LDAP Password: \n"
"dn: olcDatabase={1}hdb,cn=config\n"
"objectClass: olcDatabaseConfig\n"
"objectClass: olcHdbConfig\n"
"olcDatabase: {1}hdb\n"
"olcDbDirectory: /var/lib/ldap\n"
"olcSuffix: dc=example,dc=com\n"
"olcAccess: {0}to attrs=userPassword,shadowLastChange by "
"dn=\"cn=admin,dc=exampl\n"
" e,dc=com\" write by anonymous auth by self write by * none\n"
"olcAccess: {1}to dn.base=\"\" by * read\n"
"olcAccess: {2}to * by dn=\"cn=admin,dc=example,dc=com\" write by * read\n"
"olcLastMod: TRUE\n"
"olcDbCheckpoint: 512 30\n"
"olcDbConfig: {0}set_cachesize 0 2097152 0\n"
"olcDbConfig: {1}set_lk_max_objects 1500\n"
"olcDbConfig: {2}set_lk_max_locks 1500\n"
"olcDbConfig: {3}set_lk_max_lockers 1500\n"
"olcDbIndex: objectClass eq\n"
msgstr ""

#: serverguide/C/network-auth.xml:137(para)
msgid ""
"The output above is the current configuration options for the "
"<emphasis>hdb</emphasis> backend database. Which in this case containes the "
"<emphasis>dc=example,dc=com</emphasis> suffix."
msgstr ""

#: serverguide/C/network-auth.xml:146(para)
msgid ""
"Refine the search by supplying a <emphasis "
"role=\"italic\">filter</emphasis>, in this case only show which attributes "
"are indexed:"
msgstr ""

#: serverguide/C/network-auth.xml:152(command)
msgid ""
"ldapsearch -xLLL -b cn=config -D cn=admin,cn=config -W olcDatabase={1}hdb "
"olcDbIndex"
msgstr ""

#: serverguide/C/network-auth.xml:156(computeroutput)
#, no-wrap
msgid ""
"Enter LDAP Password: \n"
"dn: olcDatabase={1}hdb,cn=config\n"
"olcDbIndex: objectClass eq\n"
msgstr ""

#: serverguide/C/network-auth.xml:165(para)
msgid ""
"As an example of modifying the <emphasis>cn=config</emphasis> tree, add "
"another attribute to the index list using "
"<application>ldapmodify</application>:"
msgstr ""

#: serverguide/C/network-auth.xml:171(command) serverguide/C/network-auth.xml:723(command) serverguide/C/network-auth.xml:825(command) serverguide/C/network-auth.xml:848(command) serverguide/C/network-auth.xml:2405(command) serverguide/C/network-auth.xml:2422(command)
msgid "ldapmodify -x -D cn=admin,cn=config -W"
msgstr ""

#: serverguide/C/network-auth.xml:175(userinput)
#, no-wrap
msgid ""
"\n"
"dn: olcDatabase={1}hdb,cn=config\n"
"add: olcDbIndex\n"
"olcDbIndex: entryUUID eq"
msgstr ""

#: serverguide/C/network-auth.xml:175(computeroutput)
#, no-wrap
msgid ""
"Enter LDAP Password:<placeholder-1/>\n"
"\n"
"modifying entry \"olcDatabase={1}hdb,cn=config\"\n"
msgstr ""

#: serverguide/C/network-auth.xml:184(para)
msgid ""
"Once the modification has completed, press <emphasis>Ctrl+D</emphasis> to "
"exit the utility."
msgstr ""

#: serverguide/C/network-auth.xml:191(para)
msgid ""
"<application>ldapmodify</application> can also read the changes from a file. "
"Copy and paste the following into a file named "
"<filename>uid_index.ldif</filename>:"
msgstr ""

#: serverguide/C/network-auth.xml:196(programlisting)
#, no-wrap
msgid ""
"\n"
"dn: olcDatabase={1}hdb,cn=config\n"
"add: olcDbIndex\n"
"olcDbIndex: uid eq,pres,sub\n"
msgstr ""

#: serverguide/C/network-auth.xml:202(para)
msgid "Then execute <application>ldapmodify</application>:"
msgstr ""

#: serverguide/C/network-auth.xml:207(command)
msgid "ldapmodify -x -D cn=admin,cn=config -W -f uid_index.ldif"
msgstr ""

#: serverguide/C/network-auth.xml:211(computeroutput)
#, no-wrap
msgid ""
"Enter LDAP Password: \n"
"modifying entry \"olcDatabase={1}hdb,cn=config\"\n"
msgstr ""

#: serverguide/C/network-auth.xml:216(para)
msgid "The file method is very useful for large changes."
msgstr ""

#: serverguide/C/network-auth.xml:223(para)
msgid ""
"Adding additional <emphasis>schemas</emphasis> to "
"<application>slapd</application> requires the schema to be converted to LDIF "
"format. Fortunately, the <application>slapd</application> program can be "
"used to automate the conversion. The following example will add the "
"<emphasis>misc.schema</emphasis>:"
msgstr ""

#: serverguide/C/network-auth.xml:231(para)
msgid ""
"First, create a conversion <filename>schema_convert.conf</filename> file "
"containing the following lines:"
msgstr ""

#: serverguide/C/network-auth.xml:236(programlisting)
#, no-wrap
msgid ""
"\n"
"include /etc/ldap/schema/core.schema\n"
"include /etc/ldap/schema/collective.schema\n"
"include /etc/ldap/schema/corba.schema\n"
"include /etc/ldap/schema/cosine.schema\n"
"include /etc/ldap/schema/duaconf.schema\n"
"include /etc/ldap/schema/dyngroup.schema\n"
"include /etc/ldap/schema/inetorgperson.schema\n"
"include /etc/ldap/schema/java.schema\n"
"include /etc/ldap/schema/misc.schema\n"
"include /etc/ldap/schema/nis.schema\n"
"include /etc/ldap/schema/openldap.schema\n"
"include /etc/ldap/schema/ppolicy.schema\n"
msgstr ""

#: serverguide/C/network-auth.xml:254(para) serverguide/C/network-auth.xml:1304(para)
msgid "Next, create a temporary directory to hold the output:"
msgstr ""

#: serverguide/C/network-auth.xml:259(command) serverguide/C/network-auth.xml:1309(command) serverguide/C/network-auth.xml:2334(command)
msgid "mkdir /tmp/ldif_output"
msgstr ""

#: serverguide/C/network-auth.xml:265(para)
msgid ""
"Now using <application>slaptest</application> convert the schema files to "
"LDIF:"
msgstr ""

#: serverguide/C/network-auth.xml:270(command) serverguide/C/network-auth.xml:1320(command) serverguide/C/network-auth.xml:2345(command)
msgid "slaptest -f schema_convert.conf -F /tmp/ldif_output"
msgstr ""

#: serverguide/C/network-auth.xml:273(para)
msgid ""
"Adjust the configuration file name and temporary directory names if yours "
"are different. Also, it may be worthwhile to keep the "
"<filename>ldif_output</filename> directory around in case you want to add "
"additional schemas in the future."
msgstr ""

#: serverguide/C/network-auth.xml:282(para)
msgid ""
"Edit the "
"<filename>/tmp/ldif_output/cn=config/cn=schema/cn={8}misc.ldif</filename> "
"file, changing the following attributes:"
msgstr ""

#: serverguide/C/network-auth.xml:287(programlisting)
#, no-wrap
msgid ""
"\n"
"dn: cn=misc,cn=schema,cn=config\n"
"...\n"
"cn: misc\n"
msgstr ""

#: serverguide/C/network-auth.xml:293(para) serverguide/C/network-auth.xml:1341(para)
msgid "And remove the following lines from the bottom of the file:"
msgstr ""

#: serverguide/C/network-auth.xml:297(programlisting)
#, no-wrap
msgid ""
"\n"
"structuralObjectClass: olcSchemaConfig\n"
"entryUUID: 10dae0ea-0760-102d-80d3-f9366b7f7757\n"
"creatorsName: cn=config\n"
"createTimestamp: 20080826021140Z\n"
"entryCSN: 20080826021140.791425Z#000000#000#000000\n"
"modifiersName: cn=config\n"
"modifyTimestamp: 20080826021140Z\n"
msgstr ""

#: serverguide/C/network-auth.xml:308(para) serverguide/C/network-auth.xml:1356(para) serverguide/C/network-auth.xml:2381(para)
msgid ""
"The attribute values will vary, just be sure the attributes are removed."
msgstr ""

#: serverguide/C/network-auth.xml:316(para) serverguide/C/network-auth.xml:1364(para)
msgid ""
"Finally, using the <application>ldapadd</application> utility, add the new "
"schema to the directory:"
msgstr ""

#: serverguide/C/network-auth.xml:322(command)
msgid ""
"ldapadd -x -D cn=admin,cn=config -W -f /tmp/ldif_output/cn\\=config/cn\\"
"=schema/cn\\=\\{8\\}misc.ldif"
msgstr ""

#: serverguide/C/network-auth.xml:328(para)
msgid ""
"There should now be a <emphasis>dn: "
"cn={4}misc,cn=schema,cn=config</emphasis> entry in the cn=config tree."
msgstr ""

#: serverguide/C/network-auth.xml:337(title)
msgid "Populating LDAP"
msgstr ""

#: serverguide/C/network-auth.xml:339(para)
msgid ""
"The directory has been created during installation and reconfiguration, and "
"now it is time to populate it. It will be populated with a \"classical\" "
"scheme that will be compatible with address book applications and with Unix "
"Posix accounts. Posix accounts will allow authentication to various "
"applications, such as web applications, email Mail Transfer Agent (MTA) "
"applications, etc."
msgstr ""

#: serverguide/C/network-auth.xml:348(para)
msgid ""
"For external applications to authenticate using LDAP they will each need to "
"be specifically configured to do so. Refer to the individual application "
"documentation for details."
msgstr ""

#: serverguide/C/network-auth.xml:355(para)
msgid ""
"LDAP directories can be populated with LDIF (LDAP Directory Interchange "
"Format) files. Copy the following example LDIF file, naming it "
"<filename>example.com.ldif</filename>, somewhere on your system:"
msgstr ""

#: serverguide/C/network-auth.xml:361(programlisting)
#, no-wrap
msgid ""
"\n"
"dn: ou=people,dc=example,dc=com\n"
"objectClass: organizationalUnit\n"
"ou: people\n"
"\n"
"dn: ou=groups,dc=example,dc=com\n"
"objectClass: organizationalUnit\n"
"ou: groups\n"
"\n"
"dn: uid=john,ou=people,dc=example,dc=com\n"
"objectClass: inetOrgPerson\n"
"objectClass: posixAccount\n"
"objectClass: shadowAccount\n"
"uid: john\n"
"sn: Doe\n"
"givenName: John\n"
"cn: John Doe\n"
"displayName: John Doe\n"
"uidNumber: 1000\n"
"gidNumber: 10000\n"
"userPassword: password\n"
"gecos: John Doe\n"
"loginShell: /bin/bash\n"
"homeDirectory: /home/john\n"
"shadowExpire: -1\n"
"shadowFlag: 0\n"
"shadowWarning: 7\n"
"shadowMin: 8\n"
"shadowMax: 999999\n"
"shadowLastChange: 10877\n"
"mail: john.doe@example.com\n"
"postalCode: 31000\n"
"l: Toulouse\n"
"o: Example\n"
"mobile: +33 (0)6 xx xx xx xx\n"
"homePhone: +33 (0)5 xx xx xx xx\n"
"title: System Administrator\n"
"postalAddress: \n"
"initials: JD\n"
"\n"
"dn: cn=example,ou=groups,dc=example,dc=com\n"
"objectClass: posixGroup\n"
"cn: example\n"
"gidNumber: 10000\n"
msgstr ""

#: serverguide/C/network-auth.xml:407(para)
msgid ""
"In this example the directory structure, a user, and a group have been "
"setup. In other examples you might see the <emphasis>objectClass: "
"top</emphasis> added in every entry, but that is the default behaviour so "
"you do not have to add it explicitly."
msgstr ""

#: serverguide/C/network-auth.xml:414(para)
msgid ""
"To add the entries to the LDAP directory use the "
"<application>ldapadd</application> utility:"
msgstr ""

#: serverguide/C/network-auth.xml:420(command)
msgid "ldapadd -x -D cn=admin,dc=example,dc=com -W -f example.com.ldif"
msgstr ""

#: serverguide/C/network-auth.xml:423(para)
msgid ""
"We can check that the content has been correctly added with the tools from "
"the <application>ldap-utils</application> package. In order to execute a "
"search of the LDAP directory:"
msgstr ""

#: serverguide/C/network-auth.xml:430(command)
msgid "ldapsearch -xLLL -b \"dc=example,dc=com\" uid=john sn givenName cn"
msgstr ""

#: serverguide/C/network-auth.xml:431(computeroutput)
#, no-wrap
msgid ""
"\n"
"dn: uid=john,ou=people,dc=example,dc=com\n"
"cn: John Doe\n"
"sn: Doe\n"
"givenName: John\n"
msgstr ""

#: serverguide/C/network-auth.xml:439(para)
msgid "Just a quick explanation:"
msgstr ""

#: serverguide/C/network-auth.xml:445(para)
msgid ""
"<emphasis>-x:</emphasis> will not use SASL authentication method, which is "
"the default."
msgstr ""

#: serverguide/C/network-auth.xml:451(para)
msgid "<emphasis>-LLL:</emphasis> disable printing LDIF schema information."
msgstr ""

#: serverguide/C/network-auth.xml:460(title)
msgid "LDAP replication"
msgstr ""

#: serverguide/C/network-auth.xml:462(para)
msgid ""
"LDAP often quickly becomes a highly critical service to the network. "
"Multiple systems will come to depend on LDAP for authentication, "
"authorization, configuration, etc. It is a good idea to setup a redundant "
"system through replication."
msgstr ""

#: serverguide/C/network-auth.xml:468(para)
msgid ""
"Replication is achieved using the <emphasis>Syncrepl</emphasis> engine. "
"Syncrepl allows the directory to be synced using either a "
"<emphasis>push</emphasis> or <emphasis>pull</emphasis> based system. In a "
"push based configuration a <quote>primary</quote> server will push directory "
"updates to <quote>secondary</quote> servers, while a pull based approach "
"allows replication servers to sync on a time based interval."
msgstr ""

#: serverguide/C/network-auth.xml:476(para)
msgid ""
"The following is an example of a <emphasis>Multi-Master</emphasis> "
"configuration. In this configuration each OpenLDAP server is configured for "
"both <emphasis>push</emphasis> and <emphasis>pull</emphasis> replication."
msgstr ""

#: serverguide/C/network-auth.xml:484(para)
msgid ""
"First, configure the server to sync the <emphasis>cn=config</emphasis> "
"database. Copy the following to a file named <filename>syncrepl_cn-"
"config.ldif</filename>:"
msgstr ""

#: serverguide/C/network-auth.xml:489(programlisting)
#, no-wrap
msgid ""
"\n"
"dn: cn=module{0},cn=config\n"
"changetype: modify\n"
"add: olcModuleLoad\n"
"olcModuleLoad: syncprov\n"
"\n"
"dn: cn=config\n"
"changetype: modify\n"
"replace: olcServerID\n"
"olcServerID: 1 ldap://ldap01.example.com\n"
"olcServerID: 2 ldap://ldap02.example.com\n"
"\n"
"dn: olcOverlay=syncprov,olcDatabase={0}config,cn=config\n"
"changetype: add\n"
"objectClass: olcOverlayConfig\n"
"objectClass: olcSyncProvConfig\n"
"olcOverlay: syncprov\n"
"\n"
"dn: olcDatabase={0}config,cn=config\n"
"changetype: modify\n"
"add: olcSyncRepl\n"
"olcSyncRepl: rid=001 provider=ldap://ldap01.example.com "
"binddn=\"cn=admin,cn=config\" bindmethod=simple\n"
"  credentials=secret searchbase=\"cn=config\" type=refreshAndPersist\n"
"  retry=\"5 5 300 5\" timeout=1\n"
"olcSyncRepl: rid=002 provider=ldap://ldap02.example.com "
"binddn=\"cn=admin,cn=config\" bindmethod=simple\n"
"  credentials=secret searchbase=\"cn=config\" type=refreshAndPersist\n"
"  retry=\"5 5 300 5\" timeout=1\n"
"-\n"
"add: olcMirrorMode\n"
"olcMirrorMode: TRUE\n"
msgstr ""

#: serverguide/C/network-auth.xml:524(para)
msgid "Edit the file changing:"
msgstr ""

#: serverguide/C/network-auth.xml:530(para)
msgid ""
"<emphasis>ldap://ldap01.example.com</emphasis> and "
"<emphasis>ldap://ldap02.example.com</emphasis> to the hostnames of your LDAP "
"servers."
msgstr ""

#: serverguide/C/network-auth.xml:535(para)
msgid ""
"You can have more than two LDAP servers, and when a change is made to one of "
"them it will by synced to the rest. Be sure to increment the "
"<emphasis>olcServerID</emphasis> for each server, and the "
"<emphasis>rid</emphasis> for each <emphasis>olcSyncRepl</emphasis> entry."
msgstr ""

#: serverguide/C/network-auth.xml:543(para)
msgid ""
"And adjust <emphasis>credentials=secret</emphasis> to match your admin "
"password."
msgstr ""

#: serverguide/C/network-auth.xml:553(para)
msgid ""
"Next, add the LDIF file using the <application>ldapmodify</application> "
"utility:"
msgstr ""

#: serverguide/C/network-auth.xml:558(command)
msgid "ldapmodify -x -D cn=admin,cn=config -W -f syncrepl_cn-config.ldif"
msgstr ""

#: serverguide/C/network-auth.xml:564(para)
msgid ""
"Copy the <filename>syncrepl_cn-config.ldif</filename> file to the next LDAP "
"server and repeat the <application>ldapmodify</application> command above."
msgstr ""

#: serverguide/C/network-auth.xml:572(para)
msgid ""
"Because a new module has been added, the <application>slapd</application> "
"daemon, on all replicated servers, needs to be restarted:"
msgstr ""

#: serverguide/C/network-auth.xml:578(command) serverguide/C/network-auth.xml:778(command) serverguide/C/network-auth.xml:882(command)
msgid "sudo /etc/init.d/slapd restart"
msgstr ""

#: serverguide/C/network-auth.xml:584(para)
msgid ""
"Now that the configuration database is synced between servers, the "
"<emphasis>backend</emphasis> database needs to be synced as well. Copy and "
"paste the following into another LDIF file named "
"<filename>syncrepl_backend.ldif</filename>:"
msgstr ""

#: serverguide/C/network-auth.xml:590(programlisting)
#, no-wrap
msgid ""
"\n"
"dn: olcDatabase={1}hdb,cn=config\n"
"changetype: modify\n"
"add: olcRootDN\n"
"olcRootDN: cn=admin,dc=example,dc=com\n"
"-\n"
"add: olcSyncRepl\n"
"olcSyncRepl: rid=003 provider=ldap://ldap01.example.com "
"binddn=\"cn=admin,dc=example,dc=com\" \n"
" bindmethod=simple credentials=secret searchbase=\"dc=example,dc=com\" "
"type=refreshOnly \n"
" interval=00:00:00:10 retry=\"5 5 300 5\" timeout=1\n"
"olcSyncRepl: rid=004 provider=ldap://ldap02.example.com "
"binddn=\"cn=admin,dc=example,dc=com\" \n"
" bindmethod=simple credentials=secret searchbase=\"dc=example,dc=com\" "
"type=refreshOnly \n"
" interval=00:00:00:10 retry=\"5 5 300 5\" timeout=1\n"
"-\n"
"add: olcMirrorMode\n"
"olcMirrorMode: TRUE\n"
"\n"
"dn: olcOverlay=syncprov,olcDatabase={1}hdb,cn=config\n"
"changetype: add\n"
"objectClass: olcOverlayConfig\n"
"objectClass: olcSyncProvConfig\n"
"olcOverlay: syncprov\n"
msgstr ""

#: serverguide/C/network-auth.xml:617(para)
msgid "Like the previous LDIF file, edit this one changing:"
msgstr ""

#: serverguide/C/network-auth.xml:623(para)
msgid ""
"<emphasis>searchbase=\"dc=example,dc=com\"</emphasis> to your directory's "
"searchbase."
msgstr ""

#: serverguide/C/network-auth.xml:628(para)
msgid ""
"If you use a different admin user, change "
"<emphasis>binddn=\"cn=admin,dc=example,dc=com\"</emphasis>."
msgstr ""

#: serverguide/C/network-auth.xml:633(para)
msgid ""
"Also, replace <emphasis>credentials=secret</emphasis> with your admin "
"password."
msgstr ""

#: serverguide/C/network-auth.xml:642(para)
msgid "Add the LDIF file:"
msgstr ""

#: serverguide/C/network-auth.xml:647(command)
msgid "ldapmodify -x -D cn=admin,cn=config -W -f syncrepl_backend.ldif"
msgstr ""

#: serverguide/C/network-auth.xml:650(para)
msgid ""
"Because the servers' configuration is already synced there is no need to "
"copy this LDIF file to the other servers."
msgstr ""

#: serverguide/C/network-auth.xml:658(para)
msgid ""
"The configuration and backend databases should now sycnc to the other "
"servers. You can add additional servers using the "
"<application>ldapmodify</application> utility as the need arises. See <xref "
"linkend=\"openldap-configuration\"/> for details."
msgstr ""

#: serverguide/C/network-auth.xml:668(programlisting)
#, no-wrap
msgid "127.0.0.1\tldap01.example.com ldap01"
msgstr ""

#: serverguide/C/network-auth.xml:664(para)
msgid ""
"The <application>slapd</application> daemon will send log information to "
"<filename>/var/log/syslog</filename> by default. So if all does "
"<emphasis>not</emphasis> go well check there for errors and other "
"troubleshooting information. Also, be sure that each server knows it's Fully "
"Qualified Domain Name (FQDN). This is configured in "
"<filename>/etc/hosts</filename> with a line similar to: <placeholder-1/>."
msgstr ""

#: serverguide/C/network-auth.xml:675(title)
msgid "Setting up ACL"
msgstr ""

#: serverguide/C/network-auth.xml:677(para)
msgid ""
"Authentication requires access to the password field, that should be not "
"accessible by default. Also, in order for users to change their own "
"password, using <command>passwd</command> or other utilities, "
"<emphasis>shadowLastChange</emphasis> needs to be accessible once a user has "
"authenticated."
msgstr ""

#: serverguide/C/network-auth.xml:684(para)
msgid ""
"To view the Access Control List (ACL), use the "
"<application>ldapsearch</application> utility:"
msgstr ""

#: serverguide/C/network-auth.xml:689(command)
msgid ""
"ldapsearch -xLLL -b cn=config -D cn=admin,cn=config -W olcDatabase=hdb "
"olcAccess"
msgstr ""

#: serverguide/C/network-auth.xml:693(computeroutput)
#, no-wrap
msgid ""
"Enter LDAP Password: \n"
"dn: olcDatabase={1}hdb,cn=config\n"
"olcAccess: {0}to attrs=userPassword,shadowLastChange by "
"dn=\"cn=admin,dc=exampl\n"
" e,dc=com\" write by anonymous auth by self write by * none\n"
"olcAccess: {1}to dn.base=\"\" by * read\n"
"olcAccess: {2}to * by dn=\"cn=admin,dc=example,dc=com\" write by * read\n"
msgstr ""

#: serverguide/C/network-auth.xml:705(title)
msgid "TLS and SSL"
msgstr ""

#: serverguide/C/network-auth.xml:707(para)
msgid ""
"When authenticating to an OpenLDAP server it is best to do so using an "
"encrypted session. This can be accomplished using Transport Layer Security "
"(TLS) and/or Secure Sockets Layer (SSL)."
msgstr ""

#: serverguide/C/network-auth.xml:712(para)
msgid ""
"The first step in the process is to obtain or create a "
"<emphasis>certificate</emphasis>. See <xref linkend=\"certificates-and-"
"security\"/> and <xref linkend=\"certificate-authority\"/> for details."
msgstr ""

#: serverguide/C/network-auth.xml:717(para)
msgid ""
"Once you have a certificate, key, and CA cert installed, use "
"<application>ldapmodify</application> to add the new configuration options:"
msgstr ""

#: serverguide/C/network-auth.xml:728(userinput)
#, no-wrap
msgid ""
"dn: cn=config\n"
"add: olcTLSCACertificateFile\n"
"olcTLSCACertificateFile: /etc/ssl/certs/cacert.pem\n"
"-\n"
"add: olcTLSCertificateFile\n"
"olcTLSCertificateFile: /etc/ssl/certs/server.crt\n"
"-\n"
"add: olcTLSCertificateKeyFile\n"
"olcTLSCertificateKeyFile: /etc/ssl/private/server.key"
msgstr ""

#: serverguide/C/network-auth.xml:727(computeroutput)
#, no-wrap
msgid ""
"Enter LDAP Password:\n"
"<placeholder-1/>\n"
"\n"
"modifying entry \"cn=config\"\n"
msgstr ""

#: serverguide/C/network-auth.xml:743(para)
msgid ""
"Adjust the <filename>server.crt</filename>, <filename>server.key</filename>, "
"and <filename>cacert.pem</filename> names if yours are different."
msgstr ""

#: serverguide/C/network-auth.xml:749(para)
msgid ""
"Next, edit <filename>/etc/default/slapd</filename> uncomment the "
"<emphasis>SLAPD_SERVICES</emphasis> option:"
msgstr ""

#: serverguide/C/network-auth.xml:753(programlisting)
#, no-wrap
msgid ""
"\n"
"SLAPD_SERVICES=\"ldap:/// ldapi:/// ldaps:///\"\n"
msgstr ""

#: serverguide/C/network-auth.xml:757(para)
msgid ""
"Now the <emphasis>openldap</emphasis> user needs access to the certificate:"
msgstr ""

#: serverguide/C/network-auth.xml:762(command)
msgid "sudo adduser openldap ssl-cert"
msgstr ""

#: serverguide/C/network-auth.xml:763(command)
msgid "sudo chgrp ssl-cert /etc/ssl/private/server.key"
msgstr ""

#: serverguide/C/network-auth.xml:767(para)
msgid ""
"If the <filename role=\"directory\">/etc/ssl/private</filename> and "
"<filename>/etc/ssl/private/server.key</filename> have different permissions, "
"adjust the commands appropriately."
msgstr ""

#: serverguide/C/network-auth.xml:773(para)
msgid "Finally, restart <application>slapd</application>:"
msgstr ""

#: serverguide/C/network-auth.xml:781(para)
msgid ""
"The <application>slapd</application> daemon should now be listening for "
"LDAPS connections and be able to use STARTTLS during authentication."
msgstr ""

#: serverguide/C/network-auth.xml:787(title)
msgid "TLS Replication"
msgstr ""

#: serverguide/C/network-auth.xml:789(para)
msgid ""
"If you have setup <application>Syncrepl</application> between servers, it is "
"prudent to encrypt the replication traffic using <emphasis>Transport Layer "
"Security (TLS)</emphasis>. For details on setting up replication see <xref "
"linkend=\"openldap-server-replication\"/>."
msgstr ""

#: serverguide/C/network-auth.xml:795(para)
msgid ""
"After setting up replication, and following the instructions in <xref "
"linkend=\"openldap-tls\"/>, there are a couple of consequences that should "
"be kept in mind:"
msgstr ""

#: serverguide/C/network-auth.xml:802(para)
msgid ""
"The configuration only needs to be modified on <emphasis>one</emphasis> "
"server."
msgstr ""

#: serverguide/C/network-auth.xml:807(para)
msgid ""
"The path names for the <emphasis>certificate</emphasis> and "
"<emphasis>key</emphasis> must be the same on all servers."
msgstr ""

#: serverguide/C/network-auth.xml:814(para)
msgid ""
"So on each replicated server: install a certificate, edit "
"<filename>/etc/default/slapd</filename>, and restart "
"<application>slapd</application>."
msgstr ""

#: serverguide/C/network-auth.xml:819(para)
msgid ""
"Once <emphasis>TLS</emphasis> has been setup on each server, modify the "
"<emphasis>cn=config</emphasis> replication by entering the following in a "
"terminal:"
msgstr ""

#: serverguide/C/network-auth.xml:830(userinput)
#, no-wrap
msgid ""
"dn: olcDatabase={0}config,cn=config\n"
"replace: olcSyncrepl\n"
"olcSyncrepl: {0}rid=001 provider=ldap://ldap01.example.com "
"binddn=\"cn=admin,cn\n"
" =config\" bindmethod=simple credentials=secret searchbase=\"cn=config\" "
"type=refre\n"
" shAndPersist retry=\"5 5 300 5\" timeout=1 starttls=yes\n"
"olcSyncrepl: {1}rid=002 provider=ldap://ldap02.example.com "
"binddn=\"cn=admin,cn\n"
" =config\" bindmethod=simple credentials=secret searchbase=\"cn=config\" "
"type=refre\n"
" shAndPersist retry=\"5 5 300 5\" timeout=1 starttls=yes"
msgstr ""

#: serverguide/C/network-auth.xml:829(computeroutput)
#, no-wrap
msgid ""
"Enter LDAP Password: \n"
"<placeholder-1/>\n"
"\n"
"modifying entry \"olcDatabase={0}config,cn=config\"\n"
msgstr ""

#: serverguide/C/network-auth.xml:843(para)
msgid "Now adjust the <emphasis>backend</emphasis> database replication:"
msgstr ""

#: serverguide/C/network-auth.xml:853(userinput)
#, no-wrap
msgid ""
"dn: olcDatabase={1}hdb,cn=config\n"
"replace: olcSyncrepl\n"
"olcSyncrepl: {0}rid=003 provider=ldap://ldap01.example.com "
"binddn=\"cn=admin,dc=example,dc=\n"
" com\" bindmethod=simple credentials=secret searchbase=\"dc=example,dc=com\" "
"type=r\n"
" efreshOnly interval=00:00:00:10 retry=\"5 5 300 5\" timeout=1 starttls=yes\n"
"olcSyncrepl: {1}rid=004 provider=ldap://ldap02.example.com "
"binddn=\"cn=admin,dc=example,dc=\n"
" com\" bindmethod=simple credentials=secret searchbase=\"dc=example,dc=com\" "
"type=r\n"
" efreshOnly interval=00:00:00:10 retry=\"5 5 300 5\" timeout=1 starttls=yes"
msgstr ""

#: serverguide/C/network-auth.xml:852(computeroutput) serverguide/C/network-auth.xml:2406(computeroutput)
#, no-wrap
msgid ""
"Enter LDAP Password:\n"
"<placeholder-1/>\n"
"\n"
"modifying entry \"olcDatabase={1}hdb,cn=config\""
msgstr ""

#: serverguide/C/network-auth.xml:865(para)
msgid ""
"If the LDAP server hostname does not match the Fully Qualified Domain Name "
"(FQDN) in the certificate, you may have to edit "
"<filename>/etc/ldap/ldap.conf</filename> and add the following TLS options:"
msgstr ""

#: serverguide/C/network-auth.xml:870(programlisting)
#, no-wrap
msgid ""
"\n"
"TLS_CERT /etc/ssl/certs/server.crt\n"
"TLS_KEY /etc/ssl/private/server.key\n"
"TLS_CACERT /etc/ssl/certs/cacert.pem\n"
msgstr ""

#: serverguide/C/network-auth.xml:877(para)
msgid ""
"Finally, restart <application>slapd</application> on each of the servers:"
msgstr ""

#: serverguide/C/network-auth.xml:890(title)
msgid "LDAP Authentication"
msgstr ""

#: serverguide/C/network-auth.xml:892(para)
msgid ""
"Once you have a working LDAP server, the <application>auth-client-"
"config</application> and <application>libnss-ldap</application> packages "
"take the pain out of configuring an Ubuntu client to authenticate using "
"LDAP. To install the packages from, a terminal prompt enter:"
msgstr ""

#: serverguide/C/network-auth.xml:899(command)
msgid "sudo apt-get install libnss-ldap"
msgstr ""

#: serverguide/C/network-auth.xml:902(para)
msgid ""
"During the install a menu dialog will ask you connection details about your "
"LDAP server."
msgstr ""

#: serverguide/C/network-auth.xml:906(para)
msgid ""
"If you make a mistake when entering your information you can execute the "
"dialog again using:"
msgstr ""

#: serverguide/C/network-auth.xml:911(command)
msgid "sudo dpkg-reconfigure ldap-auth-config"
msgstr ""

#: serverguide/C/network-auth.xml:914(para)
msgid ""
"The results of the dialog can be seen in "
"<filename>/etc/ldap.conf</filename>. If your server requires options not "
"covered in the menu edit this file accordingly."
msgstr ""

#: serverguide/C/network-auth.xml:919(para)
msgid ""
"Now that <application>libnss-ldap</application> is configured enable the "
"<application>auth-client-config</application> LDAP profile by entering:"
msgstr ""

#: serverguide/C/network-auth.xml:925(command)
msgid "sudo auth-client-config -t nss -p lac_ldap"
msgstr ""

#: serverguide/C/network-auth.xml:930(para)
msgid ""
"<emphasis>-t:</emphasis> only modifies "
"<filename>/etc/nsswitch.conf</filename>."
msgstr ""

#: serverguide/C/network-auth.xml:935(para)
msgid "<emphasis>-p:</emphasis> name of the profile to enable, disable, etc."
msgstr ""

#: serverguide/C/network-auth.xml:940(para)
msgid ""
"<emphasis>lac_ldap:</emphasis> the <application>auth-client-"
"config</application> profile that is part of the <application>ldap-auth-"
"config</application> package."
msgstr ""

#: serverguide/C/network-auth.xml:947(para)
msgid ""
"Using the <application>pam-auth-update</application> utility, configure the "
"system to use LDAP for authentication:"
msgstr ""

#: serverguide/C/network-auth.xml:952(command)
msgid "sudo pam-auth-update"
msgstr ""

#: serverguide/C/network-auth.xml:955(para)
msgid ""
"From the <application>pam-auth-update</application> menu, choose LDAP and "
"any other authentication mechanisms you need."
msgstr ""

#: serverguide/C/network-auth.xml:959(para)
msgid ""
"You should now be able to login using user credentials stored in the LDAP "
"directory."
msgstr ""

#: serverguide/C/network-auth.xml:964(para)
msgid ""
"If you are going to use LDAP to store Samba users you will need to configure "
"the server to authenticate using LDAP. See <xref linkend=\"samba-ldap\"/> "
"for details."
msgstr ""

#: serverguide/C/network-auth.xml:972(title)
msgid "User and Group Management"
msgstr ""

#: serverguide/C/network-auth.xml:974(para)
msgid ""
"The <application>ldap-utils</application> package comes with multiple "
"utilities to manage the directory, but the long string of options needed, "
"can make them a burden to use. The <application>ldapscripts</application> "
"package contains configurable scripts to easily manage LDAP users and groups."
msgstr ""

#: serverguide/C/network-auth.xml:980(para)
msgid "To install the package, from a terminal enter:"
msgstr ""

#: serverguide/C/network-auth.xml:985(command)
msgid "sudo apt-get install ldapscripts"
msgstr ""

#: serverguide/C/network-auth.xml:988(para)
msgid ""
"Next, edit the config file "
"<filename>/etc/ldapscripts/ldapscripts.conf</filename> uncommenting and "
"changing the following to match your environment:"
msgstr ""

#: serverguide/C/network-auth.xml:993(programlisting)
#, no-wrap
msgid ""
"\n"
"SERVER=localhost\n"
"BINDDN='cn=admin,dc=example,dc=com'\n"
"BINDPWDFILE=\"/etc/ldapscripts/ldapscripts.passwd\"\n"
"SUFFIX='dc=example,dc=com'\n"
"GSUFFIX='ou=Groups'\n"
"USUFFIX='ou=People'\n"
"MSUFFIX='ou=Computers'\n"
"GIDSTART=10000\n"
"UIDSTART=10000\n"
"MIDSTART=10000\n"
msgstr ""

#: serverguide/C/network-auth.xml:1006(para)
msgid ""
"Now, create the <filename>ldapscripts.passwd</filename> file to allow "
"authenticated access to the directory:"
msgstr ""

#: serverguide/C/network-auth.xml:1011(command)
msgid ""
"sudo sh -c \"echo -n 'secret' &gt; /etc/ldapscripts/ldapscripts.passwd\""
msgstr ""

#: serverguide/C/network-auth.xml:1012(command)
msgid "sudo chmod 400 /etc/ldapscripts/ldapscripts.passwd"
msgstr ""

#: serverguide/C/network-auth.xml:1016(para)
msgid ""
"Replace <quote>secret</quote> with the actual password for your LDAP admin "
"user."
msgstr ""

#: serverguide/C/network-auth.xml:1021(para)
msgid ""
"The <application>ldapscripts</application> are now ready to help manage your "
"directory. The following are some examples of how to use the scripts:"
msgstr ""

#: serverguide/C/network-auth.xml:1028(para)
msgid "Create a new user:"
msgstr ""

#: serverguide/C/network-auth.xml:1032(command)
msgid "sudo ldapadduser george example"
msgstr ""

#: serverguide/C/network-auth.xml:1034(para)
msgid ""
"This will create a user with uid <emphasis role=\"italic\">george</emphasis> "
"and set the user's primary group (gid) to <emphasis "
"role=\"italic\">example</emphasis>"
msgstr ""

#: serverguide/C/network-auth.xml:1040(para)
msgid "Change a user's password:"
msgstr ""

#: serverguide/C/network-auth.xml:1044(command)
msgid "sudo ldapsetpasswd george"
msgstr ""

#: serverguide/C/network-auth.xml:1045(computeroutput)
#, no-wrap
msgid "Changing password for user uid=george,ou=People,dc=example,dc=com"
msgstr ""

#: serverguide/C/network-auth.xml:1046(userinput)
#, no-wrap
msgid "New Password: "
msgstr ""

#: serverguide/C/network-auth.xml:1047(userinput)
#, no-wrap
msgid "New Password (verify): "
msgstr ""

#: serverguide/C/network-auth.xml:1051(para)
msgid "Delete a user:"
msgstr ""

#: serverguide/C/network-auth.xml:1055(command)
msgid "sudo ldapdeleteuser george"
msgstr ""

#: serverguide/C/network-auth.xml:1060(para)
msgid "Add a group:"
msgstr ""

#: serverguide/C/network-auth.xml:1064(command)
msgid "sudo ldapaddgroup qa"
msgstr ""

#: serverguide/C/network-auth.xml:1068(para)
msgid "Delete a group:"
msgstr ""

#: serverguide/C/network-auth.xml:1072(command)
msgid "sudo ldapdeletegroup qa"
msgstr ""

#: serverguide/C/network-auth.xml:1076(para)
msgid "Add a user to a group:"
msgstr ""

#: serverguide/C/network-auth.xml:1080(command)
msgid "sudo ldapaddusertogroup george qa"
msgstr ""

#: serverguide/C/network-auth.xml:1082(para)
msgid ""
"You should now see a <emphasis>memberUid</emphasis> attribute for the "
"<emphasis role=\"italic\">qa</emphasis> group with a value of <emphasis "
"role=\"italic\">george</emphasis>."
msgstr ""

#: serverguide/C/network-auth.xml:1088(para)
msgid "Remove a user from a group:"
msgstr ""

#: serverguide/C/network-auth.xml:1092(command)
msgid "sudo ldapdeleteuserfromgroup george qa"
msgstr ""

#: serverguide/C/network-auth.xml:1094(para)
msgid ""
"The <emphasis>memberUid</emphasis> attribute should now be removed from the "
"<emphasis role=\"italic\">qa</emphasis> group."
msgstr ""

#: serverguide/C/network-auth.xml:1100(para)
msgid ""
"The <application>ldapmodifyuser</application> script allows you to add, "
"remove, or replace a user's attributes. The script uses the same syntax as "
"the <application>ldapmodify</application> utility. For example:"
msgstr ""

#: serverguide/C/network-auth.xml:1105(command)
msgid "sudo ldapmodifyuser george"
msgstr ""

#: serverguide/C/network-auth.xml:1106(computeroutput)
#, no-wrap
msgid ""
"# About to modify the following entry :\n"
"dn: uid=george,ou=People,dc=example,dc=com\n"
"objectClass: account\n"
"objectClass: posixAccount\n"
"cn: george\n"
"uid: george\n"
"uidNumber: 1001\n"
"gidNumber: 1001\n"
"homeDirectory: /home/george\n"
"loginShell: /bin/bash\n"
"gecos: george\n"
"description: User account\n"
"userPassword:: e1NTSEF9eXFsTFcyWlhwWkF1eGUybVdFWHZKRzJVMjFTSG9vcHk=\n"
"\n"
"# Enter your modifications here, end with CTRL-D.\n"
"dn: uid=george,ou=People,dc=example,dc=com"
msgstr ""

#: serverguide/C/network-auth.xml:1122(userinput)
#, no-wrap
msgid ""
"replace: gecos\n"
"gecos: George Carlin"
msgstr ""

#: serverguide/C/network-auth.xml:1125(para)
msgid ""
"The user's <emphasis>gecos</emphasis> should now be <quote>George "
"Carlin</quote>."
msgstr ""

#: serverguide/C/network-auth.xml:1130(para)
msgid ""
"Another great feature of <application>ldapscripts</application>, is the "
"template system. Templates allow you to customize the attributes of user, "
"group, and machine objectes. For example, to enable the "
"<emphasis>user</emphasis> template edit "
"<filename>/etc/ldapscripts/ldapscripts.conf</filename> changing:"
msgstr ""

#: serverguide/C/network-auth.xml:1137(programlisting)
#, no-wrap
msgid ""
"\n"
"UTEMPLATE=\"/etc/ldapscripts/ldapadduser.template\"\n"
msgstr ""

#: serverguide/C/network-auth.xml:1141(para)
msgid ""
"There are <emphasis role=\"italic\">sample</emphasis> templates in the "
"<filename>/etc/ldapscripts</filename> directory. Copy or rename the "
"<filename>ldapadduser.template.sample</filename> file to "
"<filename>/etc/ldapscripts/ldapadduser.template</filename>:"
msgstr ""

#: serverguide/C/network-auth.xml:1148(command)
msgid ""
"sudo cp /etc/ldapscripts/ldapadduser.template.sample "
"/etc/ldapscripts/ldapadduser.template"
msgstr ""

#: serverguide/C/network-auth.xml:1151(para)
msgid ""
"Edit the new template to add the desired attributes. The following will "
"create new user's as with an <emphasis>objectClass</emphasis> of "
"<emphasis>inetOrgPerson</emphasis>:"
msgstr ""

#: serverguide/C/network-auth.xml:1156(programlisting)
#, no-wrap
msgid ""
"\n"
"dn: uid=&lt;user&gt;,&lt;usuffix&gt;,&lt;suffix&gt;\n"
"objectClass: inetOrgPerson\n"
"objectClass: posixAccount\n"
"cn: &lt;user&gt;\n"
"sn: &lt;ask&gt;\n"
"uid: &lt;user&gt;\n"
"uidNumber: &lt;uid&gt;\n"
"gidNumber: &lt;gid&gt;\n"
"homeDirectory: &lt;home&gt;\n"
"loginShell: &lt;shell&gt;\n"
"gecos: &lt;user&gt;\n"
"description: User account\n"
"title: Employee\n"
msgstr ""

#: serverguide/C/network-auth.xml:1172(para)
msgid ""
"Notice the <emphasis>&lt;ask&gt;</emphasis> option used for the "
"<emphasis>cn</emphasis> value. Using &lt;ask&gt; will configure "
"<application>ldapadduser</application> to prompt you for the attribute value "
"during user creation."
msgstr ""

#: serverguide/C/network-auth.xml:1180(para)
msgid ""
"There are more useful scripts in the package, to see a full list enter: "
"<command>dpkg -L ldapscripts | grep bin</command>"
msgstr ""

#: serverguide/C/network-auth.xml:1189(para)
msgid ""
"For more information see <ulink url=\"http://www.openldap.org/\">OpenLDAP "
"Home Page</ulink>"
msgstr ""

#: serverguide/C/network-auth.xml:1194(para)
msgid ""
"Though starting to show it's age, a great source for in depth LDAP "
"information is O'Reilly's <ulink "
"url=\"http://www.oreilly.com/catalog/ldapsa/\">LDAP System "
"Administration</ulink>"
msgstr ""

#: serverguide/C/network-auth.xml:1200(para)
msgid ""
"Packt's <ulink url=\"http://www.packtpub.com/OpenLDAP-Developers-Server-Open-"
"Source-Linux/book\">Mastering OpenLDAP</ulink> is a great reference covering "
"newer versions of OpenLDAP."
msgstr ""

#: serverguide/C/network-auth.xml:1206(para)
msgid ""
"For more information on <application>auth-client-config</application> see "
"the man page: <command>man auth-client-config</command>."
msgstr ""

#: serverguide/C/network-auth.xml:1211(para)
msgid ""
"For more details regarding the <application>ldapscripts</application> "
"package see the man pages: <command>man ldapscripts</command>, <command>man "
"ldapadduser</command>, <command>man ldapaddgroup</command>, etc."
msgstr ""

#: serverguide/C/network-auth.xml:1221(title)
msgid "Samba and LDAP"
msgstr ""

#: serverguide/C/network-auth.xml:1223(para)
msgid ""
"This section covers configuring Samba to use LDAP for user, group, and "
"machine account information and authentication. The assumption is, you "
"already have a working OpenLDAP directory installed and the server is "
"configured to use it for authentication. See <xref linkend=\"openldap-"
"server\"/> and <xref linkend=\"openldap-auth-config\"/> for details on "
"setting up OpenLDAP."
msgstr ""

#: serverguide/C/network-auth.xml:1232(para)
msgid ""
"There are three packages needed when integrating Samba with LDAP. "
"<application>samba</application>, <application>samba-doc</application>, and "
"<application>smbldap-tools</application> packages . To install the packages, "
"from a terminal enter:"
msgstr ""

#: serverguide/C/network-auth.xml:1238(command)
msgid "sudo apt-get install samba samba-doc smbldap-tools"
msgstr ""

#: serverguide/C/network-auth.xml:1241(para)
msgid ""
"Strictly speaking the <application>smbldap-tools</application> package isn't "
"needed, but unless you have another package or custom scripts, a method of "
"managing users, groups, and computer accounts is needed."
msgstr ""

#: serverguide/C/network-auth.xml:1248(title)
msgid "OpenLDAP Configuration"
msgstr ""

#: serverguide/C/network-auth.xml:1250(para)
msgid ""
"In order for Samba to use OpenLDAP as a <emphasis>passdb backend</emphasis>, "
"the user objects in the directory will need additional attributes. This "
"section assumes you want Samba to be configured as a Windows NT domain "
"controller, and will add the necessary LDAP objects and attributes."
msgstr ""

#: serverguide/C/network-auth.xml:1258(para)
msgid ""
"The Samba attributes are defined in the <filename>samba.schema</filename> "
"file which is part of the <application>samba-doc</application> package. The "
"schema file needs to be unzipped and copied to "
"<filename>/etc/ldap/schema</filename>. From a terminal prompt enter:"
msgstr ""

#: serverguide/C/network-auth.xml:1265(command)
msgid ""
"sudo cp /usr/share/doc/samba-doc/examples/LDAP/samba.schema.gz "
"/etc/ldap/schema/"
msgstr ""

#: serverguide/C/network-auth.xml:1266(command)
msgid "sudo gzip -d /etc/ldap/schema/samba.schema.gz"
msgstr ""

#: serverguide/C/network-auth.xml:1272(para)
msgid ""
"The <emphasis>samba</emphasis> schema needs to be added to the "
"<emphasis>cn=config</emphasis> tree. The procedure to add a new schema to "
"<application>slapd</application> is also detailed in <xref "
"linkend=\"openldap-configuration\"/>."
msgstr ""

#: serverguide/C/network-auth.xml:1280(para) serverguide/C/network-auth.xml:2305(para)
msgid ""
"First, create a configuration file named "
"<filename>schema_convert.conf</filename>, or a similar descriptive name, "
"containing the following lines:"
msgstr ""

#: serverguide/C/network-auth.xml:1285(programlisting)
#, no-wrap
msgid ""
"\n"
"include /etc/ldap/schema/core.schema\n"
"include /etc/ldap/schema/collective.schema\n"
"include /etc/ldap/schema/corba.schema\n"
"include /etc/ldap/schema/cosine.schema\n"
"include /etc/ldap/schema/duaconf.schema\n"
"include /etc/ldap/schema/dyngroup.schema\n"
"include /etc/ldap/schema/inetorgperson.schema\n"
"include /etc/ldap/schema/java.schema\n"
"include /etc/ldap/schema/misc.schema\n"
"include /etc/ldap/schema/nis.schema\n"
"include /etc/ldap/schema/openldap.schema\n"
"include /etc/ldap/schema/ppolicy.schema\n"
"include /etc/ldap/schema/samba.schema\n"
msgstr ""

#: serverguide/C/network-auth.xml:1315(para) serverguide/C/network-auth.xml:2340(para)
msgid ""
"Now use <application>slaptest</application> to convert the schema files:"
msgstr ""

#: serverguide/C/network-auth.xml:1323(para) serverguide/C/network-auth.xml:2348(para)
msgid ""
"Change the above file and path names to match your own if they are different."
msgstr ""

#: serverguide/C/network-auth.xml:1330(para)
msgid ""
"Edit the generated "
"<filename>/tmp/ldif_output/cn=config/cn=schema/cn={12}samba.ldif</filename> "
"file, changing the following attributes:"
msgstr ""

#: serverguide/C/network-auth.xml:1335(programlisting)
#, no-wrap
msgid ""
"\n"
"dn: cn=samba,cn=schema,cn=config\n"
"...\n"
"cn: samba\n"
msgstr ""

#: serverguide/C/network-auth.xml:1345(programlisting)
#, no-wrap
msgid ""
"\n"
"structuralObjectClass: olcSchemaConfig\n"
"entryUUID: b53b75ca-083f-102d-9fff-2f64fd123c95\n"
"creatorsName: cn=config\n"
"createTimestamp: 20080827045234Z\n"
"entryCSN: 20080827045234.341425Z#000000#000#000000\n"
"modifiersName: cn=config\n"
"modifyTimestamp: 20080827045234Z\n"
msgstr ""

#: serverguide/C/network-auth.xml:1370(command)
msgid ""
"ldapadd -x -D cn=admin,cn=config -W -f /tmp/ldif_output/cn\\=config/cn\\"
"=schema/cn\\=\\{12\\}samba.ldif"
msgstr ""

#: serverguide/C/network-auth.xml:1376(para)
msgid ""
"There should now be a <emphasis>dn: "
"cn={X}misc,cn=schema,cn=config</emphasis>, where \"X\" is the next "
"sequential schema, entry in the cn=config tree."
msgstr ""

#: serverguide/C/network-auth.xml:1384(para)
msgid ""
"Copy and paste the following into a file named "
"<filename>samba_indexes.ldif</filename>:"
msgstr ""

#: serverguide/C/network-auth.xml:1388(programlisting)
#, no-wrap
msgid ""
"\n"
"dn: olcDatabase={1}hdb,cn=config\n"
"changetype: modify\n"
"add: olcDbIndex\n"
"olcDbIndex: uidNumber eq\n"
"olcDbIndex: gidNumber eq\n"
"olcDbIndex: loginShell eq\n"
"olcDbIndex: uid eq,pres,sub\n"
"olcDbIndex: memberUid eq,pres,sub\n"
"olcDbIndex: uniqueMember eq,pres\n"
"olcDbIndex: sambaSID eq\n"
"olcDbIndex: sambaPrimaryGroupSID eq\n"
"olcDbIndex: sambaGroupType eq\n"
"olcDbIndex: sambaSIDList eq\n"
"olcDbIndex: sambaDomainName eq\n"
"olcDbIndex: default sub\n"
msgstr ""

#: serverguide/C/network-auth.xml:1406(para)
msgid ""
"Using the <application>ldapmodify</application> utility load the new indexes:"
msgstr ""

#: serverguide/C/network-auth.xml:1411(command)
msgid "ldapmodify -x -D cn=admin,cn=config -W -f samba_indexes.ldif"
msgstr ""

#: serverguide/C/network-auth.xml:1413(para)
msgid ""
"If all went well you should see the new indexes using "
"<application>ldapsearch</application>:"
msgstr ""

#: serverguide/C/network-auth.xml:1418(command)
msgid ""
"ldapsearch -xLLL -D cn=admin,cn=config -x -b cn=config -W olcDatabase={1}hdb"
msgstr ""

#: serverguide/C/network-auth.xml:1424(para)
msgid ""
"Next, configure the <application>smbldap-tools</application> package to "
"match your environment. The package comes with a configuration script that "
"will ask questions about the needed options. To run the script enter:"
msgstr ""

#: serverguide/C/network-auth.xml:1430(command)
msgid "sudo gzip -d /usr/share/doc/smbldap-tools/configure.pl.gz"
msgstr ""

#: serverguide/C/network-auth.xml:1431(command)
msgid "sudo perl /usr/share/doc/smbldap-tools/configure.pl"
msgstr ""

#: serverguide/C/network-auth.xml:1434(para)
msgid ""
"Once you have answered the questions, there should be <filename>/etc/smbldap-"
"tools/smbldap.conf</filename> and <filename>/etc/smbldap-"
"tools/smbldap_bind.conf</filename> files. These files are generated by the "
"configure script, so if you made any mistakes while executing the script it "
"may be simpler to edit the file appropriately."
msgstr ""

#: serverguide/C/network-auth.xml:1444(para)
msgid ""
"The <application>smbldap-populate</application> script will add the "
"necessary users, groups, and LDAP objects required for Samba. It is a good "
"idea to make a backup LDAP Data Interchange Format (LDIF) file with "
"<application>slapcat</application> before executing the command:"
msgstr ""

#: serverguide/C/network-auth.xml:1451(command)
msgid "sudo slapcat -l backup.ldif"
msgstr ""

#: serverguide/C/network-auth.xml:1457(para)
msgid ""
"Once you have a current backup execute <application>smbldap-"
"populate</application> by entering:"
msgstr ""

#: serverguide/C/network-auth.xml:1462(command)
msgid "sudo smbldap-populate"
msgstr ""

#: serverguide/C/network-auth.xml:1466(para)
msgid ""
"You can create an LDIF file containing the new Samba objects by executing "
"<command>sudo smbldap-populate -e samba.ldif</command>. This allows you to "
"look over the changes making sure everything is correct."
msgstr ""

#: serverguide/C/network-auth.xml:1474(para)
msgid ""
"Your LDAP directory now has the necessary domain information to authenticate "
"Samba users."
msgstr ""

#: serverguide/C/network-auth.xml:1480(title)
msgid "Samba Configuration"
msgstr ""

#: serverguide/C/network-auth.xml:1482(para)
msgid ""
"There a multiple ways to configure Samba for details on some common "
"configurations see <xref linkend=\"windows-networking\"/>. To configure "
"Samba to use LDAP, edit the main Samba configuration file "
"<filename>/etc/samba/smb.conf</filename> commenting the <emphasis>passdb "
"backend</emphasis> option and adding the following:"
msgstr ""

#: serverguide/C/network-auth.xml:1488(programlisting)
#, no-wrap
msgid ""
"\n"
"#   passdb backend = tdbsam\n"
"\n"
"# LDAP Settings\n"
"   passdb backend = ldapsam:ldap://hostname\n"
"   ldap suffix = dc=example,dc=com\n"
"   ldap user suffix = ou=People\n"
"   ldap group suffix = ou=Groups\n"
"   ldap machine suffix = ou=Computers\n"
"   ldap idmap suffix = ou=Idmap\n"
"   ldap admin dn = cn=admin,dc=example,dc=com\n"
"   ldap ssl = start tls\n"
"   ldap passwd sync = yes\n"
"...\n"
"   add machine script = sudo /usr/sbin/smbldap-useradd -t 0 -w \"%u\"\n"
msgstr ""

#: serverguide/C/network-auth.xml:1505(para)
msgid "Restart <application>samba</application> to enable the new settings:"
msgstr ""

#: serverguide/C/network-auth.xml:1513(para)
msgid ""
"Now Samba needs to know the LDAP admin password. From a terminal prompt "
"enter:"
msgstr ""

#: serverguide/C/network-auth.xml:1518(command)
msgid "sudo smbpasswd -w secret"
msgstr ""

#: serverguide/C/network-auth.xml:1522(para)
msgid ""
"Replacing <emphasis role=\"italic\">secret</emphasis> with your LDAP admin "
"password."
msgstr ""

#: serverguide/C/network-auth.xml:1527(para)
msgid ""
"If you currently have users in LDAP, and you want them to authenticate using "
"Samba, they will need some Samba attributes defined in the "
"<filename>samba.schema</filename> file. Add the Samba attributes to existing "
"users using the <application>smbpasswd</application> utility, replacing "
"<emphasis role=\"italic\">username</emphasis> with an actual user:"
msgstr ""

#: serverguide/C/network-auth.xml:1535(command)
msgid "sudo smbpasswd -a username"
msgstr ""

#: serverguide/C/network-auth.xml:1538(para)
msgid "You will then be asked to enter the user's password."
msgstr ""

#: serverguide/C/network-auth.xml:1542(para)
msgid ""
"To add new user, group, and machine accounts use the utilities from the "
"<application>smbldap-tools</application> package. Here are some examples:"
msgstr ""

#: serverguide/C/network-auth.xml:1549(para)
msgid ""
"To add a new user to LDAP with Samba attributes enter the following, "
"replacing username with an actual username:"
msgstr ""

#: serverguide/C/network-auth.xml:1553(command)
msgid "sudo smbldap-useradd -a -P username"
msgstr ""

#: serverguide/C/network-auth.xml:1555(para)
msgid ""
"The <emphasis>-a</emphasis> option adds the Samba attributes, and the "
"<emphasis>-P</emphasis> options calls the <application>smbldap-"
"passwd</application> utility after the user is created allowing you to enter "
"a password for the user."
msgstr ""

#: serverguide/C/network-auth.xml:1561(para)
msgid "To remove a user from the directory enter:"
msgstr ""

#: serverguide/C/network-auth.xml:1565(command)
msgid "sudo smbldap-userdel username"
msgstr ""

#: serverguide/C/network-auth.xml:1567(para)
msgid ""
"The <application>smbldap-userdel</application> utility also has a <emphasis>-"
"r</emphasis> option to remove the user's home directory."
msgstr ""

#: serverguide/C/network-auth.xml:1572(para)
msgid ""
"Use <application>smbldap-groupadd</application> to add a group, replacing "
"groupname with an appropriate group:"
msgstr ""

#: serverguide/C/network-auth.xml:1576(command)
msgid "sudo smbldap-groupadd -a groupname"
msgstr ""

#: serverguide/C/network-auth.xml:1578(para)
msgid ""
"Similar to <application>smbldap-useradd</application>, the <emphasis>-"
"a</emphasis> adds the Samba attributes."
msgstr ""

#: serverguide/C/network-auth.xml:1583(para)
msgid ""
"To add a user to a group use <application>smbldap-groupmod</application>:"
msgstr ""

#: serverguide/C/network-auth.xml:1587(command)
msgid "sudo smbldap-groupmod -m username groupname"
msgstr ""

#: serverguide/C/network-auth.xml:1589(para)
msgid ""
"Be sure to replace <emphasis>username</emphasis> with a real user. Also, the "
"<emphasis>-m</emphasis> option can add more than one user at a time by "
"listing them in <emphasis>comma separated</emphasis> format."
msgstr ""

#: serverguide/C/network-auth.xml:1595(para)
msgid ""
"<application>smbldap-groupmod</application> can also be used to remove a "
"user from a group:"
msgstr ""

#: serverguide/C/network-auth.xml:1599(command)
msgid "sudo smbldap-groupmod -x username groupname"
msgstr ""

#: serverguide/C/network-auth.xml:1603(para)
msgid ""
"Additionally, the <application>smbldap-useradd</application> utility can add "
"Samba machine accounts:"
msgstr ""

#: serverguide/C/network-auth.xml:1607(command)
msgid "sudo smbldap-useradd -t 0 -w username"
msgstr ""

#: serverguide/C/network-auth.xml:1609(para)
msgid ""
"Replace <emphasis>username</emphasis> with the name of the workstation. The "
"<emphasis>-t 0</emphasis> option creates the machine account without a "
"delay, while the <emphasis>-w</emphasis> option specifies the user as a "
"machine account. Also, note the <emphasis>add machine script</emphasis> "
"option in <filename>/etc/samba/smb.conf</filename> was changed to use "
"<application>smbldap-useradd</application>."
msgstr ""

#: serverguide/C/network-auth.xml:1618(para)
msgid ""
"There are more useful utilities and options in the <application>smbldap-"
"tools</application> package. The man page for each utility provides more "
"details."
msgstr ""

#: serverguide/C/network-auth.xml:1629(para)
msgid ""
"There are multiple places where LDAP and Samba is documented in the <ulink "
"url=\"http://samba.org/samba/docs/man/Samba-HOWTO-Collection/\">Samba HOWTO "
"Collection</ulink>."
msgstr ""

#: serverguide/C/network-auth.xml:1635(para)
msgid ""
"Specifically see the <ulink url=\"http://samba.org/samba/docs/man/Samba-"
"HOWTO-Collection/passdb.html\">passdb section</ulink>."
msgstr ""

#: serverguide/C/network-auth.xml:1641(para)
msgid ""
"Another good site is <ulink url=\"http://www.iallanis.info/smbldap-"
"tools/docs/samba-ldap-howto/\">Samba OpenLDAP HOWTO</ulink>."
msgstr ""

#: serverguide/C/network-auth.xml:1647(para)
msgid ""
"Again, for more information on <application>smbldap-tools</application> see "
"the man pages: <command>man smbldap-useradd</command>, <command>man smbldap-"
"groupadd</command>, <command>man smbldap-populate</command>, etc."
msgstr ""

#: serverguide/C/network-auth.xml:1657(title)
msgid "Kerberos"
msgstr ""

#: serverguide/C/network-auth.xml:1659(para)
msgid ""
"<application>Kerberos</application> is a network authentication system based "
"on the principal of a trusted third party. The other two parties being the "
"user and the service the user wishes to authenticate to. Not all services "
"and applications can use Kerberos, but for those that can, it brings the "
"network environment one step closer to being Single Sign On (SSO)."
msgstr ""

#: serverguide/C/network-auth.xml:1665(para)
msgid ""
"This section covers installation and configuration of a Kerberos server, and "
"some example client configurations."
msgstr ""

#: serverguide/C/network-auth.xml:1672(para)
msgid ""
"If you are new to Kerberos there are a few terms that are good to understand "
"before setting up a Kerberos server. Most of the terms will relate to things "
"you may be familiar with in other environments:"
msgstr ""

#: serverguide/C/network-auth.xml:1679(para)
msgid ""
"<emphasis>Principal:</emphasis> any users, computers, and services provided "
"by servers need to be defined as Kerberos Principals."
msgstr ""

#: serverguide/C/network-auth.xml:1684(para)
msgid ""
"<emphasis>Instances:</emphasis> are used for service principals and special "
"administrative principals."
msgstr ""

#: serverguide/C/network-auth.xml:1689(para)
msgid ""
"<emphasis>Realms:</emphasis> the unique realm of control provided by the "
"Kerberos installation. Usually the DNS domain converted to uppercase "
"(EXAMPLE.COM)."
msgstr ""

#: serverguide/C/network-auth.xml:1695(para)
msgid ""
"<emphasis>Key Distribution Center:</emphasis> (KDC) consist of three parts, "
"a database of all principals, the authentication server, and the ticket "
"granting server. For each realm there must be at least one KDC."
msgstr ""

#: serverguide/C/network-auth.xml:1701(para)
msgid ""
"<emphasis>Ticket Granting Ticket:</emphasis> issued by the Authentication "
"Server (AS), the Ticket Granting Ticket (TGT) is encrypted in the user's "
"password which is known only to the user and the KDC."
msgstr ""

#: serverguide/C/network-auth.xml:1707(para)
msgid ""
"<emphasis>Ticket Granting Server:</emphasis> (TGS) issues service tickets to "
"clients upon request."
msgstr ""

#: serverguide/C/network-auth.xml:1712(para)
msgid ""
"<emphasis>Tickets:</emphasis> confirm the identity of the two principals. "
"One principal being a user and the other a service requested by the user. "
"Tickets establish an encryption key used for secure communication during the "
"authenticated session."
msgstr ""

#: serverguide/C/network-auth.xml:1718(para)
msgid ""
"<emphasis>Keytab Files:</emphasis> are files extracted from the KDC "
"principal database and contain the encryption key for a service or host."
msgstr ""

#: serverguide/C/network-auth.xml:1725(para)
msgid ""
"To put the pieces together, a Realm has at least one KDC, preferably two for "
"redundancy, which contains a database of Principals. When a user principal "
"logs into a workstation, configured for Kerberos authentication, the KDC "
"issues a Ticket Granting Ticket (TGT). If the user supplied credentials "
"match, the user is authenticated and can then request tickets for Kerberized "
"services from the Ticket Granting Server (TGS). The service tickets allow "
"the user to authenticate to the service without entering another username "
"and password."
msgstr ""

#: serverguide/C/network-auth.xml:1734(title)
msgid "Kerberos Server"
msgstr ""

#: serverguide/C/network-auth.xml:1738(para)
msgid ""
"Before installing the Kerberos server a properly configured DNS server is "
"needed for your domain. Since the Kerberos Realm by convention matches the "
"domain name, this section uses the <emphasis>example.com</emphasis> domain "
"configured in <xref linkend=\"dns-primarymaster-configuration\"/>."
msgstr ""

#: serverguide/C/network-auth.xml:1744(para)
msgid ""
"Also, Kerberos is a time sensitive protocol. So if the local system time "
"between a client machine and the server differs by more than five minutes "
"(by default), the workstation will not be able to authenticate. To correct "
"the problem all hosts should have their time synchronized using the "
"<emphasis>Network Time Protocol (NTP)</emphasis>. For details on setting up "
"NTP see <xref linkend=\"NTP\"/>."
msgstr ""

#: serverguide/C/network-auth.xml:1751(para)
msgid ""
"The first step in installing a Kerberos Realm is to install the "
"<application>krb5-kdc</application> and <application>krb5-admin-"
"server</application> packages. From a terminal enter:"
msgstr ""

#: serverguide/C/network-auth.xml:1757(command) serverguide/C/network-auth.xml:1932(command)
msgid "sudo apt-get install krb5-kdc krb5-admin-server"
msgstr ""

#: serverguide/C/network-auth.xml:1760(para)
msgid ""
"You will be asked at the end of the install to supply a name for the "
"Kerberos and Admin servers, which may or may not be the same server, for the "
"realm."
msgstr ""

#: serverguide/C/network-auth.xml:1765(para)
msgid ""
"Next, create the new realm with the <application>kdb5_newrealm</application> "
"utility:"
msgstr ""

#: serverguide/C/network-auth.xml:1770(command)
msgid "sudo krb5_newrealm"
msgstr ""

#: serverguide/C/network-auth.xml:1777(para)
msgid ""
"The questions asked during installation are used to configure the "
"<filename>/etc/krb5.conf</filename> file. If you need to adjust the Key "
"Distribution Center (KDC) settings simply edit the file and restart the "
"<application>krb5-kdc</application> daemon."
msgstr ""

#: serverguide/C/network-auth.xml:1785(para)
msgid ""
"Now that the KDC running an admin user is needed. It is recommended to use a "
"different username from your everyday username. Using the "
"<application>kadmin.local</application> utility in a terminal prompt enter:"
msgstr ""

#: serverguide/C/network-auth.xml:1791(command) serverguide/C/network-auth.xml:2583(command)
msgid "sudo kadmin.local"
msgstr ""

#: serverguide/C/network-auth.xml:1792(computeroutput)
#, no-wrap
msgid ""
"Authenticating as principal root/admin@EXAMPLE.COM with password.\n"
"kadmin.local:"
msgstr ""

#: serverguide/C/network-auth.xml:1793(userinput)
#, no-wrap
msgid " addprinc steve/admin"
msgstr ""

#: serverguide/C/network-auth.xml:1794(computeroutput)
#, no-wrap
msgid ""
"WARNING: no policy specified for steve/admin@EXAMPLE.COM; defaulting to no "
"policy\n"
"Enter password for principal \"steve/admin@EXAMPLE.COM\": \n"
"Re-enter password for principal \"steve/admin@EXAMPLE.COM\": \n"
"Principal \"steve/admin@EXAMPLE.COM\" created.\n"
"kadmin.local:"
msgstr ""

#: serverguide/C/network-auth.xml:1798(userinput)
#, no-wrap
msgid " quit"
msgstr ""

#: serverguide/C/network-auth.xml:1801(para)
msgid ""
"In the the above example <emphasis role=\"italic\">steve</emphasis> is the "
"<emphasis>Principal</emphasis>, <emphasis role=\"italic\">/admin</emphasis> "
"is an <emphasis>Instance</emphasis>, and <emphasis "
"role=\"italic\">@EXAMPLE.COM</emphasis> signifies the realm. The <emphasis "
"role=\"italic\">\"every day\"</emphasis> Principal would be "
"<emphasis>steve@EXAMPLE.COM</emphasis>, and should have only normal user "
"rights."
msgstr ""

#: serverguide/C/network-auth.xml:1809(para)
msgid ""
"Replace <emphasis>EXAMPLE.COM</emphasis> and <emphasis>steve</emphasis> with "
"your Realm and admin username."
msgstr ""

#: serverguide/C/network-auth.xml:1817(para)
msgid ""
"Next, the new admin user needs to have the appropriate Access Control List "
"(ACL) permissions. The permissions are configured in the "
"<filename>/etc/krb5kdc/kadm5.acl</filename> file:"
msgstr ""

#: serverguide/C/network-auth.xml:1822(programlisting)
#, no-wrap
msgid ""
"\n"
"steve/admin@EXAMPLE.COM        *\n"
msgstr ""

#: serverguide/C/network-auth.xml:1826(para)
msgid ""
"This entry grants <emphasis>steve/admin</emphasis> the ability to perform "
"any operation on all principals in the realm."
msgstr ""

#: serverguide/C/network-auth.xml:1833(para)
msgid ""
"Now restart the <application>krb5-admin-server</application> for the new ACL "
"to take affect:"
msgstr ""

#: serverguide/C/network-auth.xml:1838(command)
msgid "sudo /etc/init.d/krb5-admin-server restart"
msgstr ""

#: serverguide/C/network-auth.xml:1844(para)
msgid ""
"The new user principal can be tested using the <application>kinit "
"utility</application>:"
msgstr ""

#: serverguide/C/network-auth.xml:1849(command)
msgid "kinit steve/admin"
msgstr ""

#: serverguide/C/network-auth.xml:1850(computeroutput)
#, no-wrap
msgid "steve/admin@EXAMPLE.COM's Password:"
msgstr ""

#: serverguide/C/network-auth.xml:1853(para)
msgid ""
"After entering the password, use the <application>klist</application> "
"utility to view information about the Ticket Granting Ticket (TGT):"
msgstr ""

#: serverguide/C/network-auth.xml:1859(command) serverguide/C/network-auth.xml:2194(command)
msgid "klist"
msgstr ""

#: serverguide/C/network-auth.xml:1860(computeroutput)
#, no-wrap
msgid ""
"Credentials cache: FILE:/tmp/krb5cc_1000\n"
"        Principal: steve/admin@EXAMPLE.COM\n"
"\n"
"  Issued           Expires          Principal\n"
"Jul 13 17:53:34  Jul 14 03:53:34  krbtgt/EXAMPLE.COM@EXAMPLE.COM"
msgstr ""

#: serverguide/C/network-auth.xml:1867(para)
msgid ""
"You may need to add an entry into the <filename>/etc/hosts</filename> for "
"the KDC. For example:"
msgstr ""

#: serverguide/C/network-auth.xml:1871(programlisting)
#, no-wrap
msgid ""
"\n"
"192.168.0.1   kdc01.example.com       kdc01\n"
msgstr ""

#: serverguide/C/network-auth.xml:1875(para)
msgid ""
"Replacing <emphasis>192.168.0.1</emphasis> with the IP address of your KDC."
msgstr ""

#: serverguide/C/network-auth.xml:1882(para)
msgid ""
"In order for clients to determine the KDC for the Realm some DNS SRV records "
"are needed. Add the following to "
"<filename>/etc/named/db.example.com</filename>:"
msgstr ""

#: serverguide/C/network-auth.xml:1887(programlisting)
#, no-wrap
msgid ""
"\n"
"_kerberos._udp.EXAMPLE.COM.     IN SRV 1  0 88  kdc01.example.com.\n"
"_kerberos._tcp.EXAMPLE.COM.     IN SRV 1  0 88  kdc01.example.com.\n"
"_kerberos._udp.EXAMPLE.COM.     IN SRV 10 0 88  kdc02.example.com. \n"
"_kerberos._tcp.EXAMPLE.COM.     IN SRV 10 0 88  kdc02.example.com. \n"
"_kerberos-adm._tcp.EXAMPLE.COM. IN SRV 1  0 749 kdc01.example.com.\n"
"_kpasswd._udp.EXAMPLE.COM.      IN SRV 1  0 464 kdc01.example.com.\n"
msgstr ""

#: serverguide/C/network-auth.xml:1897(para)
msgid ""
"Replace <emphasis>EXAMPLE.COM</emphasis>, <emphasis>kdc01</emphasis>, and "
"<emphasis>kdc02</emphasis> with your domain name, primary KDC, and secondary "
"KDC."
msgstr ""

#: serverguide/C/network-auth.xml:1903(para)
msgid ""
"See <xref linkend=\"dns\"/> for detailed instructions on setting up DNS."
msgstr ""

#: serverguide/C/network-auth.xml:1910(para)
msgid "Your new Kerberos Realm is now ready to authenticate clients."
msgstr ""

#: serverguide/C/network-auth.xml:1917(title)
msgid "Secondary KDC"
msgstr ""

#: serverguide/C/network-auth.xml:1919(para)
msgid ""
"Once you have one Key Distribution Center (KDC) on your network, it is good "
"practice to have a Secondary KDC in case the primary becomes unavailable."
msgstr ""

#: serverguide/C/network-auth.xml:1927(para)
msgid ""
"First, install the packages, and when asked for the Kerberos and Admin "
"server names enter the name of the Primary KDC:"
msgstr ""

#: serverguide/C/network-auth.xml:1938(para)
msgid ""
"Once you have the packages installed, create the Secondary KDC's host "
"principal. From a terminal prompt, enter:"
msgstr ""

#: serverguide/C/network-auth.xml:1943(command)
msgid "kadmin -q \"addprinc -randkey host/kdc02.example.com\""
msgstr ""

#: serverguide/C/network-auth.xml:1947(para)
msgid ""
"After, issuing any <application>kadmin</application> commands you will be "
"prompted for your <emphasis>username/admin@EXAMPLE.COM</emphasis> principal "
"password."
msgstr ""

#: serverguide/C/network-auth.xml:1956(para)
msgid "Extract the <emphasis>keytab</emphasis> file:"
msgstr ""

#: serverguide/C/network-auth.xml:1961(command)
msgid "kadmin -q \"ktadd -k keytab.kdc02 host/kdc02.example.com\""
msgstr ""

#: serverguide/C/network-auth.xml:1967(para)
msgid ""
"There should now be a <filename>keytab.kdc02</filename> in the current "
"directory, move the file to <filename>/etc/krb5.keytab</filename>:"
msgstr ""

#: serverguide/C/network-auth.xml:1973(command)
msgid "sudo mv keytab.kdc02 /etc/krb5.keytab"
msgstr ""

#: serverguide/C/network-auth.xml:1977(para)
msgid ""
"If the path to the <filename>keytab.kdc02</filename> file is different "
"adjust accordingly."
msgstr ""

#: serverguide/C/network-auth.xml:1982(para)
msgid ""
"Also, you can list the principals in a Keytab file, which can be useful when "
"troubleshooting, using the <application>klist</application> utility:"
msgstr ""

#: serverguide/C/network-auth.xml:1988(command)
msgid "sudo klist -k /etc/krb5.keytab"
msgstr ""

#: serverguide/C/network-auth.xml:1994(para)
msgid ""
"Next, there needs to be a <filename>kpropd.acl</filename> file on each KDC "
"that lists all KDCs for the Realm. For example, on both primary and "
"secondary KDC, create <filename>/etc/krb5kdc/kpropd.acl</filename>:"
msgstr ""

#: serverguide/C/network-auth.xml:1999(programlisting)
#, no-wrap
msgid ""
"\n"
"host/kdc01.example.com@EXAMPLE.COM\n"
"host/kdc02.example.com@EXAMPLE.COM\n"
msgstr ""

#: serverguide/C/network-auth.xml:2007(para)
msgid "Create an empty database on the <emphasis>Secondary KDC</emphasis>:"
msgstr ""

#: serverguide/C/network-auth.xml:2012(command)
msgid "sudo kdb5_util -s create"
msgstr ""

#: serverguide/C/network-auth.xml:2018(para)
msgid ""
"Now start the <application>kpropd</application> daemon, which listens for "
"connections from the <application>kprop</application> utility. "
"<application>kprop</application> is used to transfer dump files:"
msgstr ""

#: serverguide/C/network-auth.xml:2025(command)
msgid "sudo kpropd -S"
msgstr ""

#: serverguide/C/network-auth.xml:2031(para)
msgid ""
"From a terminal on the <emphasis>Primary KDC</emphasis>, create a dump file "
"of the principal database:"
msgstr ""

#: serverguide/C/network-auth.xml:2036(command)
msgid "sudo kdb5_util dump /var/lib/krb5kdc/dump"
msgstr ""

#: serverguide/C/network-auth.xml:2042(para)
msgid ""
"Extract the Primary KDC's <emphasis>keytab</emphasis> file and copy it to "
"<filename>/etc/krb5.keytab</filename>:"
msgstr ""

#: serverguide/C/network-auth.xml:2047(command)
msgid "kadmin -q \"ktadd -k keytab.kdc01 host/kdc01.example.com\""
msgstr ""

#: serverguide/C/network-auth.xml:2048(command)
msgid "sudo mv keytab.kdc01 /etc/kr5b.keytab"
msgstr ""

#: serverguide/C/network-auth.xml:2052(para)
msgid ""
"Make sure there is a <emphasis>host</emphasis> for "
"<emphasis>kdc01.example.com</emphasis> before extracting the Keytab."
msgstr ""

#: serverguide/C/network-auth.xml:2060(para)
msgid ""
"Using the <application>kprop</application> utility push the database to the "
"Secondary KDC:"
msgstr ""

#: serverguide/C/network-auth.xml:2065(command)
msgid "sudo kprop -r EXAMPLE.COM -f /var/lib/krb5kdc/dump kdc02.example.com"
msgstr ""

#: serverguide/C/network-auth.xml:2069(para)
msgid ""
"There should be a <emphasis>SUCCEEDED</emphasis> message if the propagation "
"worked. If there is an error message check "
"<filename>/var/log/syslog</filename> on the secondary KDC for more "
"information."
msgstr ""

#: serverguide/C/network-auth.xml:2075(para)
msgid ""
"You may also want to create a <application>cron</application> job to "
"periodically update the database on the Secondary KDC. For example, the "
"following will push the database every hour:"
msgstr ""

#: serverguide/C/network-auth.xml:2080(programlisting)
#, no-wrap
msgid ""
"\n"
"# m h  dom mon dow   command\n"
"0 * * * * /usr/sbin/kdb5_util dump /var/lib/krb5kdc/dump &amp;&amp; "
"/usr/sbin/kprop -r EXAMPLE.COM -f /var/lib/krb5kdc/dump kdc02.example.com\n"
msgstr ""

#: serverguide/C/network-auth.xml:2088(para)
msgid ""
"Back on the <emphasis>Secondary KDC</emphasis>, create a "
"<emphasis>stash</emphasis> file to hold the Kerberos master key:"
msgstr ""

#: serverguide/C/network-auth.xml:2094(command)
msgid "sudo kdb5_util stash"
msgstr ""

#: serverguide/C/network-auth.xml:2100(para)
msgid ""
"Finally, start the <application>krb5-kdc</application> daemon on the "
"Secondary KDC:"
msgstr ""

#: serverguide/C/network-auth.xml:2105(command) serverguide/C/network-auth.xml:2713(command)
msgid "sudo /etc/init.d/krb5-kdc start"
msgstr ""

#: serverguide/C/network-auth.xml:2111(para)
msgid ""
"The <emphasis>Secondary KDC</emphasis> should now be able to issue tickets "
"for the Realm. You can test this by stopping the <application>krb5-"
"kdc</application> daemon on the Primary KDC, then use "
"<application>kinit</application> to request a ticket. If all goes well you "
"should receive a ticket from the Secondary KDC."
msgstr ""

#: serverguide/C/network-auth.xml:2119(title)
msgid "Kerberos Linux Client"
msgstr ""

#: serverguide/C/network-auth.xml:2121(para)
msgid ""
"This section covers configuring a Linux system as a "
"<application>Kerberos</application> client. This will allow access to any "
"kerberized services once a user has successfully logged into the system."
msgstr ""

#: serverguide/C/network-auth.xml:2129(para)
msgid ""
"In order to authenticate to a Kerberos Realm, the <application>krb5-"
"user</application> and <application>libpam-krb5</application> packages are "
"needed, along with a few others that are not strictly necessary but make "
"life easier. To install the packages enter the following in a terminal "
"prompt:"
msgstr ""

#: serverguide/C/network-auth.xml:2136(command)
msgid ""
"sudo apt-get install krb5-user libpam-krb5 libpam-ccreds auth-client-config"
msgstr ""

#: serverguide/C/network-auth.xml:2139(para)
msgid ""
"The <application>auth-client-config</application> package allows simple "
"configuration of PAM for authentication from multiple sources, and the "
"<application>libpam-ccreds</application> will cache authentication "
"credentials allowing you to login in case the Key Distribution Center (KDC) "
"is unavailable. This package is also useful for laptops that may "
"authenticate using Kerberos while on the corporate network, but will need to "
"be accessed off the network as well."
msgstr ""

#: serverguide/C/network-auth.xml:2150(para)
msgid "To configure the client in a terminal enter:"
msgstr ""

#: serverguide/C/network-auth.xml:2155(command)
msgid "sudo dpkg-reconfigure krb5-config"
msgstr ""

#: serverguide/C/network-auth.xml:2158(para)
msgid ""
"You will then be prompted to enter the name of the Kerberos Realm. Also, if "
"you don't have DNS configured with Kerberos <emphasis>SRV</emphasis> "
"records, the menu will prompt you for the hostname of the Key Distribution "
"Center (KDC) and Realm Administration server."
msgstr ""

#: serverguide/C/network-auth.xml:2164(para)
msgid ""
"The <application>dpkg-reconfigure</application> adds entries to the "
"<filename>/etc/krb5.conf</filename> file for your Realm. You should have "
"entries similar to the following:"
msgstr ""

#: serverguide/C/network-auth.xml:2169(programlisting)
#, no-wrap
msgid ""
"\n"
"[libdefaults]\n"
"        default_realm = EXAMPLE.COM\n"
"...\n"
"[realms]\n"
"        EXAMPLE.COM = }                \n"
"                kdc = 192.168.0.1               \n"
"                admin_server = 192.168.0.1\n"
"        }\n"
msgstr ""

#: serverguide/C/network-auth.xml:2180(para)
msgid ""
"You can test the configuration by requesting a ticket using the "
"<application>kinit</application> utility. For example:"
msgstr ""

#: serverguide/C/network-auth.xml:2185(command)
msgid "kinit steve@EXAMPLE.COM"
msgstr ""

#: serverguide/C/network-auth.xml:2186(computeroutput)
#, no-wrap
msgid "Password for steve@EXAMPLE.COM:"
msgstr ""

#: serverguide/C/network-auth.xml:2189(para)
msgid ""
"When a ticket has been granted, the details can be viewed using "
"<application>klist</application>:"
msgstr ""

#: serverguide/C/network-auth.xml:2195(computeroutput)
#, no-wrap
msgid ""
"Ticket cache: FILE:/tmp/krb5cc_1000\n"
"Default principal: steve@EXAMPLE.COM\n"
"\n"
"Valid starting     Expires            Service principal\n"
"07/24/08 05:18:56  07/24/08 15:18:56  krbtgt/EXAMPLE.COM@EXAMPLE.COM\n"
"        renew until 07/25/08 05:18:57\n"
"\n"
"\n"
"Kerberos 4 ticket cache: /tmp/tkt1000\n"
"klist: You have no tickets cached"
msgstr ""

#: serverguide/C/network-auth.xml:2207(para)
msgid ""
"Next, use the <application>auth-client-config</application> to configure the "
"<application>libpam-krb5</application> module to request a ticket during "
"login:"
msgstr ""

#: serverguide/C/network-auth.xml:2213(command)
msgid "sudo auth-client-config -a -p kerberos_example"
msgstr ""

#: serverguide/C/network-auth.xml:2216(para)
msgid ""
"You will should now receive a ticket upon successful login authentication."
msgstr ""

#: serverguide/C/network-auth.xml:2227(para)
msgid ""
"For more information on Kerberos see the <ulink "
"url=\"http://web.mit.edu/Kerberos/\">MIT Kerberos</ulink> site."
msgstr ""

#: serverguide/C/network-auth.xml:2232(para)
msgid ""
"O'Reilly's <ulink "
"url=\"http://oreilly.com/catalog/9780596004033/\">Kerberos: The Definitive "
"Guide</ulink> is a great reference when setting up Kerberos."
msgstr ""

#: serverguide/C/network-auth.xml:2238(para)
msgid ""
"Also, feel free to stop by the <emphasis>#ubuntu-server</emphasis> IRC "
"channel on <ulink url=\"http://freenode.net/\">Freenode</ulink> if you have "
"Kerberos questions."
msgstr ""

#: serverguide/C/network-auth.xml:2248(title)
msgid "Kerberos and LDAP"
msgstr ""

#: serverguide/C/network-auth.xml:2250(para)
msgid ""
"Replicating a Kerberos principal database between two servers can be "
"complicated, and adds an additional user database to your network. "
"Fortunately, MIT Kerberos can be configured to use an "
"<application>LDAP</application> directory as a principal database. This "
"section covers configuring a primary and secondary kerberos server to use "
"<application>OpenLDAP</application> for the principal database."
msgstr ""

#: serverguide/C/network-auth.xml:2258(title)
msgid "Configuring OpenLDAP"
msgstr ""

#: serverguide/C/network-auth.xml:2260(para)
msgid ""
"First, the necessary <emphasis>schema</emphasis> needs to be loaded on an "
"<application>OpenLDAP</application> server that has network connectivity to "
"the Primary and Secondary KDCs. The rest of this section assumes that you "
"also have LDAP replication configured between at least two servers. For "
"information on setting up OpenLDAP see <xref linkend=\"openldap-server\"/>."
msgstr ""

#: serverguide/C/network-auth.xml:2267(para)
msgid ""
"It is also required to configure OpenLDAP for TLS and SSL connections, so "
"that traffic between the KDC and LDAP server is encrypted. See <xref "
"linkend=\"openldap-tls\"/> for details."
msgstr ""

#: serverguide/C/network-auth.xml:2274(para)
msgid ""
"To load the schema into LDAP, on the LDAP server install the "
"<application>krb5-kdc-ldap</application> package. From a terminal enter:"
msgstr ""

#: serverguide/C/network-auth.xml:2280(command)
msgid "sudo apt-get install krb5-kdc-ldap"
msgstr ""

#: serverguide/C/network-auth.xml:2285(para)
msgid "Next, extract the <filename>kerberos.schema.gz</filename> file:"
msgstr ""

#: serverguide/C/network-auth.xml:2290(command)
msgid "sudo gzip -d /usr/share/doc/krb5-kdc-ldap/kerberos.schema.gz"
msgstr ""

#: serverguide/C/network-auth.xml:2291(command)
msgid ""
"sudo cp /usr/share/doc/krb5-kdc-ldap/kerberos.schema /etc/ldap/schema/"
msgstr ""

#: serverguide/C/network-auth.xml:2297(para)
msgid ""
"The <emphasis>kerberos</emphasis> schema needs to be added to the "
"<emphasis>cn=config</emphasis> tree. The procedure to add a new schema to "
"<application>slapd</application> is also detailed in <xref "
"linkend=\"openldap-configuration\"/>."
msgstr ""

#: serverguide/C/network-auth.xml:2310(programlisting)
#, no-wrap
msgid ""
"\n"
"include /etc/ldap/schema/core.schema\n"
"include /etc/ldap/schema/collective.schema\n"
"include /etc/ldap/schema/corba.schema\n"
"include /etc/ldap/schema/cosine.schema\n"
"include /etc/ldap/schema/duaconf.schema\n"
"include /etc/ldap/schema/dyngroup.schema\n"
"include /etc/ldap/schema/inetorgperson.schema\n"
"include /etc/ldap/schema/java.schema\n"
"include /etc/ldap/schema/misc.schema\n"
"include /etc/ldap/schema/nis.schema\n"
"include /etc/ldap/schema/openldap.schema\n"
"include /etc/ldap/schema/ppolicy.schema\n"
"include /etc/ldap/schema/kerberos.schema\n"
msgstr ""

#: serverguide/C/network-auth.xml:2330(para)
msgid "Create a temporary directory to hold the LDIF files:"
msgstr ""

#: serverguide/C/network-auth.xml:2355(para)
msgid ""
"Edit the generated "
"<filename>/tmp/ldif_output/cn=config/cn=schema/cn={12}kerberos.ldif</filename"
"> file, changing the following attributes:"
msgstr ""

#: serverguide/C/network-auth.xml:2360(programlisting)
#, no-wrap
msgid ""
"\n"
"dn: cn=kerberos,cn=schema,cn=config\n"
"...\n"
"cn: kerberos\n"
msgstr ""

#: serverguide/C/network-auth.xml:2366(para)
msgid "And remove the following lines from the end of the file:"
msgstr ""

#: serverguide/C/network-auth.xml:2370(programlisting)
#, no-wrap
msgid ""
"\n"
"structuralObjectClass: olcSchemaConfig\n"
"entryUUID: 18ccd010-746b-102d-9fbe-3760cca765dc\n"
"creatorsName: cn=config\n"
"createTimestamp: 20090111203515Z\n"
"entryCSN: 20090111203515.326445Z#000000#000#000000\n"
"modifiersName: cn=config\n"
"modifyTimestamp: 20090111203515Z\n"
msgstr ""

#: serverguide/C/network-auth.xml:2389(para)
msgid "Load the new schema with <application>ldapadd</application>:"
msgstr ""

#: serverguide/C/network-auth.xml:2394(command)
msgid ""
"ldapadd -x -D cn=admin,cn=config -W -f /tmp/ldif_output/cn\\=config/cn\\"
"=schema/cn\\=\\{12\\}kerberos.ldif"
msgstr ""

#: serverguide/C/network-auth.xml:2400(para)
msgid ""
"Add an index for the <emphasis>krb5principalname</emphasis> attribute:"
msgstr ""

#: serverguide/C/network-auth.xml:2407(userinput)
#, no-wrap
msgid ""
"dn: olcDatabase={1}hdb,cn=config\n"
"add: olcDbIndex\n"
"olcDbIndex: krbPrincipalName eq,pres,sub"
msgstr ""

#: serverguide/C/network-auth.xml:2417(para)
msgid "Finally, update the Access Control Lists (ACL):"
msgstr ""

#: serverguide/C/network-auth.xml:2424(userinput)
#, no-wrap
msgid ""
"dn: olcDatabase={1}hdb,cn=config\n"
"replace: olcAccess\n"
"olcAccess: to attrs=userPassword,shadowLastChange,krbPrincipalKey by "
"dn=\"cn=admin,dc=exampl\n"
" e,dc=com\" write by anonymous auth by self write by * none\n"
"-\n"
"add: olcAccess\n"
"olcAccess: to dn.base=\"\" by * read\n"
"-\n"
"add: olcAccess\n"
"olcAccess: to * by dn=\"cn=admin,dc=example,dc=com\" write by * read"
msgstr ""

#: serverguide/C/network-auth.xml:2423(computeroutput)
#, no-wrap
msgid ""
"Enter LDAP Password: \n"
"<placeholder-1/>\n"
"\n"
"modifying entry \"olcDatabase={1}hdb,cn=config\"\n"
msgstr ""

#: serverguide/C/network-auth.xml:2444(para)
msgid ""
"That's it, your LDAP directory is now ready to serve as a Kerberos principal "
"database."
msgstr ""

#: serverguide/C/network-auth.xml:2450(title)
msgid "Primary KDC Configuration"
msgstr ""

#: serverguide/C/network-auth.xml:2452(para)
msgid ""
"With <application>OpenLDAP</application> configured it is time to configure "
"the KDC."
msgstr ""

#: serverguide/C/network-auth.xml:2458(para)
msgid "First, install the necessary packages, from a terminal enter:"
msgstr ""

#: serverguide/C/network-auth.xml:2463(command) serverguide/C/network-auth.xml:2620(command)
msgid "sudo apt-get install krb5-kdc krb5-admin-server krb5-kdc-ldap"
msgstr ""

#: serverguide/C/network-auth.xml:2469(para)
msgid ""
"Now edit <filename>/etc/krb5.conf</filename> adding the following options to "
"under the appropriate sections:"
msgstr ""

#: serverguide/C/network-auth.xml:2473(programlisting)
#, no-wrap
msgid ""
"\n"
"[libdefaults]\n"
"        default_realm = EXAMPLE.COM\n"
"\n"
"...\n"
"\n"
"[realms]\n"
"        EXAMPLE.COM = {\n"
"                kdc = kdc01.example.com\n"
"                kdc = kdc02.example.com\n"
"                admin_server = kdc01.example.com\n"
"                admin_server = kdc02.example.com\n"
"                default_domain = example.com\n"
"                database_module = openldap_ldapconf\n"
"        }\n"
"\n"
"...\n"
"\n"
"[domain_realm]\n"
"        .example.com = EXAMPLE.COM\n"
"\n"
"\n"
"...\n"
"\n"
"[dbdefaults]\n"
"        ldap_kerberos_container_dn = dc=example,dc=com\n"
"\n"
"[dbmodules]\n"
"        openldap_ldapconf = {\n"
"                db_library = kldap\n"
"                ldap_kdc_dn = \"cn=admin,dc=example,dc=com\"\n"
"\n"
"                # this object needs to have read rights on\n"
"                # the realm container, principal container and realm sub-"
"trees\n"
"                ldap_kadmind_dn = \"cn=admin,dc=example,dc=com\"\n"
"\n"
"                # this object needs to have read and write rights on\n"
"                # the realm container, principal container and realm sub-"
"trees\n"
"                ldap_service_password_file = /etc/krb5kdc/service.keyfile\n"
"                ldap_servers = ldaps://ldap01.example.com "
"ldaps://ldap02.example.com\n"
"                ldap_conns_per_server = 5\n"
"        }\n"
msgstr ""

#: serverguide/C/network-auth.xml:2518(para)
msgid ""
"Change <emphasis>example.com</emphasis>, "
"<emphasis>dc=example,dc=com</emphasis>, "
"<emphasis>cn=admin,dc=example,dc=com</emphasis>, and "
"<emphasis>ldap01.example.com</emphasis> to the appropriate domain, LDAP "
"object, and LDAP server for your network."
msgstr ""

#: serverguide/C/network-auth.xml:2527(para)
msgid ""
"Next, use the <application>kdb5_ldap_util</application> utility to create "
"the realm:"
msgstr ""

#: serverguide/C/network-auth.xml:2532(command)
msgid ""
"sudo kdb5_ldap_util -D cn=admin,dc=example,dc=com create -subtrees "
"dc=example,dc=com -r EXAMPLE.COM -s -H ldap://ldap01.example.com"
msgstr ""

#: serverguide/C/network-auth.xml:2538(para)
msgid ""
"Create a stash of the password used to bind to the LDAP server. This "
"password is used by the <emphasis>ldap_kdc_dn</emphasis> and "
"<emphasis>ldap_kadmin_dn</emphasis> options in "
"<filename>/etc/krb5.conf</filename>:"
msgstr ""

#: serverguide/C/network-auth.xml:2544(command) serverguide/C/network-auth.xml:2682(command)
msgid ""
"sudo kdb5_ldap_util -D cn=admin,dc=example,dc=com stashsrvpw -f "
"/etc/krb5kdc/service.keyfile cn=admin,dc=example,dc=com"
msgstr ""

#: serverguide/C/network-auth.xml:2550(para)
msgid "Copy the CA certificate from the LDAP server:"
msgstr ""

#: serverguide/C/network-auth.xml:2555(command)
msgid "scp ldap01:/etc/ssl/certs/cacert.pem ."
msgstr ""

#: serverguide/C/network-auth.xml:2556(command)
msgid "sudo cp cacert.pem /etc/ssl/certs"
msgstr ""

#: serverguide/C/network-auth.xml:2559(para)
msgid ""
"And edit <filename>/etc/ldap/ldap.conf</filename> to use the certificate:"
msgstr ""

#: serverguide/C/network-auth.xml:2563(programlisting)
#, no-wrap
msgid ""
"\n"
"TLS_CACERT /etc/ssl/certs/cacert.pem\n"
msgstr ""

#: serverguide/C/network-auth.xml:2568(para)
msgid ""
"The certificate will also need to be copied to the Secondary KDC, to allow "
"the connection to the LDAP servers using LDAPS."
msgstr ""

#: serverguide/C/network-auth.xml:2577(para)
msgid ""
"You can now add Kerberos principals to the LDAP database, and they will be "
"copied to any other LDAP servers configured for replication. To add a "
"principal using the <application>kadmin.local</application> utility enter:"
msgstr ""

#: serverguide/C/network-auth.xml:2585(userinput)
#, no-wrap
msgid "addprinc -x dn=\"uid=steve,ou=people,dc=example,dc=com\" steve"
msgstr ""

#: serverguide/C/network-auth.xml:2584(computeroutput)
#, no-wrap
msgid ""
"Authenticating as principal root/admin@EXAMPLE.COM with password.\n"
"kadmin.local:  <placeholder-1/>\n"
"WARNING: no policy specified for steve@EXAMPLE.COM; defaulting to no policy\n"
"Enter password for principal \"steve@EXAMPLE.COM\": \n"
"Re-enter password for principal \"steve@EXAMPLE.COM\": \n"
"Principal \"steve@EXAMPLE.COM\" created."
msgstr ""

#: serverguide/C/network-auth.xml:2592(para)
msgid ""
"There should now be krbPrincipalName, krbPrincipalKey, krbLastPwdChange, and "
"krbExtraData attributes added to the "
"<emphasis>uid=steve,ou=people,dc=example,dc=com</emphasis> user object. Use "
"the <application>kinit</application> and <application>klist</application> "
"utilities to test that the user is indeed issued a ticket."
msgstr ""

#: serverguide/C/network-auth.xml:2599(para)
msgid ""
"If the user object is already created the <emphasis>-x dn=\"...\"</emphasis> "
"option is needed to add the Kerberos attributes. Otherwise a new "
"<emphasis>principal</emphasis> object will be created in the realm subtree."
msgstr ""

#: serverguide/C/network-auth.xml:2607(title)
msgid "Secondary KDC Configuration"
msgstr ""

#: serverguide/C/network-auth.xml:2609(para)
msgid ""
"Configuring a Secondary KDC using the LDAP backend is similar to configuring "
"one using the normal Kerberos database."
msgstr ""

#: serverguide/C/network-auth.xml:2615(para)
msgid "First, install the necessary packages. In a terminal enter:"
msgstr ""

#: serverguide/C/network-auth.xml:2626(para)
msgid ""
"Next, edit <filename>/etc/krb5.conf</filename> to use the LDAP backend:"
msgstr ""

#: serverguide/C/network-auth.xml:2630(programlisting)
#, no-wrap
msgid ""
"\n"
"[libdefaults]\n"
"        default_realm = EXAMPLE.COM\n"
"\n"
"...\n"
"\n"
"[realms]\n"
"        EXAMPLE.COM = {\n"
"                kdc = kdc01.example.com\n"
"                kdc = kdc02.example.com\n"
"                admin_server = kdc01.example.com\n"
"                admin_server = kdc02.example.com\n"
"                default_domain = example.com\n"
"                database_module = openldap_ldapconf\n"
"        }\n"
"\n"
"...\n"
"\n"
"[domain_realm]\n"
"        .example.com = EXAMPLE.COM\n"
"\n"
"...\n"
"\n"
"[dbdefaults]\n"
"        ldap_kerberos_container_dn = dc=example,dc=com\n"
"\n"
"[dbmodules]\n"
"        openldap_ldapconf = {\n"
"                db_library = kldap\n"
"                ldap_kdc_dn = \"cn=admin,dc=example,dc=com\"\n"
"\n"
"                # this object needs to have read rights on\n"
"                # the realm container, principal container and realm sub-"
"trees\n"
"                ldap_kadmind_dn = \"cn=admin,dc=example,dc=com\"\n"
"\n"
"                # this object needs to have read and write rights on\n"
"                # the realm container, principal container and realm sub-"
"trees\n"
"                ldap_service_password_file = /etc/krb5kdc/service.keyfile\n"
"                ldap_servers = ldaps://ldap01.example.com "
"ldaps://ldap02.example.com\n"
"                ldap_conns_per_server = 5\n"
"        }\n"
msgstr ""

#: serverguide/C/network-auth.xml:2677(para)
msgid "Create the stash for the LDAP bind password:"
msgstr ""

#: serverguide/C/network-auth.xml:2688(para)
msgid ""
"Now, on the <emphasis>Primary KDC</emphasis> copy the "
"<filename>/etc/krb5kdc/.k5.EXAMPLE.COM</filename><emphasis>Master "
"Key</emphasis> stash to the Secondary KDC. Be sure to copy the file over an "
"encrypted connection such as <application>scp</application>, or on physical "
"media."
msgstr ""

#: serverguide/C/network-auth.xml:2695(command)
msgid "sudo scp /etc/krb5kdc/.k5.EXAMPLE.COM steve@kdc02.example.com:~"
msgstr ""

#: serverguide/C/network-auth.xml:2696(command)
msgid "sudo mv .k5.EXAMPLE.COM /etc/krb5kdc/"
msgstr ""

#: serverguide/C/network-auth.xml:2700(para)
msgid ""
"Again, replace <emphasis>EXAMPLE.COM</emphasis> with your actual realm."
msgstr ""

#: serverguide/C/network-auth.xml:2708(para)
msgid "Finally, start the <application>krb5-kdc</application> daemon:"
msgstr ""

#: serverguide/C/network-auth.xml:2719(para)
msgid ""
"You now have redundant KDCs on your network, and with redundant LDAP servers "
"you should be able to continue to authenticate users if one LDAP server, one "
"Kerberos server, or one LDAP and one Kerberos server become unavailable."
msgstr ""

#: serverguide/C/network-auth.xml:2731(para)
msgid ""
"The <ulink url=\"http://web.mit.edu/Kerberos/krb5-1.6/krb5-1.6.3/doc/krb5-"
"admin.html#Configuring-Kerberos-with-OpenLDAP-back_002dend\"> Kerberos Admin "
"Guide</ulink> has some additional details."
msgstr ""

#: serverguide/C/network-auth.xml:2737(para)
msgid ""
"For more information on <application>kdb5_ldap_util</application> see <ulink "
"url=\"http://web.mit.edu/Kerberos/krb5-1.6/krb5-1.6.3/doc/krb5-"
"admin.html#Global-Operations-on-the-Kerberos-LDAP-Database\"> Section "
"5.6</ulink> and the <ulink "
"url=\"http://manpages.ubuntu.com/manpages/jaunty/en/man8/kdb5_ldap_util.8.htm"
"l\">kdb5_ldap_util man page</ulink>."
msgstr ""

#: serverguide/C/network-auth.xml:2745(para)
msgid ""
"Another useful link is the <ulink "
"url=\"http://manpages.ubuntu.com/manpages/jaunty/en/man5/krb5.conf.5.html\">k"
"rb5.conf man page</ulink>."
msgstr ""

#: serverguide/C/mail.xml:13(title)
msgid "Email Services"
msgstr ""

#: serverguide/C/mail.xml:14(para)
msgid ""
"The process of getting an email from one person to another over a network or "
"the Internet involves many systems working together. Each of these systems "
"must be correctly configured for the process to work. The sender uses a "
"<emphasis>Mail User Agent</emphasis> (MUA), or email client, to send the "
"message through one or more <emphasis>Mail Transfer Agents</emphasis> (MTA), "
"the last of which will hand it off to a <emphasis>Mail Delivery "
"Agent</emphasis> (MDA) for delivery to the recipient's mailbox, from which "
"it will be retrieved by the recipient's email client, usually via a POP3 or "
"IMAP server."
msgstr ""

#: serverguide/C/mail.xml:24(title) serverguide/C/mail.xml:623(application) serverguide/C/mail.xml:657(title) serverguide/C/mail.xml:735(title) serverguide/C/mail.xml:1273(title)
msgid "Postfix"
msgstr ""

#: serverguide/C/mail.xml:25(para)
msgid ""
"<application>Postfix</application> is the default Mail Transfer Agent (MTA) "
"in Ubuntu. It attempts to be fast and easy to administer and secure. It is "
"compatible with the MTA <application>sendmail</application>. This section "
"explains how to install and configure <application>postfix</application>. It "
"also explains how to set it up as an SMTP server using a secure connection "
"(for sending emails securely)."
msgstr ""

#: serverguide/C/mail.xml:34(para)
msgid ""
"To install <application>postfix</application> run the following command:"
msgstr ""

#: serverguide/C/mail.xml:40(para)
msgid ""
"Simply press return when the installation process asks questions, the "
"configuration will be done in greater detail in the next stage."
msgstr ""

#: serverguide/C/mail.xml:45(title)
msgid "Basic Configuration"
msgstr ""

#: serverguide/C/mail.xml:46(para)
msgid ""
"To configure <application>postfix</application>, run the following command:"
msgstr ""

#: serverguide/C/mail.xml:50(command)
msgid "sudo dpkg-reconfigure postfix"
msgstr ""

#: serverguide/C/mail.xml:56(para)
msgid "Internet Site"
msgstr ""

#: serverguide/C/mail.xml:57(para)
msgid "mail.example.com"
msgstr ""

#: serverguide/C/mail.xml:58(para)
msgid "steve"
msgstr ""

#: serverguide/C/mail.xml:59(para)
msgid "mail.example.com, localhost.localdomain, localhost"
msgstr ""

#: serverguide/C/mail.xml:60(para)
msgid "No"
msgstr ""

#: serverguide/C/mail.xml:61(para)
msgid "127.0.0.0/8 [::ffff:127.0.0.0]/104 [::1]/128 192.168.0/24"
msgstr ""

#: serverguide/C/mail.xml:62(para)
msgid "0"
msgstr ""

#: serverguide/C/mail.xml:63(para)
msgid "+"
msgstr ""

#: serverguide/C/mail.xml:64(para)
msgid "all"
msgstr ""

#: serverguide/C/mail.xml:52(para)
msgid ""
"The user interface will be displayed. On each screen, select the following "
"values: <placeholder-1/>"
msgstr ""

#: serverguide/C/mail.xml:68(para)
msgid ""
"Replace mail.example.com with your mail server hostname, 192.168.0/24 with "
"the actual network and class range of your mail server, and steve with the "
"appropriate username."
msgstr ""

#: serverguide/C/mail.xml:76(title) serverguide/C/mail.xml:357(title)
msgid "SMTP Authentication"
msgstr ""

#: serverguide/C/mail.xml:78(para)
msgid ""
"SMTP-AUTH allows a client to identify itself through an authentication "
"mechanism (SASL). Transport Layer Security (TLS) should be used to encrypt "
"the authentication process. Once authenticated the SMTP server will allow "
"the client to relay mail."
msgstr ""

#: serverguide/C/mail.xml:84(para)
msgid ""
"Configuring <application>Postfix</application> for SMTP-AUTH is very simple "
"using the <application>dovecot-postfix</application> package. This package "
"will install <application>Dovecot</application> and configure "
"<application>Postfix</application> to use it for both SASL authentication "
"and as a Mail Delivery Agent (MDA). The package also configures "
"<application>Dovecot</application> for IMAP, IMAPS, POP3, and POP3S."
msgstr ""

#: serverguide/C/mail.xml:91(para)
msgid "To install the package, from a terminal prompt enter:"
msgstr ""

#: serverguide/C/mail.xml:96(command)
msgid "sudo apt-get install dovecot-postfix"
msgstr ""

#: serverguide/C/mail.xml:99(para)
msgid ""
"You should now have a working mail server, but there are a few options that "
"you may wish to further customize. For example, the package uses the "
"certificate and key from the <application>ssl-cert</application> package, "
"and in a production environment you should use a certificate and key "
"generated for the host. See <xref linkend=\"certificates-and-security\"/> "
"for more details."
msgstr ""

#: serverguide/C/mail.xml:105(para)
msgid ""
"Once you have a customized certificate and key for the host, change the "
"following options in <filename>/etc/postfix/main.cf</filename>:"
msgstr ""

#: serverguide/C/mail.xml:109(programlisting)
#, no-wrap
msgid ""
"\n"
"smtpd_tls_cert_file = /etc/ssl/certs/ssl-mail.pem\n"
"smtpd_tls_key_file = /etc/ssl/private/ssl-mail.key\n"
msgstr ""

#: serverguide/C/mail.xml:114(para)
msgid "Then restart Postfix:"
msgstr ""

#: serverguide/C/mail.xml:119(command) serverguide/C/mail.xml:182(command) serverguide/C/mail.xml:775(command) serverguide/C/mail.xml:1324(command)
msgid "sudo /etc/init.d/postfix restart"
msgstr ""

#: serverguide/C/mail.xml:125(para)
msgid ""
"SMTP-AUTH configuration is complete. Now it is time to test the setup."
msgstr ""

#: serverguide/C/mail.xml:128(para)
msgid "To see if SMTP-AUTH and TLS work properly, run the following command:"
msgstr ""

#: serverguide/C/mail.xml:133(command)
msgid "telnet mail.example.com 25"
msgstr ""

#: serverguide/C/mail.xml:135(para)
msgid ""
"After you have established the connection to the postfix mail server, type:"
msgstr ""

#: serverguide/C/mail.xml:139(screen)
#, no-wrap
msgid ""
"\n"
"ehlo mail.example.com\n"
msgstr ""

#: serverguide/C/mail.xml:142(para)
msgid ""
"If you see the following lines among others, then everything is working "
"perfectly. Type <command>quit</command> to exit."
msgstr ""

#: serverguide/C/mail.xml:146(programlisting)
#, no-wrap
msgid ""
"\n"
"250-STARTTLS\n"
"250-AUTH LOGIN PLAIN\n"
"250-AUTH=LOGIN PLAIN\n"
"250 8BITMIME\n"
msgstr ""

#: serverguide/C/mail.xml:156(para)
msgid ""
"This section introduces some common ways to determine the cause if problems "
"arise."
msgstr ""

#: serverguide/C/mail.xml:160(title)
msgid "Escaping chroot"
msgstr ""

#: serverguide/C/mail.xml:161(para)
msgid ""
"The Ubuntu <application>postfix</application> package will by default "
"install into a <emphasis>chroot</emphasis> environment for security reasons. "
"This can add greater complexity when troubleshooting problems."
msgstr ""

#: serverguide/C/mail.xml:165(para)
msgid ""
"To turn off the chroot operation locate for the following line in the "
"<filename>/etc/postfix/master.cf</filename> configuration file:"
msgstr ""

#: serverguide/C/mail.xml:169(screen)
#, no-wrap
msgid ""
"\n"
"smtp      inet  n       -       -       -       -       smtpd\n"
msgstr ""

#: serverguide/C/mail.xml:172(para)
msgid "and modify it as follows:"
msgstr ""

#: serverguide/C/mail.xml:175(screen)
#, no-wrap
msgid ""
"\n"
"smtp      inet  n       -       n       -       -       smtpd\n"
msgstr ""

#: serverguide/C/mail.xml:178(para)
msgid ""
"You will then need to restart Postfix to use the new configuration. From a "
"terminal prompt enter:"
msgstr ""

#: serverguide/C/mail.xml:186(title)
msgid "Log Files"
msgstr ""

#: serverguide/C/mail.xml:187(para)
msgid ""
"<application>Postfix</application> sends all log messages to "
"<filename>/var/log/mail.log</filename>. However error and warning messages "
"can sometimes get lost in the normal log output so they are also logged to "
"<filename>/var/log/mail.err</filename> and "
"<filename>/var/log/mail.warn</filename> respectively."
msgstr ""

#: serverguide/C/mail.xml:192(para)
msgid ""
"To see messages entered into the logs in real time you can use the "
"<application>tail -f</application> command:"
msgstr ""

#: serverguide/C/mail.xml:197(command)
msgid "tail -f /var/log/mail.err"
msgstr ""

#: serverguide/C/mail.xml:199(para)
msgid ""
"The amount of detail that is recorded in the logs can be increased. Below "
"are some configuration options for increasing the log level for some of the "
"areas covered above."
msgstr ""

#: serverguide/C/mail.xml:205(para)
msgid ""
"To increase <emphasis>TLS</emphasis> activity logging set the "
"<emphasis>smtpd_tls_loglevel</emphasis> option to a value from 1 to 4."
msgstr ""

#: serverguide/C/mail.xml:209(command)
msgid "sudo postconf -e 'smtpd_tls_loglevel = 4'"
msgstr ""

#: serverguide/C/mail.xml:213(para)
msgid ""
"If you are having trouble sending or receiving mail from a specific domain "
"you can add the domain to the <emphasis>debug_peer_list</emphasis> parameter."
msgstr ""

#: serverguide/C/mail.xml:218(command)
msgid "sudo postconf -e 'debug_peer_list = problem.domain'"
msgstr ""

#: serverguide/C/mail.xml:222(para)
msgid ""
"You can increase the verbosity of any <application>Postfix</application> "
"daemon process by editing the <filename>/etc/postfix/master.cf</filename> "
"and adding a <emphasis>-v</emphasis> after the entry. For example edit the "
"<emphasis>smtp</emphasis> entry:"
msgstr ""

#: serverguide/C/mail.xml:226(programlisting)
#, no-wrap
msgid ""
"\n"
"smtp      unix  -       -       -       -       -       smtp -v\n"
msgstr ""

#: serverguide/C/mail.xml:232(para)
msgid ""
"It is important to note that after making one of the logging changes above "
"the <application>Postfix</application> process will need to be reloaded in "
"order to recognize the new configuration: <command>sudo /etc/init.d/postfix "
"reload</command>"
msgstr ""

#: serverguide/C/mail.xml:239(para)
msgid ""
"To increase the amount of information logged when troubleshooting "
"<emphasis>SASL</emphasis> issues you can set the following options in "
"<filename>/etc/dovecot/dovecot.conf</filename>"
msgstr ""

#: serverguide/C/mail.xml:243(programlisting)
#, no-wrap
msgid ""
"\n"
"auth_debug=yes\n"
"auth_debug_passwords=yes\n"
msgstr ""

#: serverguide/C/mail.xml:250(para)
msgid ""
"Just like <application>Postfix</application> if you change a "
"<application>Dovecot</application> configuration the process will need to be "
"reloaded: <command>sudo /etc/init.d/dovecot reload</command>."
msgstr ""

#: serverguide/C/mail.xml:256(para)
msgid ""
"Some of the options above can drastically increase the amount of information "
"sent to the log files. Remember to return the log level back to normal after "
"you have corrected the problem. Then reload the appropriate daemon for the "
"new configuration to take affect."
msgstr ""

#: serverguide/C/mail.xml:264(para)
msgid ""
"Administering a <application>Postfix</application> server can be a very "
"complicated task. At some point you may need to turn to the Ubuntu community "
"for more experienced help."
msgstr ""

#: serverguide/C/mail.xml:268(para)
msgid ""
"A great place to ask for <application>Postfix</application> assistance, and "
"get involved with the Ubuntu Server community, is the <emphasis>#ubuntu-"
"server</emphasis> IRC channel on <ulink "
"url=\"http://freenode.net\">freenode</ulink>. You can also post a message to "
"one of the <ulink "
"url=\"http://www.ubuntu.com/support/community/webforums\">Web Forums</ulink>."
msgstr ""

#: serverguide/C/mail.xml:273(para)
msgid ""
"For in depth <application>Postfix</application> information Ubuntu "
"developers highly recommend: <ulink url=\"http://www.postfix-book.com/\">The "
"Book of Postfix</ulink>."
msgstr ""

#: serverguide/C/mail.xml:277(para)
msgid ""
"Finally, the <ulink "
"url=\"http://www.postfix.org/documentation.html\">Postfix</ulink> website "
"also has great documentation on all the different configuration options "
"available."
msgstr ""

#: serverguide/C/mail.xml:286(title) serverguide/C/mail.xml:663(title) serverguide/C/mail.xml:779(title)
msgid "Exim4"
msgstr ""

#: serverguide/C/mail.xml:287(para)
msgid ""
"<application>Exim4</application> is another Message Transfer Agent (MTA) "
"developed at the University of Cambridge for use on Unix systems connected "
"to the Internet. Exim can be installed in place of "
"<application>sendmail</application>, although the configuration of "
"<application>exim</application> is quite different to that of "
"<application>sendmail</application>."
msgstr ""

#: serverguide/C/mail.xml:298(para)
msgid ""
"To install <application>exim4</application>, run the following command: "
"<screen>\n"
"<command>sudo apt-get install exim4</command>\n"
"</screen>"
msgstr ""

#: serverguide/C/mail.xml:307(para)
msgid ""
"To configure <application>Exim4</application>, run the following command:"
msgstr ""

#: serverguide/C/mail.xml:311(command)
msgid "sudo dpkg-reconfigure exim4-config"
msgstr ""

#: serverguide/C/mail.xml:313(para)
msgid ""
"The user interface will be displayed. The user interface lets you configure "
"many parameters. For example, In <application>Exim4</application> the "
"configuration files are split among multiple files. If you wish to have them "
"in one file you can configure accordingly in this user interface."
msgstr ""

#: serverguide/C/mail.xml:321(para)
msgid ""
"All the parameters you configure in the user interface are stored in "
"<filename>/etc/exim4/update-exim4.conf.conf</filename> file. If you wish to "
"re-configure, either you re-run the configuration wizard or manually edit "
"this file using your favourite editor. Once you configure, you can run the "
"following command to generate the master configuration file:"
msgstr ""

#: serverguide/C/mail.xml:332(command) serverguide/C/mail.xml:405(command)
msgid "sudo update-exim4.conf"
msgstr ""

#: serverguide/C/mail.xml:334(para)
msgid ""
"The master configuration file, is generated and it is stored in "
"<filename>/var/lib/exim4/config.autogenerated</filename>."
msgstr ""

#: serverguide/C/mail.xml:340(para)
msgid ""
"At any time, you should not edit the master configuration file, "
"<filename>/var/lib/exim4/config.autogenerated</filename> manually. It is "
"updated automatically every time you run <command>update-exim4.conf</command>"
msgstr ""

#: serverguide/C/mail.xml:348(para)
msgid ""
"You can run the following command to start <application>Exim4</application> "
"daemon."
msgstr ""

#: serverguide/C/mail.xml:353(command) serverguide/C/mail.xml:785(command)
msgid "sudo /etc/init.d/exim4 start"
msgstr ""

#: serverguide/C/mail.xml:358(para)
msgid ""
"This section covers configuring Exim4 to use SMTP-AUTH with TLS and SASL."
msgstr ""

#: serverguide/C/mail.xml:361(para)
msgid ""
"The first step is to create a certificate for use with TLS. Enter the "
"following into a terminal prompt:"
msgstr ""

#: serverguide/C/mail.xml:365(command)
msgid "sudo /usr/share/doc/exim4-base/examples/exim-gencert"
msgstr ""

#: serverguide/C/mail.xml:367(para)
msgid ""
"Now Exim4 needs to be configured for TLS by editing "
"<filename>/etc/exim4/conf.d/main/03_exim4-config_tlsoptions</filename> add "
"the following:"
msgstr ""

#: serverguide/C/mail.xml:371(programlisting)
#, no-wrap
msgid ""
"\n"
"MAIN_TLS_ENABLE = yes\n"
msgstr ""

#: serverguide/C/mail.xml:374(para)
msgid ""
"Next you need to configure <application>Exim4</application> to use the "
"<application>saslauthd</application> for authentication. Edit "
"<filename>/etc/exim4/conf.d/auth/30_exim4-config_examples</filename> and "
"uncomment the <emphasis>plain_saslauthd_server</emphasis> and "
"<emphasis>login_saslauthd_server</emphasis> sections:"
msgstr ""

#: serverguide/C/mail.xml:379(programlisting)
#, no-wrap
msgid ""
"\n"
" plain_saslauthd_server:\n"
"   driver = plaintext\n"
"   public_name = PLAIN\n"
"   server_condition = ${if saslauthd{{$auth2}{$auth3}}{1}{0}}\n"
"   server_set_id = $auth2\n"
"   server_prompts = :\n"
"   .ifndef AUTH_SERVER_ALLOW_NOTLS_PASSWORDS\n"
"   server_advertise_condition = ${if eq{$tls_cipher}{}{}{*}}\n"
"   .endif\n"
"#\n"
" login_saslauthd_server:\n"
"   driver = plaintext\n"
"   public_name = LOGIN\n"
"   server_prompts = \"Username:: : Password::\"\n"
"   # don't send system passwords over unencrypted connections\n"
"   server_condition = ${if saslauthd{{$auth1}{$auth2}}{1}{0}}\n"
"   server_set_id = $auth1\n"
"   .ifndef AUTH_SERVER_ALLOW_NOTLS_PASSWORDS\n"
"   server_advertise_condition = ${if eq{$tls_cipher}{}{}{*}}\n"
"   .endif\n"
msgstr ""

#: serverguide/C/mail.xml:401(para)
msgid "Finally, update the Exim4 configuration and restart the service:"
msgstr ""

#: serverguide/C/mail.xml:406(command)
msgid "sudo /etc/init.d/exim4 restart"
msgstr ""

#: serverguide/C/mail.xml:410(title)
msgid "Configuring SASL"
msgstr ""

#: serverguide/C/mail.xml:411(para)
msgid ""
"This section provides details on configuring the saslauthd to provide "
"authentication for <application>Exim4</application>."
msgstr ""

#: serverguide/C/mail.xml:414(para)
msgid ""
"The first step is to install the sasl2-bin package. From a terminal prompt "
"enter the following:"
msgstr ""

#: serverguide/C/mail.xml:418(command)
msgid "sudo apt-get install sasl2-bin"
msgstr ""

#: serverguide/C/mail.xml:420(para)
msgid ""
"To configure saslauthd edit the /etc/default/saslauthd configuration file "
"and set START=no to:"
msgstr ""

#: serverguide/C/mail.xml:423(programlisting)
#, no-wrap
msgid ""
"\n"
"START=yes\n"
msgstr ""

#: serverguide/C/mail.xml:426(para)
msgid ""
"Next the <emphasis>Debian-exim</emphasis> user needs to be part of the "
"<emphasis>sasl</emphasis> group in order for Exim4 to use the saslauthd "
"service:"
msgstr ""

#: serverguide/C/mail.xml:431(command)
msgid "sudo adduser Debian-exim sasl"
msgstr ""

#: serverguide/C/mail.xml:433(para)
msgid "Now start the <application>saslauthd</application> service:"
msgstr ""

#: serverguide/C/mail.xml:437(command)
msgid "sudo /etc/init.d/saslauthd start"
msgstr ""

#: serverguide/C/mail.xml:439(para)
msgid ""
"<application>Exim4</application> is now configured with SMTP-AUTH using TLS "
"and SASL authentication."
msgstr ""

#: serverguide/C/mail.xml:448(para)
msgid ""
"See <ulink url=\"http://www.exim.org/\">exim.org</ulink> for more "
"information."
msgstr ""

#: serverguide/C/mail.xml:453(para)
msgid ""
"There is also an <ulink url=\"http://www.uit.co.uk/content/exim-smtp-mail-"
"server\">Exim4 Book</ulink> available."
msgstr ""

#: serverguide/C/mail.xml:462(title)
msgid "Dovecot Server"
msgstr ""

#: serverguide/C/mail.xml:463(para)
msgid ""
"<application>Dovecot</application> is a Mail Delivery Agent, written with "
"security primarily in mind. It supports the major mailbox formats: mbox or "
"Maildir. This section explain how to set it up as an imap or pop3 server."
msgstr ""

#: serverguide/C/mail.xml:471(para)
msgid ""
"To install <application>dovecot</application>, run the following command in "
"the command prompt:"
msgstr ""

#: serverguide/C/mail.xml:476(command)
msgid "sudo apt-get install dovecot-imapd dovecot-pop3d"
msgstr ""

#: serverguide/C/mail.xml:481(para)
msgid ""
"To configure <application>dovecot</application>, you can edit the file "
"<filename>/etc/dovecot/dovecot.conf</filename>. You can choose the protocol "
"you use. It could be pop3, pop3s (pop3 secure), imap and imaps (imap "
"secure). A description of these protocols is beyond the scope of this guide. "
"For further information, refer to the Wikipedia articles on <ulink "
"url=\"http://en.wikipedia.org/wiki/POP3\">POP3</ulink> and <ulink "
"url=\"http://en.wikipedia.org/wiki/Internet_Message_Access_Protocol\">IMAP</u"
"link>."
msgstr ""

#: serverguide/C/mail.xml:491(para)
msgid ""
"IMAPS and POP3S are more secure that the simple IMAP and POP3 because they "
"use SSL encryption to connect. Once you have chosen the protocol, amend the "
"following line in the file <filename>/etc/dovecot/dovecot.conf</filename>:"
msgstr ""

#: serverguide/C/mail.xml:497(programlisting)
#, no-wrap
msgid ""
"\n"
"protocols = pop3 pop3s imap imaps\n"
msgstr ""

#: serverguide/C/mail.xml:500(para)
msgid ""
"Next, choose the mailbox you would like to use. "
"<application>Dovecot</application> supports <emphasis "
"role=\"strong\">maildir</emphasis> and <emphasis "
"role=\"strong\">mbox</emphasis> formats. These are the most commonly used "
"mailbox formats. They both have their own benefits and are discussed on "
"<ulink url=\"http://wiki.dovecot.org/MailboxFormat\">the Dovecot web "
"site</ulink>."
msgstr ""

#: serverguide/C/mail.xml:508(para)
msgid ""
"Once you have chosen your mailbox type, edit the file "
"<filename>/etc/dovecot/dovecot.conf</filename> and change the following line:"
msgstr ""

#: serverguide/C/mail.xml:513(programlisting)
#, no-wrap
msgid ""
"\n"
"mail_location = maildir:~/Maildir # (for maildir)\n"
"or\n"
"mail_location = mbox:~/mail:INBOX=/var/spool/mail/%u # (for mbox)\n"
msgstr ""

#: serverguide/C/mail.xml:519(para)
msgid ""
"You should configure your Mail Transport Agent (MTA) to transfer the "
"incoming mail to this type of mailbox if it is different from the one you "
"have configured."
msgstr ""

#: serverguide/C/mail.xml:525(para)
msgid ""
"Once you have configured dovecot, restart the "
"<application>dovecot</application> daemon in order to test your setup:"
msgstr ""

#: serverguide/C/mail.xml:531(command)
msgid "sudo /etc/init.d/dovecot restart"
msgstr ""

#: serverguide/C/mail.xml:534(para)
msgid ""
"If you have enabled imap, or pop3, you can also try to log in with the "
"commands <command>telnet localhost pop3</command> or <command>telnet "
"localhost imap2</command>. If you see something like the following, the "
"installation has been successful:"
msgstr ""

#: serverguide/C/mail.xml:541(programlisting)
#, no-wrap
msgid ""
"\n"
"bhuvan@rainbow:~$ telnet localhost pop3\n"
"Trying 127.0.0.1...\n"
"Connected to localhost.localdomain.\n"
"Escape character is '^]'.\n"
"+OK Dovecot ready.\n"
msgstr ""

#: serverguide/C/mail.xml:550(title)
msgid "Dovecot SSL Configuration"
msgstr ""

#: serverguide/C/mail.xml:551(para)
msgid ""
"To configure <application>dovecot</application> to use SSL, you can edit the "
"file <filename>/etc/dovecot/dovecot.conf</filename> and amend following "
"lines:"
msgstr ""

#: serverguide/C/mail.xml:556(programlisting)
#, no-wrap
msgid ""
"\n"
"ssl_cert_file = /etc/ssl/certs/ssl-cert-snakeoil.pem\n"
"ssl_key_file = /etc/ssl/private/ssl-cert-snakeoil.key\n"
"ssl_disable = no\n"
"disable_plaintext_auth = no\n"
msgstr ""

#: serverguide/C/mail.xml:562(para)
msgid ""
"You can get the SSL certificate from a Certificate Issuing Authority or you "
"can create self signed SSL certificate. The latter is a good option for "
"email, because SMTP clients rarely complain about \"self-signed "
"certificates\". Please refer to <xref linkend=\"certificates-and-"
"security\"/> for details about how to create self signed SSL certificate. "
"Once you create the certificate, you will have a key file and a certificate "
"file. Please copy them to the location pointed in the "
"<filename>/etc/dovecot/dovecot.conf</filename> configuration file."
msgstr ""

#: serverguide/C/mail.xml:577(title)
msgid "Firewall Configuration for an Email Server"
msgstr ""

#: serverguide/C/mail.xml:583(para)
msgid "IMAP - 143"
msgstr ""

#: serverguide/C/mail.xml:584(para)
msgid "IMAPS - 993"
msgstr ""

#: serverguide/C/mail.xml:585(para)
msgid "POP3 - 110"
msgstr ""

#: serverguide/C/mail.xml:586(para)
msgid "POP3S - 995"
msgstr ""

#: serverguide/C/mail.xml:578(para)
msgid ""
"To access your mail server from another computer, you must configure your "
"firewall to allow connections to the server on the necessary ports. "
"<placeholder-1/>"
msgstr ""

#: serverguide/C/mail.xml:595(para)
msgid ""
"See the <ulink url=\"http://www.dovecot.org/\">Dovecot website</ulink> for "
"more information."
msgstr ""

#: serverguide/C/mail.xml:604(title) serverguide/C/mail.xml:681(title) serverguide/C/mail.xml:904(title)
msgid "Mailman"
msgstr ""

#: serverguide/C/mail.xml:605(para)
msgid ""
"Mailman is an open source program for managing electronic mail discussions "
"and e-newsletter lists. Many open source mailing lists (including all the "
"<ulink url=\"http://lists.ubuntu.com\">Ubuntu mailing lists</ulink>) use "
"Mailman as their mailing list software. It is powerful and easy to install "
"and maintain."
msgstr ""

#: serverguide/C/mail.xml:615(para)
msgid ""
"Mailman provides a web interface for the administrators and users, using an "
"external mail server to send and receive emails. It works perfectly with the "
"following mail servers:"
msgstr ""

#: serverguide/C/mail.xml:626(application)
msgid "Exim"
msgstr ""

#: serverguide/C/mail.xml:629(application)
msgid "Sendmail"
msgstr ""

#: serverguide/C/mail.xml:632(application)
msgid "Qmail"
msgstr ""

#: serverguide/C/mail.xml:637(para)
msgid ""
"We will see how to install and configure Mailman with, the Apache web "
"server, and either the Postfix or Exim mail server. If you wish to install "
"Mailman with a different mail server, please refer to the references section."
msgstr ""

#: serverguide/C/mail.xml:644(para)
msgid ""
"You only need to install one mail server and "
"<application>Postfix</application> is the default Ubuntu Mail Transfer Agent."
msgstr ""

#: serverguide/C/mail.xml:649(title) serverguide/C/mail.xml:708(title)
msgid "Apache2"
msgstr ""

#: serverguide/C/mail.xml:650(para)
msgid ""
"To install apache2 you refer to <ulink url=\"./web-servers.xml#http-"
"installation\">HTTPD Installation</ulink> section for details."
msgstr ""

#: serverguide/C/mail.xml:658(para)
msgid ""
"For instructions on installing and configuring Postfix refer to <xref "
"linkend=\"postfix\"/>"
msgstr ""

#: serverguide/C/mail.xml:664(para)
msgid "To install Exim4 refer to <xref linkend=\"exim4\"/>."
msgstr ""

#: serverguide/C/mail.xml:675(application)
msgid "dc_use_split_config='true'"
msgstr ""

#: serverguide/C/mail.xml:667(para)
msgid ""
"Once exim4 is installed, the configuration files are stored in the "
"<filename>/etc/exim4</filename> directory. In Ubuntu, by default, the exim4 "
"configuration files are split across different files. You can change this "
"behavior by changing the following variable in the "
"<filename>/etc/exim4/update-exim4.conf</filename> file: <placeholder-1/>"
msgstr ""

#: serverguide/C/mail.xml:682(para)
msgid ""
"To install <application>Mailman</application>, run following command at a "
"terminal prompt:"
msgstr ""

#: serverguide/C/mail.xml:686(command)
msgid "sudo apt-get install mailman"
msgstr ""

#: serverguide/C/mail.xml:688(para)
msgid ""
"It copies the installation files in "
"<application>/var/lib/mailman</application> directory. It installs the CGI "
"scripts in <application>/usr/lib/cgi-bin/mailman</application> directory. It "
"creates <emphasis>list</emphasis> linux user. It creates the "
"<emphasis>list</emphasis> linux group. The mailman process will be owned by "
"this user."
msgstr ""

#: serverguide/C/mail.xml:700(para)
msgid ""
"This section assumes you have successfully installed "
"<application>mailman</application>, <application>apache2</application>, and "
"<application>postfix</application> or <application>exim4</application>. Now "
"you just need to configure them."
msgstr ""

#: serverguide/C/mail.xml:709(para)
msgid ""
"An example Apache configuration file comes with "
"<application>Mailman</application> and is placed in "
"<filename>/etc/mailman/apache.conf</filename>. In order for Apache to use "
"the config file it needs to be copied to <filename>/etc/apache2/sites-"
"available</filename>:"
msgstr ""

#: serverguide/C/mail.xml:715(command)
msgid ""
"sudo cp /etc/mailman/apache.conf /etc/apache2/sites-available/mailman.conf"
msgstr ""

#: serverguide/C/mail.xml:717(para)
msgid ""
"This will setup a new Apache <emphasis>VirtualHost</emphasis> for the "
"Mailman administration site. Now enable the new configuration and restart "
"Apache:"
msgstr ""

#: serverguide/C/mail.xml:722(command)
msgid "sudo a2ensite mailman.conf"
msgstr ""

#: serverguide/C/mail.xml:725(para)
msgid ""
"Mailman uses apache2 to render its CGI scripts. The mailman CGI scripts are "
"installed in the <application>/usr/lib/cgi-bin/mailman</application> "
"directory. So, the mailman url will be http://hostname/cgi-bin/mailman/. You "
"can make changes to the <filename>/etc/apache2/sites-"
"available/mailman.conf</filename> file if you wish to change this behavior."
msgstr ""

#: serverguide/C/mail.xml:736(para)
msgid ""
"For <application>Postfix</application> integration, we will associate the "
"domain lists.example.com with the mailing lists. Please replace "
"<emphasis>lists.example.com</emphasis> with the domain of your choosing."
msgstr ""

#: serverguide/C/mail.xml:740(para)
msgid ""
"You can use the postconf command to add the necessary configuration to "
"<filename>/etc/postfix/main.cf</filename>:"
msgstr ""

#: serverguide/C/mail.xml:744(command)
msgid "sudo postconf -e 'relay_domains = lists.example.com'"
msgstr ""

#: serverguide/C/mail.xml:745(command)
msgid "sudo postconf -e 'transport_maps = hash:/etc/postfix/transport'"
msgstr ""

#: serverguide/C/mail.xml:746(command)
msgid "sudo postconf -e 'mailman_destination_recipient_limit = 1'"
msgstr ""

#: serverguide/C/mail.xml:748(para)
msgid ""
"In <filename>/etc/postfix/master.cf</filename> double check that you have "
"the following transport:"
msgstr ""

#: serverguide/C/mail.xml:751(programlisting)
#, no-wrap
msgid ""
"\n"
"mailman   unix  -       n       n       -       -       pipe\n"
"  flags=FR user=list argv=/usr/lib/mailman/bin/postfix-to-mailman.py\n"
"  ${nexthop} ${user}\n"
msgstr ""

#: serverguide/C/mail.xml:756(para)
msgid ""
"It calls the <emphasis>postfix-to-mailman.py</emphasis> script when a mail "
"is delivered to a list."
msgstr ""

#: serverguide/C/mail.xml:759(para)
msgid ""
"Associate the domain lists.example.com to the Mailman transport with the "
"transport map. Edit the file <filename>/etc/postfix/transport</filename>:"
msgstr ""

#: serverguide/C/mail.xml:762(programlisting)
#, no-wrap
msgid ""
"\n"
"lists.example.com      mailman:\n"
msgstr ""

#: serverguide/C/mail.xml:765(para)
msgid ""
"Now have <application>Postfix</application> build the transport map by "
"entering the following from a terminal prompt:"
msgstr ""

#: serverguide/C/mail.xml:769(command)
msgid "sudo postmap -v /etc/postfix/transport"
msgstr ""

#: serverguide/C/mail.xml:771(para)
msgid "Then restart Postfix to enable the new configurations:"
msgstr ""

#: serverguide/C/mail.xml:780(para)
msgid ""
"Once Exim4 is installed, you can start the Exim server using the following "
"command from a terminal prompt:"
msgstr ""

#: serverguide/C/mail.xml:796(para) serverguide/C/mail.xml:811(title)
msgid "Main"
msgstr ""

#: serverguide/C/mail.xml:799(para) serverguide/C/mail.xml:851(title)
msgid "Transport"
msgstr ""

#: serverguide/C/mail.xml:802(para) serverguide/C/mail.xml:874(title)
msgid "Router"
msgstr ""

#: serverguide/C/mail.xml:787(para)
msgid ""
"In order to make mailman work with Exim4, you need to configure Exim4. As "
"mentioned earlier, by default, Exim4 uses multiple configuration files of "
"different types. For details, please refer to the <ulink "
"url=\"http://www.exim.org\">Exim</ulink> web site. To run mailman, we should "
"add new a configuration file to the following configuration types: "
"<placeholder-1/> Exim creates a master configuration file by sorting all "
"these mini configuration files. So, the order of these configuration files "
"is very important."
msgstr ""

#: serverguide/C/mail.xml:818(programlisting)
#, no-wrap
msgid ""
"\n"
"# start\n"
"# Home dir for your Mailman installation -- aka Mailman's prefix\n"
"# directory.\n"
"# On Ubuntu this should be \"/var/lib/mailman\"\n"
"# This is normally the same as ~mailman\n"
"MM_HOME=/var/lib/mailman\n"
"#\n"
"# User and group for Mailman, should match your --with-mail-gid\n"
"# switch to Mailman's configure script.  Value is normally \"mailman\"\n"
"MM_UID=list\n"
"MM_GID=list\n"
"#\n"
"# Domains that your lists are in - colon separated list\n"
"# you may wish to add these into local_domains as well\n"
"domainlist mm_domains=hostname.com\n"
"#\n"
"# -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\n"
"#\n"
"# These values are derived from the ones above and should not need\n"
"# editing unless you have munged your mailman installation\n"
"#\n"
"# The path of the Mailman mail wrapper script\n"
"MM_WRAP=MM_HOME/mail/mailman\n"
"#\n"
"# The path of the list config file (used as a required file when\n"
"# verifying list addresses)\n"
"MM_LISTCHK=MM_HOME/lists/${lc::$local_part}/config.pck\n"
"# end\n"
msgstr ""

#: serverguide/C/mail.xml:812(para)
msgid ""
"All the configuration files belonging to the main type are stored in the "
"<filename>/etc/exim4/conf.d/main/</filename> directory. You can add the "
"following content to a new file, named <filename>04_exim4-"
"config_mailman</filename>: <placeholder-1/>"
msgstr ""

#: serverguide/C/mail.xml:858(programlisting)
#, no-wrap
msgid ""
"\n"
"  mailman_transport:\n"
"   driver = pipe\n"
"   command = MM_WRAP \\\n"
"               '${if def:local_part_suffix \\\n"
"                     {${sg{$local_part_suffix}{-(\\\\w+)(\\\\+.*)?}{\\$1}}} "
"\\\n"
"                     {post}}' \\\n"
"               $local_part\n"
"    current_directory = MM_HOME\n"
"    home_directory = MM_HOME\n"
"    user = MM_UID\n"
"    group = MM_GID\n"
msgstr ""

#: serverguide/C/mail.xml:852(para)
msgid ""
"All the configuration files belonging to transport type are stored in the "
"<filename>/etc/exim4/conf.d/transport/</filename> directory. You can add the "
"following content to a new file named <filename> 40_exim4-"
"config_mailman</filename>: <placeholder-1/>"
msgstr ""

#: serverguide/C/mail.xml:879(programlisting)
#, no-wrap
msgid ""
"\n"
"  mailman_router:\n"
"   driver = accept\n"
"   require_files = MM_HOME/lists/$local_part/config.pck\n"
"   local_part_suffix_optional\n"
"   local_part_suffix = -bounces : -bounces+* : \\\n"
"                       -confirm+* : -join : -leave : \\\n"
"                       -owner : -request : -admin\n"
"   transport = mailman_transport\n"
msgstr ""

#: serverguide/C/mail.xml:875(para)
msgid ""
"All the configuration files belonging to router type are stored in the "
"<filename>/etc/exim4/conf.d/router/</filename> directory. You can add the "
"following content in to a new file named <filename>101_exim4-"
"config_mailman</filename>: <placeholder-1/>"
msgstr ""

#: serverguide/C/mail.xml:892(para)
msgid ""
"The order of main and transport configuration files can be in any order. "
"But, the order of router configuration files must be the same. This "
"particular file must appear before the <application>200_exim4-"
"config_primary</application> file. These two configuration files contain "
"same type of information. The first file takes the precedence. For more "
"details, please refer to the references section."
msgstr ""

#: serverguide/C/mail.xml:905(para)
msgid ""
"Once mailman is installed, you can run it using the following command:"
msgstr ""

#: serverguide/C/mail.xml:909(command)
msgid "sudo /etc/init.d/mailman start"
msgstr ""

#: serverguide/C/mail.xml:911(para)
msgid ""
"Once mailman is installed, you should create the default mailing list. Run "
"the following command to create the mailing list:"
msgstr ""

#: serverguide/C/mail.xml:917(command)
msgid "sudo /usr/sbin/newlist mailman"
msgstr ""

#: serverguide/C/mail.xml:920(programlisting)
#, no-wrap
msgid ""
"\n"
"  Enter the email address of the person running the list: bhuvan at "
"ubuntu.com\n"
"  Initial mailman password:\n"
"  To finish creating your mailing list, you must edit your "
"<filename>/etc/aliases</filename> (or\n"
"  equivalent) file by adding the following lines, and possibly running the\n"
"  `newaliases' program:\n"
"\n"
"  ## mailman mailing list\n"
"  mailman:              \"|/var/lib/mailman/mail/mailman post mailman\"\n"
"  mailman-admin:        \"|/var/lib/mailman/mail/mailman admin mailman\"\n"
"  mailman-bounces:      \"|/var/lib/mailman/mail/mailman bounces mailman\"\n"
"  mailman-confirm:      \"|/var/lib/mailman/mail/mailman confirm mailman\"\n"
"  mailman-join:         \"|/var/lib/mailman/mail/mailman join mailman\"\n"
"  mailman-leave:        \"|/var/lib/mailman/mail/mailman leave mailman\"\n"
"  mailman-owner:        \"|/var/lib/mailman/mail/mailman owner mailman\"\n"
"  mailman-request:      \"|/var/lib/mailman/mail/mailman request mailman\"\n"
"  mailman-subscribe:    \"|/var/lib/mailman/mail/mailman subscribe "
"mailman\"\n"
"  mailman-unsubscribe:  \"|/var/lib/mailman/mail/mailman unsubscribe "
"mailman\"\n"
"\n"
"  Hit enter to notify mailman owner...\n"
"\n"
"  # \n"
msgstr ""

#: serverguide/C/mail.xml:943(para)
msgid ""
"We have configured either Postfix or Exim4 to recognize all emails from "
"mailman. So, it is not mandatory to make any new entries in "
"<filename>/etc/aliases</filename>. If you have made any changes to the "
"configuration files, please ensure that you restart those services before "
"continuing to next section."
msgstr ""

#: serverguide/C/mail.xml:953(title)
msgid "Administration"
msgstr ""

#: serverguide/C/mail.xml:954(para)
msgid ""
"We assume you have a default installation. The mailman cgi scripts are still "
"in the <application>/usr/lib/cgi-bin/mailman/</application> directory. "
"Mailman provides a web based administration facility. To access this page, "
"point your browser to the following url:"
msgstr ""

#: serverguide/C/mail.xml:962(para)
msgid "http://hostname/cgi-bin/mailman/admin"
msgstr ""

#: serverguide/C/mail.xml:966(para)
msgid ""
"The default mailing list, <emphasis>mailman</emphasis>, will appear in this "
"screen. If you click the mailing list name, it will ask for your "
"authentication password. If you enter the correct password, you will be able "
"to change administrative settings of this mailing list. You can create a new "
"mailing list using the command line utility "
"(<command>/usr/sbin/newlist</command>). Alternatively, you can create a new "
"mailing list using the web interface."
msgstr ""

#: serverguide/C/mail.xml:979(title)
msgid "Users"
msgstr ""

#: serverguide/C/mail.xml:980(para)
msgid ""
"Mailman provides a web based interface for users. To access this page, point "
"your browser to the following url:"
msgstr ""

#: serverguide/C/mail.xml:985(para)
msgid "http://hostname/cgi-bin/mailman/listinfo"
msgstr ""

#: serverguide/C/mail.xml:989(para)
msgid ""
"The default mailing list, <emphasis>mailman</emphasis>, will appear in this "
"screen. If you click the mailing list name, it will display the subscription "
"form. You can enter your email address, name (optional), and password to "
"subscribe. An email invitation will be sent to you. You can follow the "
"instructions in the email to subscribe."
msgstr ""

#: serverguide/C/mail.xml:1001(ulink)
msgid "GNU Mailman - Installation Manual"
msgstr ""

#: serverguide/C/mail.xml:1005(ulink)
msgid "HOWTO - Using Exim 4 and Mailman 2.1 together"
msgstr ""

#: serverguide/C/mail.xml:1011(title)
msgid "Mail Filtering"
msgstr ""

#: serverguide/C/mail.xml:1012(para)
msgid ""
"One of the largest issues with email today is the problem of Unsolicited "
"Bulk Email (UBE). Also known as SPAM, such messages may also carry viruses "
"and other forms of malware. According to some reports these messages make up "
"the bulk of all email traffic on the Internet."
msgstr ""

#: serverguide/C/mail.xml:1017(para)
msgid ""
"This section will cover integrating <application>Amavisd-new</application>, "
"<application>Spamassassin</application>, and "
"<application>ClamAV</application> with the "
"<application>Postfix</application> Mail Transport Agent (MTA). "
"<application>Postfix</application> can also check email validity by passing "
"it through external content filters. These filters can sometimes determine "
"if a message is spam without needing to process it with more resource "
"intensive applications. Two common filters are <application>dkim-"
"filter</application> and <application>python-policyd-spf</application>."
msgstr ""

#: serverguide/C/mail.xml:1027(para)
msgid ""
"<application>Amavisd-new</application> is a wrapper program that can call "
"any number of content filtering programs for spam detection, antivirus, etc."
msgstr ""

#: serverguide/C/mail.xml:1033(para)
msgid ""
"<application>Spamassassin</application> uses a variety of mechanisms to "
"filter email based on the message content."
msgstr ""

#: serverguide/C/mail.xml:1038(para)
msgid ""
"<application>ClamAV</application> is an open source antivirus application."
msgstr ""

#: serverguide/C/mail.xml:1043(para)
msgid ""
"<application>dkim-filter</application> implements a Sendmail Mail Filter "
"(Milter) for the DomainKeys Identified Mail (DKIM) standard."
msgstr ""

#: serverguide/C/mail.xml:1049(para)
msgid ""
"<application>python-policyd-spf</application> enables Sender Policy "
"Framework (SPF) checking with <application>Postfix</application>."
msgstr ""

#: serverguide/C/mail.xml:1054(para)
msgid "This is how the pieces fit together:"
msgstr ""

#: serverguide/C/mail.xml:1059(para)
msgid "An email message is accepted by <application>Postfix</application>."
msgstr ""

#: serverguide/C/mail.xml:1064(para)
msgid ""
"The message is passed through any external filters <application>dkim-"
"filter</application> and <application>python-policyd-spf</application> in "
"this case."
msgstr ""

#: serverguide/C/mail.xml:1070(para)
msgid "<application>Amavisd-new</application> then processes the message."
msgstr ""

#: serverguide/C/mail.xml:1075(para)
msgid ""
"<application>ClamAV</application> is used to scan the message. If the "
"message contains a virus <application>Postfix</application> will reject the "
"message."
msgstr ""

#: serverguide/C/mail.xml:1081(para)
msgid ""
"Clean messages will then be analyzed by "
"<application>Spamassassin</application> to find out if the message is spam. "
"<application>Spamassassin</application> will then add X-Header lines "
"allowing <application>Amavisd-new</application> to further manipulate the "
"message."
msgstr ""

#: serverguide/C/mail.xml:1088(para)
msgid ""
"For example, if a message has a Spam score of over fifty the message could "
"be automatically dropped from the queue without the recipient ever having to "
"be bothered. Another, way to handle flagged messages is to deliver them to "
"the Mail User Agent (MUA) allowing the user to deal with the message as they "
"see fit."
msgstr ""

#: serverguide/C/mail.xml:1095(para)
msgid ""
"See <xref linkend=\"postfix\"/> for instructions on installing and "
"configuring Postfix."
msgstr ""

#: serverguide/C/mail.xml:1098(para)
msgid ""
"To install the rest of the applications enter the following from a terminal "
"prompt:"
msgstr ""

#: serverguide/C/mail.xml:1102(command)
msgid "sudo apt-get install amavisd-new spamassassin clamav-daemon"
msgstr ""

#: serverguide/C/mail.xml:1103(command)
msgid "sudo apt-get install dkim-filter python-policyd-spf"
msgstr ""

#: serverguide/C/mail.xml:1105(para)
msgid ""
"There are some optional packages that integrate with "
"<application>Spamassassin</application> for better spam detection:"
msgstr ""

#: serverguide/C/mail.xml:1109(command)
msgid "sudo apt-get install pyzor razor"
msgstr ""

#: serverguide/C/mail.xml:1111(para)
msgid ""
"Along with the main filtering applications compression utilities are needed "
"to process some email attachments:"
msgstr ""

#: serverguide/C/mail.xml:1115(command)
msgid ""
"sudo apt-get install arj cabextract cpio lha nomarch pax rar unrar unzip zip "
"zoo"
msgstr ""

#: serverguide/C/mail.xml:1120(para)
msgid "Now configure everything to work together and filter email."
msgstr ""

#: serverguide/C/mail.xml:1124(title)
msgid "ClamAV"
msgstr ""

#: serverguide/C/mail.xml:1125(para)
msgid ""
"The default behaviour of <application>ClamAV</application> will fit our "
"needs. For more ClamAV configuration options, check the configuration files "
"in <filename>/etc/clamav</filename>."
msgstr ""

#: serverguide/C/mail.xml:1130(para)
msgid ""
"Add the <emphasis>clamav</emphasis> user to the <emphasis>amavis</emphasis> "
"group in order for <application>Amavisd-new</application> to have the "
"appropriate access to scan files:"
msgstr ""

#: serverguide/C/mail.xml:1135(command)
msgid "sudo adduser clamav amavis"
msgstr ""

#: serverguide/C/mail.xml:1139(title)
msgid "Spamassassin"
msgstr ""

#: serverguide/C/mail.xml:1140(para)
msgid ""
"Spamassassin automatically detects optional components and will use them if "
"they are present. This means that there is no need to configure "
"<application>pyzor</application> and <application>razor</application>."
msgstr ""

#: serverguide/C/mail.xml:1144(para)
msgid ""
"Edit <filename>/etc/default/spamassassin</filename> to activate the "
"<application>Spamassassin</application> daemon. Change "
"<emphasis>ENABLED=0</emphasis> to:"
msgstr ""

#: serverguide/C/mail.xml:1148(programlisting)
#, no-wrap
msgid ""
"\n"
"ENABLED=1\n"
msgstr ""

#: serverguide/C/mail.xml:1151(para)
msgid "Now start the daemon:"
msgstr ""

#: serverguide/C/mail.xml:1155(command)
msgid "sudo /etc/init.d/spamassassin start"
msgstr ""

#: serverguide/C/mail.xml:1159(title)
msgid "Amavisd-new"
msgstr ""

#: serverguide/C/mail.xml:1160(para)
msgid ""
"First activate spam and antivirus detection in <application>Amavisd-"
"new</application> by editing <filename>/etc/amavis/conf.d/15-"
"content_filter_mode</filename>:"
msgstr ""

#: serverguide/C/mail.xml:1164(programlisting)
#, no-wrap
msgid ""
"\n"
"use strict;\n"
"\n"
"# You can modify this file to re-enable SPAM checking through spamassassin\n"
"# and to re-enable antivirus checking.\n"
"\n"
"#\n"
"# Default antivirus checking mode\n"
"# Uncomment the two lines below to enable it\n"
"#\n"
"\n"
"@bypass_virus_checks_maps = (\n"
"   \\%bypass_virus_checks, \\@bypass_virus_checks_acl, \\"
"$bypass_virus_checks_re);\n"
"\n"
"\n"
"#\n"
"# Default SPAM checking mode\n"
"# Uncomment the two lines below to enable it\n"
"#\n"
"\n"
"@bypass_spam_checks_maps = (\n"
"   \\%bypass_spam_checks, \\@bypass_spam_checks_acl, \\"
"$bypass_spam_checks_re);\n"
"\n"
"1;  # insure a defined return\n"
msgstr ""

#: serverguide/C/mail.xml:1189(para)
msgid ""
"Bouncing spam can be a bad idea as the return address is often faked. "
"Consider editing <filename>/etc/amavis/conf.d/20-debian_defaults</filename> "
"to set <emphasis>$final_spam_destiny</emphasis> to D_DISCARD rather than "
"D_BOUNCE, as follows:"
msgstr ""

#: serverguide/C/mail.xml:1194(programlisting)
#, no-wrap
msgid ""
"\n"
"$final_spam_destiny       = D_DISCARD;\n"
msgstr ""

#: serverguide/C/mail.xml:1198(para)
msgid ""
"If the server's <emphasis>hostname</emphasis> is different from the domain's "
"MX record you may need to manually set the <emphasis>$myhostname</emphasis> "
"option. Also, if the server receives mail for multiple domains the "
"<emphasis>@local_domains_acl</emphasis> option will need to be customized. "
"Edit the <filename>/etc/amavis/conf.d/50-user</filename> file:"
msgstr ""

#: serverguide/C/mail.xml:1205(programlisting)
#, no-wrap
msgid ""
"\n"
"$myhostname = 'mail.example.com';\n"
"@local_domains_acl = ( \"example.com\", \"example.org\" );\n"
msgstr ""

#: serverguide/C/mail.xml:1210(para)
msgid ""
"After configuration <application>Amavisd-new</application> needs to be "
"restarted:"
msgstr ""

#: serverguide/C/mail.xml:1214(command) serverguide/C/mail.xml:1260(command)
msgid "sudo /etc/init.d/amavis restart"
msgstr ""

#: serverguide/C/mail.xml:1217(title)
msgid "DKIM Whitelist"
msgstr ""

#: serverguide/C/mail.xml:1219(para)
msgid ""
"<application>Amavisd-new</application> can be configured to automatically "
"<emphasis>Whitelist</emphasis> addresses from domains with valid Domain "
"Keys. There are some pre-configured domains in the "
"<filename>/etc/amavis/conf.d/40-policy_banks</filename>."
msgstr ""

#: serverguide/C/mail.xml:1225(para)
msgid "There are multiple ways to configure the Whitelist for a domain:"
msgstr ""

#: serverguide/C/mail.xml:1231(para)
msgid ""
"<emphasis>'example.com' =&gt; 'WHITELIST',</emphasis>: will whitelist any "
"address from the \"example.com\" domain."
msgstr ""

#: serverguide/C/mail.xml:1236(para)
msgid ""
"<emphasis>'.example.com' =&gt; 'WHITELIST',</emphasis>: will whitelist any "
"address from any <emphasis>subdomains</emphasis> of \"example.com\" that "
"have a valid signature."
msgstr ""

#: serverguide/C/mail.xml:1242(para)
msgid ""
"<emphasis>'.example.com/@example.com' =&gt; 'WHITELIST',</emphasis>: will "
"whitelist subdomains of \"example.com\" that use the signature of <emphasis "
"role=\"italic\">example.com</emphasis> the parent domain."
msgstr ""

#: serverguide/C/mail.xml:1248(para)
msgid ""
"<emphasis>'./@example.com' =&gt; 'WHITELIST',</emphasis>: adds addresses "
"that have a valid signature from \"example.com\". This is usually used for "
"discussion groups that sign thier messages."
msgstr ""

#: serverguide/C/mail.xml:1255(para)
msgid ""
"A domain can also have multiple Whitelist configurations. After, editing the "
"file restart <application>amaisd-new</application>:"
msgstr ""

#: serverguide/C/mail.xml:1264(para)
msgid ""
"In this context, once a domain has been added to the Whitelist the message "
"will not receive any anti-virus or spam filtering. This may or may not be "
"the intended behavior you wish for a domain."
msgstr ""

#: serverguide/C/mail.xml:1274(para)
msgid ""
"For <application>Postfix</application> integration, enter the following from "
"a terminal prompt:"
msgstr ""

#: serverguide/C/mail.xml:1278(command)
msgid "sudo postconf -e 'content_filter = smtp-amavis:[127.0.0.1]:10024'"
msgstr ""

#: serverguide/C/mail.xml:1280(para)
msgid ""
"Next edit <filename>/etc/postfix/master.cf</filename> and add the following "
"to the end of the file:"
msgstr ""

#: serverguide/C/mail.xml:1283(programlisting)
#, no-wrap
msgid ""
"\n"
"smtp-amavis     unix    -       -       -       -       2       smtp\n"
"        -o smtp_data_done_timeout=1200\n"
"        -o smtp_send_xforward_command=yes\n"
"        -o disable_dns_lookups=yes\n"
"        -o max_use=20\n"
"\n"
"127.0.0.1:10025 inet    n       -       -       -       -       smtpd\n"
"        -o content_filter=\n"
"        -o local_recipient_maps=\n"
"        -o relay_recipient_maps=\n"
"        -o smtpd_restriction_classes=\n"
"        -o smtpd_delay_reject=no\n"
"        -o smtpd_client_restrictions=permit_mynetworks,reject\n"
"        -o smtpd_helo_restrictions=\n"
"        -o smtpd_sender_restrictions=\n"
"        -o smtpd_recipient_restrictions=permit_mynetworks,reject\n"
"        -o smtpd_data_restrictions=reject_unauth_pipelining\n"
"        -o smtpd_end_of_data_restrictions=\n"
"        -o mynetworks=127.0.0.0/8\n"
"        -o smtpd_error_sleep_time=0\n"
"        -o smtpd_soft_error_limit=1001\n"
"        -o smtpd_hard_error_limit=1000\n"
"        -o smtpd_client_connection_count_limit=0\n"
"        -o smtpd_client_connection_rate_limit=0\n"
"        -o "
"receive_override_options=no_header_body_checks,no_unknown_recipient_checks\n"
msgstr ""

#: serverguide/C/mail.xml:1310(para)
msgid ""
"Also add the following two lines immediately below the "
"<emphasis>\"pickup\"</emphasis> transport service:"
msgstr ""

#: serverguide/C/mail.xml:1313(programlisting)
#, no-wrap
msgid ""
"\n"
"         -o content_filter=\n"
"         -o receive_override_options=no_header_body_checks\n"
msgstr ""

#: serverguide/C/mail.xml:1317(para)
msgid ""
"This will prevent messages that are generated to report on spam from being "
"classified as spam."
msgstr ""

#: serverguide/C/mail.xml:1320(para)
msgid "Now restart <application>Postfix</application>:"
msgstr ""

#: serverguide/C/mail.xml:1326(para)
msgid "Content filtering with spam and virus detection is now enabled."
msgstr ""

#: serverguide/C/mail.xml:1333(para)
msgid ""
"First, test that the <application>Amavisd-new</application> SMTP is "
"listening:"
msgstr ""

#: serverguide/C/mail.xml:1336(programlisting)
#, no-wrap
msgid ""
"\n"
"telnet localhost 10024\n"
"Trying 127.0.0.1...\n"
"Connected to localhost.\n"
"Escape character is '^]'.\n"
"220 [127.0.0.1] ESMTP amavisd-new service ready\n"
"^]\n"
msgstr ""

#: serverguide/C/mail.xml:1344(para)
msgid ""
"In the Header of messages that go through the content filter you should see:"
msgstr ""

#: serverguide/C/mail.xml:1347(programlisting)
#, no-wrap
msgid ""
"\n"
"X-Spam-Level: \n"
"X-Virus-Scanned: Debian amavisd-new at example.com\n"
"X-Spam-Status: No, hits=-2.3 tagged_above=-1000.0 required=5.0 tests=AWL, "
"BAYES_00\n"
"X-Spam-Level: \n"
msgstr ""

#: serverguide/C/mail.xml:1354(para)
msgid ""
"Your output will vary, but the important thing is that there are <emphasis>X-"
"Virus-Scanned</emphasis> and <emphasis>X-Spam-Status</emphasis> entries."
msgstr ""

#: serverguide/C/mail.xml:1362(para)
msgid ""
"The best way to figure out why something is going wrong is to check the log "
"files."
msgstr ""

#: serverguide/C/mail.xml:1367(para)
msgid ""
"For instructions on <application>Postfix</application> logging see the <xref "
"linkend=\"postfix-troubleshooting\"/> section."
msgstr ""

#: serverguide/C/mail.xml:1373(para)
msgid ""
"<application>Amavisd-new</application> uses "
"<application>Syslog</application> to send messages to "
"<filename>/var/log/mail.log</filename>. The amount of detail can be "
"increased by adding the <emphasis>$log_level</emphasis> option to "
"<filename>/etc/amavis/conf.d/50-user</filename>, and setting the value from "
"1 to 5."
msgstr ""

#: serverguide/C/mail.xml:1378(programlisting)
#, no-wrap
msgid ""
"\n"
"$log_level = 2;\n"
msgstr ""

#: serverguide/C/mail.xml:1382(para)
msgid ""
"When the <application>Amavisd-new</application> log output is increased "
"<application>Spamassassin</application> log output is also increased."
msgstr ""

#: serverguide/C/mail.xml:1389(para)
msgid ""
"The <application>ClamAV</application> log level can be increased by editing "
"<filename>/etc/clamav/clamd.conf</filename> and setting the following option:"
msgstr ""

#: serverguide/C/mail.xml:1393(programlisting)
#, no-wrap
msgid ""
"\n"
"LogVerbose true\n"
msgstr ""

#: serverguide/C/mail.xml:1396(para)
msgid ""
"By default <application>ClamAV</application> will send log messages to "
"<filename>/var/log/clamav/clamav.log</filename>."
msgstr ""

#: serverguide/C/mail.xml:1402(para)
msgid ""
"After changing an applications log settings remember to restart the service "
"for the new settings to take affect. Also, once the issue you are "
"troubleshooting is resolved it is a good idea to change the log settings "
"back to normal."
msgstr ""

#: serverguide/C/mail.xml:1410(para)
msgid "For more information on filtering mail see the following links:"
msgstr ""

#: serverguide/C/mail.xml:1416(ulink)
msgid "Amavisd-new Documentation"
msgstr ""

#: serverguide/C/mail.xml:1420(para)
msgid ""
"<ulink url=\"http://www.clamav.org/doc/latest/html/\">ClamAV "
"Documentation</ulink> and <ulink "
"url=\"http://wiki.clamav.net/Main/WebHome\">ClamAV Wiki</ulink>"
msgstr ""

#: serverguide/C/mail.xml:1427(ulink)
msgid "Spamassassin Wiki"
msgstr ""

#: serverguide/C/mail.xml:1432(ulink)
msgid "Pyzor Homepage"
msgstr ""

#: serverguide/C/mail.xml:1437(ulink)
msgid "Razor Homepage"
msgstr ""

#: serverguide/C/mail.xml:1442(ulink)
msgid "DKIM.org"
msgstr ""

#: serverguide/C/mail.xml:1446(para)
msgid ""
"Also, feel free to ask questions in the <emphasis>#ubuntu-server</emphasis> "
"IRC channel on <ulink url=\"http://freenode.net\">freenode</ulink>."
msgstr ""

#: serverguide/C/lamp-applications.xml:13(title)
msgid "LAMP Applications"
msgstr ""

#: serverguide/C/lamp-applications.xml:19(para)
msgid ""
"LAMP installations (Linux + Apache + MySQL + PHP) are a popular setup for "
"Ubuntu servers. There is a plethora of Open Source applications written "
"using the LAMP application stack. Some popular LAMP applications are Wiki's, "
"Content Management Systems, and Management Software such as phpMyAdmin."
msgstr ""

#: serverguide/C/lamp-applications.xml:26(para)
msgid ""
"One advantage of LAMP is the substantial flexibility for different database, "
"web server, and scripting languages. Popular substitutes for MySQL include "
"Posgresql and SQLite. Python, Perl, and Ruby are also frequently used "
"instead of PHP."
msgstr ""

#: serverguide/C/lamp-applications.xml:32(para)
msgid ""
"The traditional way to install most <emphasis>LAMP</emphasis> applications "
"is:"
msgstr ""

#: serverguide/C/lamp-applications.xml:38(para)
msgid "Download an archive containing the application source files."
msgstr ""

#: serverguide/C/lamp-applications.xml:43(para)
msgid ""
"Unpack the archive, usually in a directory accessible to a web server."
msgstr ""

#: serverguide/C/lamp-applications.xml:48(para)
msgid ""
"Depending on where the source was extracted, configure a web browser to "
"serve the files."
msgstr ""

#: serverguide/C/lamp-applications.xml:53(para)
msgid "Configure the application to connect to the database."
msgstr ""

#: serverguide/C/lamp-applications.xml:58(para)
msgid ""
"Run a script, or browse to a page of the application, to install the "
"database needed by the application."
msgstr ""

#: serverguide/C/lamp-applications.xml:63(para)
msgid ""
"Once the steps above, or similar steps, are completed you are ready to begin "
"using the application."
msgstr ""

#: serverguide/C/lamp-applications.xml:69(para)
msgid ""
"A disadvantage of using this approach is that the application files are not "
"placed in the file system in a standard way, which can cause confusion as to "
"where the application is installed. Another larger disadvantage is updating "
"the application. When a new version is released, the same process used to "
"install the application is needed to apply updates."
msgstr ""

#: serverguide/C/lamp-applications.xml:76(para)
msgid ""
"Fortunately, a number of <emphasis>LAMP</emphasis> applications are already "
"packaged for Ubuntu, and are available for installation in the same way as "
"non-LAMP applications. Depending on the application some extra configuration "
"and setup steps may be needed, however."
msgstr ""

#: serverguide/C/lamp-applications.xml:82(para)
msgid ""
"This section covers howto install and configure the Wiki applications "
"<application>MoinMoin</application>, <application>MediaWiki</application>, "
"and the MySQL management application <application>phpMyAdmin</application>."
msgstr ""

#: serverguide/C/lamp-applications.xml:88(para)
msgid ""
"A Wiki is a website that allows the visitors to easily add, remove and "
"modify available content easily. The ease of interaction and operation makes "
"Wiki an effective tool for mass collaborative authoring. The term Wiki is "
"also referred to the collaborative software."
msgstr ""

#: serverguide/C/lamp-applications.xml:100(title)
msgid "Moin Moin"
msgstr ""

#: serverguide/C/lamp-applications.xml:102(para)
msgid ""
"MoinMoin is a Wiki engine implemented in Python, based on the PikiPiki Wiki "
"engine, and licensed under the GNU GPL."
msgstr ""

#: serverguide/C/lamp-applications.xml:110(para)
msgid ""
"To install <application>MoinMoin</application>, run the following command in "
"the command prompt:"
msgstr ""

#: serverguide/C/lamp-applications.xml:116(command)
msgid "sudo apt-get install python-moinmoin"
msgstr ""

#: serverguide/C/lamp-applications.xml:119(para)
msgid ""
"You should also install <application>apache2</application> web server. For "
"installing <application>apache2</application> web server, please refer to "
"<xref linkend=\"http-installation\"/> sub-section in <xref "
"linkend=\"httpd\"/> section."
msgstr ""

#: serverguide/C/lamp-applications.xml:130(para)
msgid ""
"For configuring your first Wiki application, please run the following set of "
"commands. Let us assume that you are creating a Wiki named "
"<emphasis>mywiki</emphasis>:"
msgstr ""

#: serverguide/C/lamp-applications.xml:137(command)
msgid "cd /usr/share/moin"
msgstr ""

#: serverguide/C/lamp-applications.xml:138(command)
msgid "sudo mkdir mywiki"
msgstr ""

#: serverguide/C/lamp-applications.xml:139(command)
msgid "sudo cp -R data mywiki"
msgstr ""

#: serverguide/C/lamp-applications.xml:140(command)
msgid "sudo cp -R underlay mywiki"
msgstr ""

#: serverguide/C/lamp-applications.xml:141(command)
msgid "sudo cp server/moin.cgi mywiki"
msgstr ""

#: serverguide/C/lamp-applications.xml:142(command)
msgid "sudo chown -R www-data.www-data mywiki"
msgstr ""

#: serverguide/C/lamp-applications.xml:143(command)
msgid "sudo chmod -R ug+rwX mywiki"
msgstr ""

#: serverguide/C/lamp-applications.xml:144(command)
msgid "sudo chmod -R o-rwx mywiki"
msgstr ""

#: serverguide/C/lamp-applications.xml:147(para)
msgid ""
"Now you should configure <application>MoinMoin</application> to find your "
"new Wiki <emphasis>mywiki</emphasis>. To configure "
"<application>MoinMoin</application>, open "
"<filename>/etc/moin/mywiki.py</filename> file and change the following line:"
msgstr ""

#: serverguide/C/lamp-applications.xml:155(programlisting)
#, no-wrap
msgid "data_dir = '/org/mywiki/data'"
msgstr ""

#: serverguide/C/lamp-applications.xml:157(para)
msgid "to"
msgstr ""

#: serverguide/C/lamp-applications.xml:161(programlisting)
#, no-wrap
msgid "data_dir = '/usr/share/moin/mywiki/data'"
msgstr ""

#: serverguide/C/lamp-applications.xml:163(para)
msgid ""
"Also, below the <emphasis>data_dir</emphasis> option add the "
"<emphasis>data_underlay_dir</emphasis>:"
msgstr ""

#: serverguide/C/lamp-applications.xml:167(programlisting)
#, no-wrap
msgid ""
"\n"
"data_underlay_dir='/usr/share/moin/mywiki/underlay'\n"
msgstr ""

#: serverguide/C/lamp-applications.xml:172(para)
msgid ""
"If the <filename>/etc/moin/mywiki.py</filename> file does not exists, you "
"should copy <filename>/etc/moin/moinmaster.py</filename> file to "
"<filename>/etc/moin/mywiki.py</filename> file and do the above mentioned "
"change."
msgstr ""

#: serverguide/C/lamp-applications.xml:181(para)
msgid ""
"If you have named your Wiki as <emphasis>my_wiki_name</emphasis> you should "
"insert a line <quote>(\"my_wiki_name\", r\".*\")</quote> in "
"<filename>/etc/moin/farmconfig.py</filename> file after the line "
"<quote>(\"mywiki\", r\".*\")</quote>."
msgstr ""

#: serverguide/C/lamp-applications.xml:189(para)
msgid ""
"Once you have configured <application>MoinMoin</application> to find your "
"first Wiki application <emphasis>mywiki</emphasis>, you should configure "
"<application>apache2</application> and make it ready for your Wiki "
"application."
msgstr ""

#: serverguide/C/lamp-applications.xml:196(para)
msgid ""
"You should add the following lines in <filename>/etc/apache2/sites-"
"available/default</filename> file inside the <quote>&lt;VirtualHost "
"*&gt;</quote> tag:"
msgstr ""

#: serverguide/C/lamp-applications.xml:202(programlisting)
#, no-wrap
msgid ""
"\n"
"### moin\n"
"  ScriptAlias /mywiki \"/usr/share/moin/mywiki/moin.cgi\"\n"
"  alias /moin_static181 \"/usr/share/moin/htdocs\"\n"
"  &lt;Directory /usr/share/moin/htdocs&gt;\n"
"  Order allow,deny\n"
"  allow from all\n"
"  &lt;/Directory&gt;\n"
"### end moin\n"
msgstr ""

#: serverguide/C/lamp-applications.xml:213(para)
msgid ""
"Once you configure the <application>apache2</application> web server and "
"make it ready for your Wiki application, you should restart it. You can run "
"the following command to restart the <application>apache2</application> web "
"server:"
msgstr ""

#: serverguide/C/lamp-applications.xml:226(title)
msgid "Verification"
msgstr ""

#: serverguide/C/lamp-applications.xml:228(para)
msgid ""
"You can verify the Wiki application and see if it works by pointing your web "
"browser to the following URL:"
msgstr ""

#: serverguide/C/lamp-applications.xml:232(programlisting)
#, no-wrap
msgid ""
"\n"
"http://localhost/mywiki\n"
msgstr ""

#: serverguide/C/lamp-applications.xml:236(para)
msgid ""
"You can also run the test command by pointing your web browser to the "
"following URL:"
msgstr ""

#: serverguide/C/lamp-applications.xml:241(programlisting)
#, no-wrap
msgid ""
"\n"
"http://localhost/mywiki?action=test\n"
msgstr ""

#: serverguide/C/lamp-applications.xml:245(para)
msgid ""
"For more details, please refer to the <ulink "
"url=\"http://moinmo.in/\">MoinMoin</ulink> web site."
msgstr ""

#: serverguide/C/lamp-applications.xml:256(para)
msgid ""
"For more information see the <ulink url=\"http://moinmo.in/\">moinmoin "
"Wiki</ulink>."
msgstr ""

#: serverguide/C/lamp-applications.xml:265(title)
msgid "MediaWiki"
msgstr ""

#: serverguide/C/lamp-applications.xml:267(para)
msgid ""
"MediaWiki is an web based Wiki software written in the PHP language. It can "
"either use <application>MySQL</application> or "
"<application>PostgreSQL</application> Database Management System."
msgstr ""

#: serverguide/C/lamp-applications.xml:277(para)
msgid ""
"Before installing <application>MediaWiki</application> you should also "
"install <application>Apache2</application>, the "
"<application>PHP5</application> scripting language and Database a Management "
"System. <application>MySQL</application> or "
"<application>PostgreSQL</application> are the most common, choose one "
"depending on your need. Please refer to those sections in this manual for "
"installation instructions."
msgstr ""

#: serverguide/C/lamp-applications.xml:285(para)
msgid ""
"To install <application>MediaWiki</application>, run the following command "
"in the command prompt:"
msgstr ""

#: serverguide/C/lamp-applications.xml:291(command)
msgid "sudo apt-get install mediawiki php5-gd"
msgstr ""

#: serverguide/C/lamp-applications.xml:294(para)
msgid ""
"For additional <application>MediaWiki</application> functionality see the "
"<application>mediawiki-extensions</application> package."
msgstr ""

#: serverguide/C/lamp-applications.xml:304(para)
msgid "Run the following commands to configure MediaWiki:"
msgstr ""

#: serverguide/C/lamp-applications.xml:309(command)
msgid "sudo ln -s /var/lib/mediawiki /var/www/mediawiki"
msgstr ""

#: serverguide/C/lamp-applications.xml:312(para)
msgid "Point your web browser to the following URL for MediaWiki setup:"
msgstr ""

#: serverguide/C/lamp-applications.xml:316(programlisting)
#, no-wrap
msgid ""
"\n"
"http://localhost/mediawiki/config/index.php\n"
msgstr ""

#: serverguide/C/lamp-applications.xml:321(para)
msgid ""
"Please read the <quote>Checking environment...</quote> section in this page. "
"You should be able to fix many issues by carefully reading this section."
msgstr ""

#: serverguide/C/lamp-applications.xml:334(para)
msgid ""
"For more details, please refer to the <ulink "
"url=\"http://www.mediawiki.org\">MediaWiki</ulink> web site."
msgstr ""

#: serverguide/C/lamp-applications.xml:340(para)
msgid ""
"The <ulink url=\"http://www.packtpub.com/Mediawiki/book\">MediaWiki "
"Administrators Tutorial Guide</ulink> contains a wealth of information for "
"new MediaWiki administrators."
msgstr ""

#: serverguide/C/lamp-applications.xml:350(title)
msgid "phpMyAdmin"
msgstr ""

#: serverguide/C/lamp-applications.xml:352(para)
msgid ""
"<application>phpMyAdmin</application> is a LAMP application specifically "
"written for administering <application>MySQL</application> servers. Written "
"in <application>PHP</application>, and accessed through a web browser, "
"phpMyAdmin provides a graphical interface for database administration tasks."
msgstr ""

#: serverguide/C/lamp-applications.xml:361(para)
msgid ""
"Before installing <application>phpMyAdmin</application> you will need access "
"to a <application>MySQL</application> database either on the same host as "
"that phpMyAdmin is installed on, or on a host accessible over the network. "
"For more information see <xref linkend=\"mysql\"/>. From a terminal prompt "
"enter:"
msgstr ""

#: serverguide/C/lamp-applications.xml:368(command)
msgid "sudo apt-get install phpmyadmin"
msgstr ""

#: serverguide/C/lamp-applications.xml:371(para)
msgid ""
"At the prompt choose which web server to be configured for "
"<application>phpMyAdmin</application>. The rest of this section will use "
"<application>Apache2</application> for the web server."
msgstr ""

#: serverguide/C/lamp-applications.xml:376(para)
msgid ""
"In a browser go to <emphasis>http://servername/phpmyadmin</emphasis>, "
"replacing <emphasis role=\"italic\">serveranme</emphasis> with the server's "
"actual hostname. At the login, page enter <emphasis>root</emphasis> for the "
"<emphasis>username</emphasis>, or another <application>MySQL</application> "
"user if you any setup, and enter the <application>MySQL</application> user's "
"password."
msgstr ""

#: serverguide/C/lamp-applications.xml:383(para)
msgid ""
"Once logged in you can reset the <emphasis>root</emphasis> password if "
"needed, create users, create/destroy databases and tables, etc."
msgstr ""

#: serverguide/C/lamp-applications.xml:391(para)
msgid ""
"The configuration files for <application>phpMyAdmin</application> are "
"located in <filename>/etc/phpmyadmin</filename>. The main configuration file "
"is <filename>/etc/phpmyadmin/config.inc.php</filename>. This file contains "
"configuration options that apply globally to "
"<application>phpMyAdmin</application>."
msgstr ""

#: serverguide/C/lamp-applications.xml:397(para)
msgid ""
"To use <application>phpMyAdmin</application> to administer a MySQL database "
"hosted on another server, adjust the following in "
"<filename>/etc/phpmyadmin/config.inc.php</filename>:"
msgstr ""

#: serverguide/C/lamp-applications.xml:402(programlisting)
#, no-wrap
msgid ""
"\n"
"$cfg['Servers'][$i]['host'] = 'db_server';\n"
msgstr ""

#: serverguide/C/lamp-applications.xml:407(para)
msgid ""
"Replace <emphasis role=\"italic\">db_server</emphasis> with the actual "
"remote database server name or IP address. Also, be sure that the "
"<application>phpMyAdmin</application> host has permissions to access the "
"remote database."
msgstr ""

#: serverguide/C/lamp-applications.xml:413(para)
msgid ""
"Once configured, log out of <application>phpMyAdmin</application> and back "
"in, and you should be accessing the new server."
msgstr ""

#: serverguide/C/lamp-applications.xml:417(para)
msgid ""
"The <filename>config.header.inc.php</filename> and "
"<filename>config.footer.inc.php</filename> files are used to add a HTML "
"header and footer to <application>phpMyAdmin</application>."
msgstr ""

#: serverguide/C/lamp-applications.xml:422(para)
msgid ""
"Another important configuration file is "
"<filename>/etc/phpmyadmin/apache.conf</filename>, this file is symlinked to "
"<filename>/etc/apache2/conf.d/phpmyadmin.conf</filename>, and is used to "
"configure <application>Apache2</application> to serve the "
"<application>phpMyAdmin</application> site. The file contains directives for "
"loading <application>PHP</application>, directory permissions, etc. For more "
"information on configuring <application>Apache2</application> see <xref "
"linkend=\"httpd\"/>."
msgstr ""

#: serverguide/C/lamp-applications.xml:436(para)
msgid ""
"The <application>phpMyAdmin</application> documentation comes installed with "
"the package and can be accessed from the <emphasis>phpMyAdmin "
"Documentation</emphasis> link (a question mark with a box around it) under "
"the phpMyAdmin logo. The official docs can also be access on the <ulink "
"url=\"http://www.phpmyadmin.net/home_page/docs.php\">phpMyAdmin</ulink> site."
msgstr ""

#: serverguide/C/lamp-applications.xml:443(para)
msgid ""
"Also, <ulink url=\"http://www.packtpub.com/phpmyadmin-3rd-"
"edition/book\">Mastering phpMyAdmin</ulink> is a great resource."
msgstr ""

#: serverguide/C/jeos.xml:28(para)
msgid ""
"While installing from the Server Edition ISO (pressing "
"<emphasis>F4</emphasis> on the first screen will allow you to pick \"Minimal "
"installation\", which is the package selection equivalent to JeOS)"
msgstr ""

#: serverguide/C/jeos.xml:211(para)
msgid ""
"Because of the nature of operations performed by vmbuilder, it needs to have "
"root priviledge, hence the use of sudo."
msgstr ""

#: serverguide/C/jeos.xml:321(programlisting)
#, no-wrap
msgid ""
"\n"
"          &lt;interface type='bridge'&gt;\n"
"            &lt;source network='br0'/&gt;\n"
"          &lt;/interface&gt;\n"
msgstr ""

#: serverguide/C/jeos.xml:499(para)
msgid ""
"Another convenient tool that we want to have on our appliance is OpenSSH, as "
"it will provide our admins to access to access the appliance remotely. "
"However, pushing in the wild an appliance with a pre-installed OpenSSH "
"server is a big security risk as all these server will share the same secret "
"key, making it very easy for hackers to target our appliance with all the "
"tools they need to crack it open in a breeze. As for the user password, we "
"will instead rely on a script that will install OpenSSH the first time a "
"user logs in so that the key generated will be different for each appliance. "
"For this we'll use a <emphasis>--firstboot</emphasis> script, as it does not "
"need any user interaction."
msgstr ""

#: serverguide/C/introduction.xml:14(para)
msgid "Welcome to the <emphasis>Ubuntu Server Guide</emphasis>!"
msgstr ""

#: serverguide/C/introduction.xml:15(para)
msgid ""
"Here you can find information on how to install and configure various server "
"applications. It is a step-by-step, task-oriented guide for configuring and "
"customizing your system."
msgstr ""

#: serverguide/C/introduction.xml:19(para)
msgid ""
"This guide assumes you have a basic understanding of your Ubuntu system. "
"Some installation details are covered in <xref linkend=\"installation\"/>, "
"but if you need detailed instructions installing Ubuntu please refer to the "
"<ulink url=\"https://help.ubuntu.com/9.04/installation-guide/\">Ubuntu "
"Installation Guide</ulink>."
msgstr ""

#: serverguide/C/introduction.xml:25(para)
msgid ""
"A HTML version of the manual is available online at <ulink "
"url=\"http://help.ubuntu.com\">the Ubuntu Documentation website</ulink>. The "
"HTML files are also available in the <application>ubuntu-"
"serverguide</application> package. See <xref linkend=\"package-"
"management\"/> for details on installing packages."
msgstr ""

#: serverguide/C/introduction.xml:32(para)
msgid ""
"If you choose to install the <application>ubuntu-serverguide</application> "
"you can view this document from a console by:"
msgstr ""

#: serverguide/C/introduction.xml:36(command)
msgid "w3m /usr/share/ubuntu-serverguide/html/en_GB/index.html"
msgstr ""

#: serverguide/C/introduction.xml:39(para)
msgid "Replace <emphasis>en_GB</emphasis> with your language localization."
msgstr ""

#: serverguide/C/introduction.xml:53(title)
msgid "Support"
msgstr ""

#: serverguide/C/introduction.xml:55(para)
msgid ""
"There a couple of different ways that Ubuntu Server Edition is supported, "
"commercial support and community support. The main commercial support (and "
"development funding) is available from Canonical Ltd. They supply reasonably "
"priced support contracts on a per desktop or per server basis. For more "
"information see the <ulink "
"url=\"http://www.canonical.com/services/support\">Canonical Services</ulink> "
"page."
msgstr ""

#: serverguide/C/introduction.xml:62(para)
msgid ""
"Community support is also provided by dedicated individuals, and companies, "
"that wish to make Ubuntu the best distribution possible. Support is provided "
"through multiple mailing lists, IRC channels, forums, blogs, wikis, etc. The "
"large amount of information available can be overwhelming, but a good search "
"engine query can usually provide an answer to your questions. See the <ulink "
"url=\"http://www.ubuntu.com/support\">Ubuntu Support</ulink> page for more "
"information."
msgstr ""

#: serverguide/C/installation.xml:14(para)
msgid ""
"This chapter provides a quick overview of installing Ubuntu 9.04 Server "
"Edition. For more detailed instructions, please refer to the <ulink "
"url=\"https://help.ubuntu.com/9.04/installation-guide/\">Ubuntu Installation "
"Guide</ulink>."
msgstr ""

#: serverguide/C/installation.xml:19(title)
msgid "Preparing to Install"
msgstr ""

#: serverguide/C/installation.xml:20(para)
msgid ""
"This section explains various aspects to consider before starting the "
"installation."
msgstr ""

#: serverguide/C/installation.xml:24(title)
msgid "System Requirements"
msgstr ""

#: serverguide/C/installation.xml:25(para)
msgid ""
"Ubuntu 9.04 Server Edition supports two (2) major architectures: Intel x86 "
"and AMD64. The table below lists recommended hardware specifications. "
"Depending on your needs, you might manage with less than this. However, most "
"users risk being frustrated if they ignore these suggestions."
msgstr ""

#: serverguide/C/installation.xml:27(title)
msgid "Recommended Minimum Requirements"
msgstr ""

#: serverguide/C/installation.xml:35(para)
msgid "Install Type"
msgstr ""

#: serverguide/C/installation.xml:36(para)
msgid "RAM"
msgstr ""

#: serverguide/C/installation.xml:37(para)
msgid "Hard Drive Space"
msgstr ""

#: serverguide/C/installation.xml:40(para)
msgid "Base System"
msgstr ""

#: serverguide/C/installation.xml:41(para)
msgid "All Tasks Installed"
msgstr ""

#: serverguide/C/installation.xml:46(para)
msgid "Server"
msgstr ""

#: serverguide/C/installation.xml:47(para)
msgid "128 megabytes"
msgstr ""

#: serverguide/C/installation.xml:48(para)
msgid "500 megabytes"
msgstr ""

#: serverguide/C/installation.xml:49(para)
msgid "1 gigabyte"
msgstr ""

#: serverguide/C/installation.xml:54(para)
msgid ""
"The Server Edition provides a common base for all sorts of server "
"applications. It is a minimalist design providing a platform for the desired "
"services, such as file/print services, web hosting, email hosting, etc."
msgstr ""

#: serverguide/C/installation.xml:62(title)
msgid "Server and Desktop Differences"
msgstr ""

#: serverguide/C/installation.xml:63(para)
msgid ""
"There are a few differences between the <emphasis>Ubuntu Server "
"Edition</emphasis> and the <emphasis>Ubuntu Desktop Edition</emphasis>. It "
"should be noted that both editions use the same "
"<application>apt</application> repositories. Making it just as easy to "
"install a <emphasis role=\"italic\">server</emphasis> application on the "
"Desktop Edition as it is on the Server Edition."
msgstr ""

#: serverguide/C/installation.xml:69(para)
msgid ""
"The differences between the two editions are the lack of an X window "
"environment in the Server Edition, the installation process, and different "
"Kernel options."
msgstr ""

#: serverguide/C/installation.xml:76(title)
msgid "Kernel Differences:"
msgstr ""

#: serverguide/C/installation.xml:79(para)
msgid ""
"The Server Edition uses the <emphasis>Deadline</emphasis> I/O scheduler "
"instead of the <emphasis>CFQ</emphasis> scheduler used by the Desktop "
"Edition."
msgstr ""

#: serverguide/C/installation.xml:85(para)
msgid "<emphasis>Preemption</emphasis> is turned off in the Server Edition."
msgstr ""

#: serverguide/C/installation.xml:90(para)
msgid ""
"The timer interrupt is 100 Hz in the Server Edition and 250 Hz in the "
"Desktop Edition."
msgstr ""

#: serverguide/C/installation.xml:96(para)
msgid ""
"When running a 64-bit version of Ubuntu on 64-bit processors you are not "
"limited by memory addressing space."
msgstr ""

#: serverguide/C/installation.xml:101(para)
msgid ""
"To see all kernel configuration options you can look through "
"<filename>/boot/config-2.6.27-server</filename>. Also, <ulink "
"url=\"http://www.kroah.com/lkn/\">Linux Kernel in a Nutshell</ulink> is a "
"great resource on the options available."
msgstr ""

#: serverguide/C/installation.xml:110(title)
msgid "Backing Up"
msgstr ""

#: serverguide/C/installation.xml:113(para)
msgid ""
"Before installing <application>Ubuntu Server Edition</application> you "
"should make sure all data on the system is backed up. See <xref "
"linkend=\"backups\"/> for backup options."
msgstr ""

#: serverguide/C/installation.xml:117(para)
msgid ""
"If this is not the first time an operating system has been installed on your "
"computer, it is likely you will need to re-partition your disk to make room "
"for Ubuntu."
msgstr ""

#: serverguide/C/installation.xml:121(para)
msgid ""
"Any time you partition your disk, you should be prepared to lose everything "
"on the disk should you make a mistake or something goes wrong during "
"partitioning. The programs used in installation are quite reliable, most "
"have seen years of use, but they also perform destructive actions."
msgstr ""

#: serverguide/C/installation.xml:133(title)
msgid "Installing from CD"
msgstr ""

#: serverguide/C/installation.xml:134(para)
msgid ""
"The basic steps to install Ubuntu Server Edition from CD are the same for "
"installing any operating system from CD. Unlike the <emphasis>Desktop "
"Edition</emphasis> the <emphasis>Server Edition</emphasis> does not include "
"a graphical installation program. Instead the Server Edition uses a console "
"menu based process."
msgstr ""

#: serverguide/C/installation.xml:141(para)
msgid ""
"First, download and burn the appropriate ISO file from the <ulink "
"url=\"http://www.ubuntu.com/getubuntu/download\"> Ubuntu web site</ulink>."
msgstr ""

#: serverguide/C/installation.xml:147(para)
msgid "Boot the system from the CD-ROM drive."
msgstr ""

#: serverguide/C/installation.xml:152(para)
msgid ""
"At the boot prompt you will be asked to select the language. Afterwards the "
"installation process begins by asking for your keyboard layout."
msgstr ""

#: serverguide/C/installation.xml:158(para)
msgid ""
"The installer then discovers your hardware configuration, and configures the "
"network settings using DHCP. If you do not wish to use DHCP at the next "
"screen choose \"Go Back\", and you have the option to \"Configure the "
"network manually\"."
msgstr ""

#: serverguide/C/installation.xml:165(para)
msgid "Next, the installer asks for the system's hostname and Time Zone."
msgstr ""

#: serverguide/C/installation.xml:170(para)
msgid ""
"You can then choose from several options to configure the hard drive layout. "
"For advanced disk options see <xref linkend=\"advanced-installation\"/>."
msgstr ""

#: serverguide/C/installation.xml:176(para)
msgid "The Ubuntu base system is then installed."
msgstr ""

#: serverguide/C/installation.xml:181(para)
msgid ""
"A new user is setup, this user will have <emphasis>root</emphasis> access "
"through the <application>sudo</application> utility."
msgstr ""

#: serverguide/C/installation.xml:187(para)
msgid ""
"After the user is setup, you will be asked to encrypt your <filename "
"role=\"directory\">home</filename> directory."
msgstr ""

#: serverguide/C/installation.xml:193(para)
msgid ""
"The next step in the installation process is to decide how you want to "
"update the system. There are three options:"
msgstr ""

#: serverguide/C/installation.xml:199(para)
msgid ""
"<emphasis>No automatic updates</emphasis>: this requires an administrator to "
"log into the machine and manually install updates."
msgstr ""

#: serverguide/C/installation.xml:205(para)
msgid ""
"<emphasis>Install security updates Automatically</emphasis>: will install "
"the <application>unattended-upgrades</application> package, which will "
"install security updates without the intervention of an administrator. For "
"more details see <xref linkend=\"automatic-updates\"/>."
msgstr ""

#: serverguide/C/installation.xml:212(para)
msgid ""
"<emphasis>Manage the system with Landscape</emphasis>: Landscape is a paid "
"service provided by Canonical to help manager your Ubuntu machines. See the "
"<ulink url=\"http://www.canonical.com/projects/landscape\">Landscape</ulink> "
"site for details."
msgstr ""

#: serverguide/C/installation.xml:221(para)
msgid ""
"You now have the option to install, or not install, several package tasks. "
"See <xref linkend=\"install-tasks\"/> for details. Also, there is an option "
"to launch <application>aptitude</application> to choose specific packages to "
"install. For more information see <xref linkend=\"aptitude\"/>."
msgstr ""

#: serverguide/C/installation.xml:229(para)
msgid "Finally, the last step before rebooting is to set the clock to UTC."
msgstr ""

#: serverguide/C/installation.xml:235(para)
msgid ""
"If at any point during installation you are not satisfied by the default "
"setting, use the \"Go Back\" function at any prompt to be brought to a "
"detailed installation menu that will allow you to modify the default "
"settings."
msgstr ""

#: serverguide/C/installation.xml:240(para)
msgid ""
"At some point during the installation process you may want to read the help "
"screen provided by the installation system. To do this, press F1."
msgstr ""

#: serverguide/C/installation.xml:245(para)
msgid ""
"Once again, for detailed instructions see the <ulink "
"url=\"https://help.ubuntu.com/9.04/installation-guide/\"> Ubuntu "
"Installation Guide</ulink>."
msgstr ""

#: serverguide/C/installation.xml:251(title)
msgid "Package Tasks"
msgstr ""

#: serverguide/C/installation.xml:252(para)
msgid ""
"During the Server Edition installation you have the option of installing "
"additional packages from the CD. The packages are grouped by the type of "
"service they provide."
msgstr ""

#: serverguide/C/installation.xml:258(para)
msgid "DNS server: Selects the BIND DNS server and its documentation."
msgstr ""

#: serverguide/C/installation.xml:263(para)
msgid "LAMP server: Selects a ready-made Linux/Apache/MySQL/PHP server."
msgstr ""

#: serverguide/C/installation.xml:268(para)
msgid ""
"Mail server: This task selects a variety of package useful for a general "
"purpose mail server system."
msgstr ""

#: serverguide/C/installation.xml:273(para)
msgid "OpenSSH server: Selects packages needed for an OpenSSH server."
msgstr ""

#: serverguide/C/installation.xml:278(para)
msgid ""
"PostgreSQL database: This task selects client and server packages for the "
"PostgreSQL database."
msgstr ""

#: serverguide/C/installation.xml:283(para)
msgid "Print server: This task sets up your system to be a print server."
msgstr ""

#: serverguide/C/installation.xml:288(para)
msgid ""
"Samba File server: This task sets up your system to be a Samba file server, "
"which is especially suitable in networks with both Windows and Linux systems."
msgstr ""

#: serverguide/C/installation.xml:294(para)
msgid ""
"Tomcat server: Installs the Apache Tomcat and needed dependencies Java, gcj, "
"etc."
msgstr ""

#: serverguide/C/installation.xml:299(para)
msgid ""
"Virtual machine host: Includes packages needed to run KVM virtual machines."
msgstr ""

#: serverguide/C/installation.xml:304(para)
msgid ""
"Installing the package groups is accomplished using the "
"<application>tasksel</application> utility. One of the important difference "
"between Ubuntu (or Debian) and other GNU/Linux distribution is that, when "
"installed, a package is also configured to reasonable defaults, eventually "
"prompting you for additional required information. Likewise, when installing "
"a task, the packages are not only installed, but also configured to provided "
"a fully integrated service."
msgstr ""

#: serverguide/C/installation.xml:311(para)
msgid ""
"Once the installation process has finished you can view a list of available "
"tasks by entering the following from a terminal prompt:"
msgstr ""

#: serverguide/C/installation.xml:316(command)
msgid "tasksel --list-tasks"
msgstr ""

#: serverguide/C/installation.xml:319(para)
msgid ""
"The output will list tasks from other Ubuntu based distributions such as "
"Kubuntu and Edubuntu. Note that you can also invoke the "
"<command>tasksel</command> command by itself, which will bring up a menu of "
"the different tasks available."
msgstr ""

#: serverguide/C/installation.xml:325(para)
msgid ""
"You can view a list of which packages are installed with each task using the "
"<emphasis>--task-packages</emphasis> option. For example, to list the "
"packages installed with the <emphasis>DNS Server</emphasis> task enter the "
"following:"
msgstr ""

#: serverguide/C/installation.xml:330(command)
msgid "tasksel --task-packages dns-server"
msgstr ""

#: serverguide/C/installation.xml:332(para)
msgid "The output of the command should list:"
msgstr ""

#: serverguide/C/installation.xml:335(programlisting)
#, no-wrap
msgid ""
"\n"
"bind9-doc\n"
"bind9\n"
msgstr ""

#: serverguide/C/installation.xml:339(para)
msgid ""
"Also, if you did not install one of the tasks during the installation "
"process, but for example you decide to make your new LAMP server a DNS "
"server as well. Simply insert the installation CD and from a terminal:"
msgstr ""

#: serverguide/C/installation.xml:344(command)
msgid "sudo tasksel install dns-server"
msgstr ""

#: serverguide/C/installation.xml:349(title)
msgid "Upgrading"
msgstr ""

#: serverguide/C/installation.xml:350(para)
msgid ""
"There are several ways to upgrade from one Ubuntu release to another. This "
"section gives an overview of the recommended upgrade method."
msgstr ""

#: serverguide/C/installation.xml:354(title) serverguide/C/installation.xml:369(command)
msgid "do-release-upgrade"
msgstr ""

#: serverguide/C/installation.xml:355(para)
msgid ""
"The recommended way to upgrade a Server Edition installation is to use the "
"<application>do-release-upgrade</application> utility. Part of the "
"<emphasis>update-manager-core</emphasis> package, it does not have any "
"graphical dependencies and is installed by default."
msgstr ""

#: serverguide/C/installation.xml:360(para)
msgid ""
"Debian based systems can also be upgraded by using <command>apt-get dist-"
"upgrade</command>. However, using <application>do-release-"
"upgrade</application> is recommended because it has the ability to handle "
"system configuration changes sometimes needed between releases."
msgstr ""

#: serverguide/C/installation.xml:365(para)
msgid "To upgrade to a newer release, from a terminal prompt enter:"
msgstr ""

#: serverguide/C/installation.xml:371(para)
msgid ""
"It is also possible to use <application>do-release-upgrade</application> to "
"upgrade to a development version of Ubuntu. To accomplish this use the "
"<emphasis>-d</emphasis> switch:"
msgstr ""

#: serverguide/C/installation.xml:376(command)
msgid "do-release-upgrade -d"
msgstr ""

#: serverguide/C/installation.xml:379(para)
msgid ""
"Upgrading to a development release is <emphasis>not</emphasis> recommended "
"for production environments."
msgstr ""

#: serverguide/C/installation.xml:386(title)
msgid "Advanced Installation"
msgstr ""

#: serverguide/C/installation.xml:389(title)
msgid "Software RAID"
msgstr ""

#: serverguide/C/installation.xml:391(para)
msgid ""
"RAID is a method of configuring multiple hard drives to act as one, reducing "
"the probability of catastrophic data loss in case of drive failure. RAID is "
"implemented in either software (where the operating system knows about both "
"drives and actively maintains both of them) or hardware (where a special "
"controller makes the OS think there's only one drive and maintains the "
"drives 'invisibly')."
msgstr ""

#: serverguide/C/installation.xml:398(para)
msgid ""
"The RAID software included with current versions of Linux (and Ubuntu) is "
"based on the <application>'mdadm'</application> driver and works very well, "
"better even than many so-called 'hardware' RAID controllers. This section "
"will guide you through installing Ubuntu Server Edition using two RAID1 "
"partitions on two physical hard drives, one for <emphasis>/</emphasis> and "
"another for <emphasis>swap</emphasis>."
msgstr ""

#: serverguide/C/installation.xml:408(para) serverguide/C/installation.xml:925(para)
msgid ""
"Follow the installation steps until you get to the <emphasis>Partition "
"disks</emphasis> step, then:"
msgstr ""

#: serverguide/C/installation.xml:415(para)
msgid "Select <emphasis>Manual</emphasis> as the partition method."
msgstr ""

#: serverguide/C/installation.xml:422(para)
msgid ""
"Select the first hard drive, and agree to <emphasis>\"Create a new empty "
"partition table on this device?\"</emphasis>."
msgstr ""

#: serverguide/C/installation.xml:426(para)
msgid ""
"Repeat this step for each drive you wish to be part of the RAID array."
msgstr ""

#: serverguide/C/installation.xml:433(para)
msgid ""
"Select the <emphasis>\"FREE SPACE\"</emphasis> on the first drive then "
"select <emphasis>\"Create a new partition\"</emphasis>."
msgstr ""

#: serverguide/C/installation.xml:440(para)
msgid ""
"Next, select the <emphasis>Size</emphasis> of the partition. This partition "
"will be the <emphasis>swap</emphasis> partition, and a general rule for swap "
"size is twice that of RAM. Enter the partition size, then choose "
"<emphasis>Primary</emphasis>, then <emphasis>Beginning</emphasis>."
msgstr ""

#: serverguide/C/installation.xml:449(para)
msgid ""
"Select the <emphasis>\"Use as:\"</emphasis> line at the top. By default this "
"is <emphasis role=\"italic\">\"Ext3 journaling file system\"</emphasis>, "
"change that to <emphasis>\"physical volume for RAID\"</emphasis> then "
"<emphasis>\"Done setting up partition\"</emphasis>."
msgstr ""

#: serverguide/C/installation.xml:458(para)
msgid ""
"For the <emphasis>/</emphasis> partition once again select <emphasis>\"Free "
"Space\"</emphasis> on the first drive then <emphasis>\"Create a new "
"partition\"</emphasis>."
msgstr ""

#: serverguide/C/installation.xml:466(para)
msgid ""
"Use the rest of the free space on the drive and choose "
"<emphasis>Continue</emphasis>, then <emphasis>Primary</emphasis>."
msgstr ""

#: serverguide/C/installation.xml:473(para)
msgid ""
"As with the swap partition, select the <emphasis>\"Use as:\"</emphasis> line "
"at the top, changing it to <emphasis>\"physical volume for RAID\"</emphasis> "
"then choose <emphasis>\"Done setting up partition\"</emphasis>."
msgstr ""

#: serverguide/C/installation.xml:481(para)
msgid "Repeat steps three through eight for the other disk and partitions."
msgstr ""

#: serverguide/C/installation.xml:490(title)
msgid "RAID Configuration"
msgstr ""

#: serverguide/C/installation.xml:492(para)
msgid "With the partitions setup the arrays are ready to be configured:"
msgstr ""

#: serverguide/C/installation.xml:499(para)
msgid ""
"Back in the main \"Partition Disks\" page, select <emphasis>\"Configure "
"Software RAID\"</emphasis> at the top."
msgstr ""

#: serverguide/C/installation.xml:506(para)
msgid "Select <emphasis>\"yes\"</emphasis> to write the changes to disk."
msgstr ""

#: serverguide/C/installation.xml:513(para)
msgid "Choose <emphasis>\"Create MD drive\"</emphasis>."
msgstr ""

#: serverguide/C/installation.xml:520(para)
msgid ""
"For this example, select <emphasis>\"RAID1\"</emphasis>, but if you are "
"using a different setup choose the appropriate type (RAID0 RAID1 RAID5)."
msgstr ""

#: serverguide/C/installation.xml:526(para)
msgid ""
"In order to use <emphasis>RAID5</emphasis> you need at least "
"<emphasis>three</emphasis> drives. Using RAID0 or RAID1 only "
"<emphasis>two</emphasis> drives are required."
msgstr ""

#: serverguide/C/installation.xml:535(para)
msgid ""
"Enter the number of active devices <emphasis>\"2\"</emphasis>, or the amount "
"of hard drives you have, for the array. Then select "
"<emphasis>\"Continue\"</emphasis>."
msgstr ""

#: serverguide/C/installation.xml:543(para)
msgid ""
"Next, enter the number of spare devices <emphasis>\"0\"</emphasis> by "
"default, then choose <emphasis>\"Continue\"</emphasis>."
msgstr ""

#: serverguide/C/installation.xml:550(para)
msgid ""
"Choose which partitions to use. Generally they will be sda1, sdb1, sdc1, "
"etc. The numbers will usually match and the different letters correspond to "
"different hard drives."
msgstr ""

#: serverguide/C/installation.xml:555(para)
msgid ""
"For the <emphasis>swap</emphasis> partition choose <emphasis>sda1</emphasis> "
"and <emphasis>sdb1</emphasis>. Select <emphasis>\"Continue\"</emphasis> to "
"go to the next step."
msgstr ""

#: serverguide/C/installation.xml:563(para)
msgid ""
"Repeat steps <emphasis>three</emphasis> through <emphasis>seven</emphasis> "
"for the <emphasis>/</emphasis> partition choosing <emphasis>sda2</emphasis> "
"and <emphasis>sdb2</emphasis>."
msgstr ""

#: serverguide/C/installation.xml:571(para)
msgid "Once done select <emphasis>\"Finish\"</emphasis>."
msgstr ""

#: serverguide/C/installation.xml:581(title)
msgid "Formatting"
msgstr ""

#: serverguide/C/installation.xml:583(para)
msgid ""
"There should now be a list of hard drives and RAID devices. The next step is "
"to format and set the mount point for the RAID devices. Treat the RAID "
"device as a local hard drive, format and mount accordingly."
msgstr ""

#: serverguide/C/installation.xml:591(para)
msgid "Select the <emphasis>RAID1 device #0</emphasis> partition."
msgstr ""

#: serverguide/C/installation.xml:598(para)
msgid ""
"Choose <emphasis>\"Use as:\"</emphasis>. Then select <emphasis>\"swap "
"area\"</emphasis>, then <emphasis>\"Done setting up partition\"</emphasis>."
msgstr ""

#: serverguide/C/installation.xml:606(para)
msgid "Next, select the <emphasis>RAID1 device #1</emphasis> partition."
msgstr ""

#: serverguide/C/installation.xml:613(para)
msgid ""
"Choose <emphasis>\"Use as:\"</emphasis>. Then select <emphasis>\"Ext3 "
"journaling file system\"</emphasis>."
msgstr ""

#: serverguide/C/installation.xml:620(para)
msgid ""
"Then select the <emphasis>\"Mount point\"</emphasis> and choose "
"<emphasis>\"/ - the root file system\"</emphasis>. Change any of the other "
"options as appropriate, then select <emphasis>\"Done setting up "
"partition\"</emphasis>."
msgstr ""

#: serverguide/C/installation.xml:628(para)
msgid ""
"Finally, select <emphasis>\"Finish partitioning and write changes to "
"disk\"</emphasis>."
msgstr ""

#: serverguide/C/installation.xml:635(para)
msgid ""
"If you choose to place the root partition on a RAID array, the installer "
"will then ask if you would like to boot in a <emphasis>degraded</emphasis> "
"state. See <xref linkend=\"raid-degraded\"/> for further details."
msgstr ""

#: serverguide/C/installation.xml:640(para)
msgid "The installation process will then continue normally."
msgstr ""

#: serverguide/C/installation.xml:646(title)
msgid "Degraded RAID"
msgstr ""

#: serverguide/C/installation.xml:648(para)
msgid ""
"At some point in the life of the computer a disk failure event may occur. "
"When this happens, using Software RAID, the operating system will place the "
"array into what is known as a <emphasis>degraded</emphasis> state."
msgstr ""

#: serverguide/C/installation.xml:653(para)
msgid ""
"If the array has become degraded, due to the chance of data corruption, by "
"default Ubuntu Server Edition will boot to <emphasis>initramfs</emphasis> "
"after thirty seconds. Once the initramfs has booted there is a fifteen "
"second prompt giving you the option to go ahead and boot the system, or "
"attempt manual recover. Booting to the initramfs prompt may or may not be "
"the desired behavior, especially if the machine is in a remote location. "
"Booting to a degraded array can be configured several ways:"
msgstr ""

#: serverguide/C/installation.xml:664(para)
msgid ""
"The <application>dpkg-reconfigure</application> utility can be used to "
"configure the default behavior, and during the process you will be queried "
"about additional settings related to the array. Such as monitoring, email "
"alerts, etc. To reconfigure <application>mdadm</application> enter the "
"following:"
msgstr ""

#: serverguide/C/installation.xml:671(command)
msgid "sudo dpkg-reconfigure mdadm"
msgstr ""

#: serverguide/C/installation.xml:677(para)
msgid ""
"The <command>dpkg-reconfigure mdadm</command> process will change the "
"<filename>/etc/initramfs-tools/conf.d/mdadm</filename> configuration file. "
"The file has the advantage of being able to pre-configure the system's "
"behavior, and can also be manually edited:"
msgstr ""

#: serverguide/C/installation.xml:683(programlisting)
#, no-wrap
msgid ""
"\n"
"BOOT_DEGRADED=true\n"
msgstr ""

#: serverguide/C/installation.xml:688(para)
msgid "The configuration file can be overridden by using a Kernel argument."
msgstr ""

#: serverguide/C/installation.xml:696(para)
msgid ""
"Using a Kernel argument will allow the system to boot to a degraded array as "
"well:"
msgstr ""

#: serverguide/C/installation.xml:702(para)
msgid ""
"When the server is booting press <emphasis>ESC</emphasis> to open the "
"<application>Grub</application> menu."
msgstr ""

#: serverguide/C/installation.xml:707(para)
msgid "Press <emphasis>\"e\"</emphasis> to edit your Kernel command options."
msgstr ""

#: serverguide/C/installation.xml:712(para)
msgid ""
"Press the <emphasis>DOWN</emphasis> arrow to highlight the kernel line."
msgstr ""

#: serverguide/C/installation.xml:717(para)
msgid ""
"Press the <emphasis>\"e\"</emphasis> key again to edit the kernel line."
msgstr ""

#: serverguide/C/installation.xml:722(para)
msgid ""
"Add <emphasis>\"bootdegraded=true\"</emphasis> (without the quotes) to the "
"end of the line."
msgstr ""

#: serverguide/C/installation.xml:727(para)
msgid "Press <emphasis>\"ENTER\"</emphasis>."
msgstr ""

#: serverguide/C/installation.xml:732(para)
msgid "Finally, press <emphasis>\"b\"</emphasis> to boot the system."
msgstr ""

#: serverguide/C/installation.xml:741(para)
msgid ""
"Once the system has booted you can either repair the array see <xref "
"linkend=\"raid-maintenance\"/> for details, or copy important data to "
"another machine due to major hardware failure."
msgstr ""

#: serverguide/C/installation.xml:748(title)
msgid "RAID Maintenance"
msgstr ""

#: serverguide/C/installation.xml:750(para)
msgid ""
"The <application>mdadm</application> utility can be used to view the status "
"of an array, add disks to an array, remove disks, etc:"
msgstr ""

#: serverguide/C/installation.xml:757(para)
msgid "To view the status of an array, from a terminal prompt enter:"
msgstr ""

#: serverguide/C/installation.xml:761(command)
msgid "sudo mdadm -D /dev/md0"
msgstr ""

#: serverguide/C/installation.xml:764(para)
msgid ""
"The <emphasis>-D</emphasis> tells <application>mdadm</application> to "
"display <emphasis>detailed</emphasis> information about the "
"<filename>/dev/md0</filename> device. Replace <filename>/dev/md0</filename> "
"with the appropriate RAID device."
msgstr ""

#: serverguide/C/installation.xml:770(para)
msgid "To view the status of a disk in an array:"
msgstr ""

#: serverguide/C/installation.xml:774(command)
msgid "sudo mdadm -E /dev/sda1"
msgstr ""

#: serverguide/C/installation.xml:776(para)
msgid ""
"The output if very similar to the <command>mdadm -D</command> command, "
"adjust <filename>/dev/sda1</filename> for each disk."
msgstr ""

#: serverguide/C/installation.xml:781(para)
msgid "If a disk fails and needs to be removed from an array enter:"
msgstr ""

#: serverguide/C/installation.xml:785(command)
msgid "sudo mdadm --remove /dev/md0 /dev/sda1"
msgstr ""

#: serverguide/C/installation.xml:787(para)
msgid ""
"Change <filename>/dev/md0</filename> and <filename>/dev/sda1</filename> to "
"the appropriate RAID device and disk."
msgstr ""

#: serverguide/C/installation.xml:792(para)
msgid "Similarly, to add a new disk:"
msgstr ""

#: serverguide/C/installation.xml:796(command)
msgid "sudo mdadm --add /dev/md0 /dev/sda1"
msgstr ""

#: serverguide/C/installation.xml:801(para)
msgid ""
"Sometimes a disk can change to a <emphasis>faulty</emphasis> state even "
"though there is nothing physically wrong with the drive. It is usually "
"worthwhile to remove the drive from the array then re-add it. This will "
"cause the drive to re-sync with the array. If the drive will not sync with "
"the array, it is a good indication of hardware failure."
msgstr ""

#: serverguide/C/installation.xml:807(para)
msgid ""
"The <filename>/proc/mdstat</filename> file also contains useful information "
"about the system's RAID devices:"
msgstr ""

#: serverguide/C/installation.xml:812(command)
msgid "cat /proc/mdstat"
msgstr ""

#: serverguide/C/installation.xml:813(computeroutput)
#, no-wrap
msgid ""
"Personalities : [linear] [multipath] [raid0] [raid1] [raid6] [raid5] [raid4] "
"[raid10] \n"
"md0 : active raid1 sda1[0] sdb1[1]\n"
"      10016384 blocks [2/2] [UU]\n"
"      \n"
"unused devices: &lt;none&gt;"
msgstr ""

#: serverguide/C/installation.xml:820(para)
msgid ""
"The following command is great for watching the status of a syncing drive:"
msgstr ""

#: serverguide/C/installation.xml:825(command)
msgid "watch -n1 cat /proc/mdstat"
msgstr ""

#: serverguide/C/installation.xml:828(para)
msgid ""
"Press <emphasis>Ctrl+c</emphasis> to stop the "
"<application>watch</application> command."
msgstr ""

#: serverguide/C/installation.xml:832(para)
msgid ""
"If you do need to replace a faulty drive, after the drive has been replaced "
"and synced, <application>grub</application> will need to be installed. To "
"install <application>grub</application> on the new drive, enter the "
"following:"
msgstr ""

#: serverguide/C/installation.xml:838(command)
msgid "sudo grub-install /dev/md0"
msgstr ""

#: serverguide/C/installation.xml:841(para)
msgid ""
"Replace <filename>/dev/md0</filename> with the appropriate array device name."
msgstr ""

#: serverguide/C/installation.xml:849(para)
msgid ""
"The topic of RAID arrays is a complex one due to the plethora of ways RAID "
"can be configured. Please see the following links for more information:"
msgstr ""

#: serverguide/C/installation.xml:857(ulink)
msgid "Software RAID HOWTO"
msgstr ""

#: serverguide/C/installation.xml:862(ulink)
msgid "Managing RAID on Linux"
msgstr ""

#: serverguide/C/installation.xml:869(title)
msgid "Logical Volume Manager (LVM)"
msgstr ""

#: serverguide/C/installation.xml:871(para)
msgid ""
"Logical Volume Manger, or <emphasis>LVM</emphasis>, allows administrators to "
"create <emphasis>logical</emphasis> volumes out of one or multiple physical "
"hard disks. LVM volumes can be created on both software RAID partitions and "
"standard partitions residing on a single disk. Volumes can also be extended, "
"giving greater flexibility to systems as requirements change."
msgstr ""

#: serverguide/C/installation.xml:880(para)
msgid ""
"A side effect of LVM's power and flexibility is a greater degree of "
"complication. Before diving into the LVM installation process, it is best to "
"get familiar with some terms."
msgstr ""

#: serverguide/C/installation.xml:887(para)
msgid ""
"<emphasis>Volume Group (VG):</emphasis> contains one or several Logical "
"Volumes (LV)."
msgstr ""

#: serverguide/C/installation.xml:892(para)
msgid ""
"<emphasis>Logical Volume (LV):</emphasis> is similar to a partition in a non-"
"LVM system. Multiple Physical Volumes (PV) can make up one LV, on top of "
"which resides the actual EXT3, XFS, JFS, etc filesystem."
msgstr ""

#: serverguide/C/installation.xml:898(para)
msgid ""
"<emphasis>Physical Volume (PV):</emphasis> physical hard disk or software "
"RAID partition. The Volume Group can be extended by adding more PVs."
msgstr ""

#: serverguide/C/installation.xml:909(para)
msgid ""
"As an example this section covers installing Ubuntu Server Edition with "
"<filename role=\"directory\">/srv</filename> mounted on a LVM volume. During "
"the initial install only one Physical Volume (PV) will be part of the Volume "
"Group (VG). Another PV will be added after install to demonstrate how a VG "
"can be extended."
msgstr ""

#: serverguide/C/installation.xml:915(para)
msgid ""
"There are several installation options for LVM, <emphasis>\"Guided - use the "
"entire disk and setup LVM\"</emphasis> which will also allow you to assign a "
"portion of the available space to LVM, <emphasis>\"Guided - use entire and "
"setup encrypted LVM\"</emphasis>, or <emphasis>Manually</emphasis> setup the "
"partitions and configure LVM. At this time the only way to configure a "
"system with both LVM and standard partitions, during installation, is to use "
"the Manual approach."
msgstr ""

#: serverguide/C/installation.xml:932(para)
msgid ""
"At the <emphasis>\"Partition Disks</emphasis> screen choose "
"<emphasis>\"Manual\"</emphasis>."
msgstr ""

#: serverguide/C/installation.xml:939(para)
msgid ""
"Select the hard disk and on the next screen choose \"yes\" to "
"<emphasis>\"Create a new empty partition table on this device\"</emphasis>."
msgstr ""

#: serverguide/C/installation.xml:946(para)
msgid ""
"Next, create standard <emphasis>/boot</emphasis>, <emphasis>swap</emphasis>, "
"and <emphasis>/</emphasis> partitions with whichever filesystem you prefer."
msgstr ""

#: serverguide/C/installation.xml:954(para)
msgid ""
"For the LVM <emphasis>/srv</emphasis>, create a new "
"<emphasis>Logical</emphasis> partition. Then change <emphasis>\"Use "
"as\"</emphasis> to <emphasis>\"physical volume for LVM\"</emphasis> then "
"<emphasis>\"Done setting up the partition\"</emphasis>."
msgstr ""

#: serverguide/C/installation.xml:962(para)
msgid ""
"Now select <emphasis>\"Configure the Logical Volume Manager\"</emphasis> at "
"the top, and choose <emphasis>\"Yes\"</emphasis> to write the changes to "
"disk."
msgstr ""

#: serverguide/C/installation.xml:970(para)
msgid ""
"For the <emphasis>\"LVM configuration action\"</emphasis> on the next "
"screen, choose <emphasis>\"Create volume group\"</emphasis>. Enter a name "
"for the VG such as <emphasis>vg01</emphasis>, or something more descriptive. "
"After entering a name, select the partition configured for LVM, and choose "
"<emphasis>\"Continue\"</emphasis>."
msgstr ""

#: serverguide/C/installation.xml:979(para)
msgid ""
"Back at the <emphasis>\"LVM configuration action\"</emphasis> screen, select "
"<emphasis>\"Create logical volume\"</emphasis>. Select the newly created "
"volume group, and enter a name for the new LV, for example "
"<emphasis>srv</emphasis> since that is the intended mount point. Then choose "
"a size, which may be the full partition because it can always be extended "
"later. Choose <emphasis>\"Finish\"</emphasis> and you should be back at the "
"main <emphasis>\"Partition Disks\"</emphasis> screen."
msgstr ""

#: serverguide/C/installation.xml:989(para)
msgid ""
"Now add a filesystem to the new LVM. Select the partition under "
"<emphasis>\"LVM VG vg01, LV srv\"</emphasis>, or whatever name you have "
"chosen, the choose <emphasis>Use as</emphasis>. Setup a file system as "
"normal selecting <emphasis>/srv</emphasis> as the mount point. Once done, "
"select <emphasis>\"Done setting up the partition\"</emphasis>."
msgstr ""

#: serverguide/C/installation.xml:998(para)
msgid ""
"Finally, select <emphasis>\"Finish partitioning and write changes to "
"disk\"</emphasis>. Then confirm the changes and continue with the rest of "
"the installation."
msgstr ""

#: serverguide/C/installation.xml:1006(para)
msgid "There are some useful utilities to view information about LVM:"
msgstr ""

#: serverguide/C/installation.xml:1011(para)
msgid ""
"<emphasis>vgdisplay:</emphasis> shows information about Volume Groups."
msgstr ""

#: serverguide/C/installation.xml:1012(para)
msgid ""
"<emphasis>lvdisplay:</emphasis> has information about Logical Volumes."
msgstr ""

#: serverguide/C/installation.xml:1013(para)
msgid ""
"<emphasis>pvdisplay:</emphasis> similarly displays information about "
"Physical Volumes."
msgstr ""

#: serverguide/C/installation.xml:1018(title)
msgid "Extending Volume Groups"
msgstr ""

#: serverguide/C/installation.xml:1020(para)
msgid ""
"Continuing with <emphasis>srv</emphasis> as an LVM volume example, this "
"section covers adding a second hard disk, creating a Physical Volume (PV), "
"adding it to the volume group (VG), extending the logical volume <filename "
"role=\"directory\">srv</filename> and finally extending the filesystem. This "
"example assumes a second hard disk has been added to the system. This hard "
"disk will be named <filename>/dev/sdb</filename> in our example. BEWARE: "
"make sure you don't already have an existing <filename>/dev/sdb</filename> "
"before issuing the commands below. You could lose some data if you issue "
"those commands on a non-empty disk. In our example we will use the entire "
"disk as a physical volume (you could choose to create partitions and use "
"them as different physical volumes)"
msgstr ""

#: serverguide/C/installation.xml:1032(para)
msgid "First, create the physical volume, in a terminal execute:"
msgstr ""

#: serverguide/C/installation.xml:1037(command)
msgid "sudo pvcreate /dev/sdb"
msgstr ""

#: serverguide/C/installation.xml:1043(para)
msgid "Now extend the Volume Group (VG):"
msgstr ""

#: serverguide/C/installation.xml:1048(command)
msgid "sudo vgextend vg01 /dev/sdb"
msgstr ""

#: serverguide/C/installation.xml:1054(para)
msgid ""
"Use <application>vgdisplay</application> to find out the free physical "
"extents - Free PE / size (the size you can allocate). We will assume a free "
"size of 511 PE (equivalent to 2GB with a PE size of 4MB) and we will use the "
"whole free space available. Use your own PE and/or free space."
msgstr ""

#: serverguide/C/installation.xml:1060(para)
msgid ""
"The Logical Volume (LV) can now be extended by different methods, we will "
"only see how to use the PE to extend the LV:"
msgstr ""

#: serverguide/C/installation.xml:1065(command)
msgid "sudo lvextend /dev/vg01/srv -l +511"
msgstr ""

#: serverguide/C/installation.xml:1068(para)
msgid ""
"The <emphasis>-l</emphasis> option allows the LV to be extended using PE. "
"The <emphasis>-L</emphasis> option allows the LV to be extended using Meg, "
"Gig, Tera, etc bytes."
msgstr ""

#: serverguide/C/installation.xml:1076(para)
msgid ""
"Even though you are supposed to be able to <emphasis>expand</emphasis> an "
"ext3 or ext4 filesystem without unmounting it first, it may be a good "
"pratice to unmount it anyway and check the filesystem, so that you don't "
"mess up the day you want to reduce a logical volume (in that case unmounting "
"first is compulsory)."
msgstr ""

#: serverguide/C/installation.xml:1082(para)
msgid ""
"The following commands are for an <emphasis>EXT3</emphasis> or "
"<emphasis>EXT4</emphasis> filesystem. If you are using another filesystem "
"there may be other utilities available."
msgstr ""

#: serverguide/C/installation.xml:1089(command)
msgid "sudo e2fsck -f /dev/vg01/srv"
msgstr ""

#: serverguide/C/installation.xml:1092(para)
msgid ""
"The <emphasis>-f</emphasis> option of <application>e2fsck</application> "
"forces checking even if the system seems clean."
msgstr ""

#: serverguide/C/installation.xml:1099(para)
msgid "Finally, resize the filesystem:"
msgstr ""

#: serverguide/C/installation.xml:1104(command)
msgid "sudo resize2fs /dev/vg01/srv"
msgstr ""

#: serverguide/C/installation.xml:1110(para)
msgid "Now mount the partition and check its size."
msgstr ""

#: serverguide/C/installation.xml:1115(command)
msgid "mount /dev/vg01/srv /srv &amp;&amp; df -h /srv"
msgstr ""

#: serverguide/C/installation.xml:1127(para)
msgid ""
"See the <ulink url=\"http://tldp.org/HOWTO/LVM-HOWTO/index.html\">LVM "
"HOWTO</ulink> for more information."
msgstr ""

#: serverguide/C/installation.xml:1132(para)
msgid ""
"Another good article is <ulink "
"url=\"http://www.linuxdevcenter.com/pub/a/linux/2006/04/27/managing-disk-"
"space-with-lvm.html\">Managing Disk Space with LVM</ulink> on O'Reilly's "
"linuxdevcenter.com site."
msgstr ""

#: serverguide/C/installation.xml:1139(para)
msgid ""
"For more information on <application>fdisk</application> see the <ulink "
"url=\"http://manpages.ubuntu.com/manpages/jaunty/en/man8/fdisk.8.html\">fdisk"
" man page</ulink>."
msgstr ""

#: serverguide/C/file-server.xml:13(title)
msgid "File Servers"
msgstr ""

#: serverguide/C/file-server.xml:15(para)
msgid ""
"If you have more than one computer on a single network. At some point you "
"will probably need to share files between them. In this section we cover "
"installing and configuring FTP, NFS, and CUPS."
msgstr ""

#: serverguide/C/file-server.xml:22(title)
msgid "FTP Server"
msgstr ""

#: serverguide/C/file-server.xml:24(para)
msgid ""
"File Transfer Protocol (FTP) is a TCP protocol for uploading and downloading "
"files between computers. FTP works on a client/server model. The server "
"component is called an <emphasis>FTP daemon</emphasis>. It continuously "
"listens for FTP requests from remote clients. When a request is received, it "
"manages the login and sets up the connection. For the duration of the "
"session it executes any of commands sent by the FTP client."
msgstr ""

#: serverguide/C/file-server.xml:33(para)
msgid "Access to an FTP server can be managed in two ways:"
msgstr ""

#: serverguide/C/file-server.xml:37(para)
msgid "Anonymous"
msgstr ""

#: serverguide/C/file-server.xml:40(para)
msgid "Authenticated"
msgstr ""

#: serverguide/C/file-server.xml:43(para)
msgid ""
"In the Anonymous mode, remote clients can access the FTP server by using the "
"default user account called \"anonymous\" or \"ftp\" and sending an email "
"address as the password. In the Authenticated mode a user must have an "
"account and a password. User access to the FTP server directories and files "
"is dependent on the permissions defined for the account used at login. As a "
"general rule, the FTP daemon will hide the root directory of the FTP server "
"and change it to the FTP Home directory. This hides the rest of the file "
"system from remote sessions."
msgstr ""

#: serverguide/C/file-server.xml:55(title)
msgid "vsftpd - FTP Server Installation"
msgstr ""

#: serverguide/C/file-server.xml:57(para)
msgid ""
"vsftpd is an FTP daemon available in Ubuntu. It is easy to install, set up, "
"and maintain. To install <application>vsftpd</application> you can run the "
"following command:"
msgstr ""

#: serverguide/C/file-server.xml:65(command)
msgid "sudo apt-get install vsftpd"
msgstr ""

#: serverguide/C/file-server.xml:71(title)
msgid "Anonymous FTP Configuration"
msgstr ""

#: serverguide/C/file-server.xml:73(para)
msgid ""
"By default <application>vsftpd</application> is configured to only allow "
"anonymous download. During installation a <emphasis>ftp</emphasis> user is "
"created with a home directory of <filename>/home/ftp</filename>. This is the "
"default FTP directory."
msgstr ""

#: serverguide/C/file-server.xml:80(para)
msgid ""
"If you wish to change this location, to <filename>/srv/ftp</filename> for "
"example, simply create a directory in another location and change the "
"<emphasis>ftp</emphasis> user's home directory:"
msgstr ""

#: serverguide/C/file-server.xml:87(command)
msgid "sudo mkdir /srv/ftp"
msgstr ""

#: serverguide/C/file-server.xml:88(command)
msgid "sudo usermod -d /srv/ftp ftp"
msgstr ""

#: serverguide/C/file-server.xml:91(para)
msgid "After making the change restart <application>vsftpd</application>:"
msgstr ""

#: serverguide/C/file-server.xml:96(command) serverguide/C/file-server.xml:124(command) serverguide/C/file-server.xml:189(command) serverguide/C/file-server.xml:237(command)
msgid "sudo /etc/init.d/vsftpd restart"
msgstr ""

#: serverguide/C/file-server.xml:99(para)
msgid ""
"Finally, copy any files and directories you would like to make available "
"through anonymous FTP to <filename>/srv/ftp</filename>."
msgstr ""

#: serverguide/C/file-server.xml:106(title)
msgid "User Authenticated FTP Configuration"
msgstr ""

#: serverguide/C/file-server.xml:108(para)
msgid ""
"To configure <application>vsftpd</application> to authenticate system users "
"and allow them to upload files edit <filename>/etc/vsftpd.conf</filename>:"
msgstr ""

#: serverguide/C/file-server.xml:114(programlisting)
#, no-wrap
msgid ""
"\n"
"local_enable=YES\n"
"write_enable=YES\n"
msgstr ""

#: serverguide/C/file-server.xml:119(para)
msgid "Now restart <application>vsftpd</application>:"
msgstr ""

#: serverguide/C/file-server.xml:127(para)
msgid ""
"Now when system users login to FTP they will start in their "
"<emphasis>home</emphasis> directories where they can download, upload, "
"create directories, etc."
msgstr ""

#: serverguide/C/file-server.xml:133(para)
msgid ""
"Similarly, by default, the anonymous users are not allowed to upload files "
"to FTP server. To change this setting, you should uncomment the following "
"line, and restart <application>vsftpd</application>:"
msgstr ""

#: serverguide/C/file-server.xml:140(programlisting)
#, no-wrap
msgid ""
"\n"
"anon_upload_enable=YES\n"
msgstr ""

#: serverguide/C/file-server.xml:145(para)
msgid ""
"Enabling anonymous FTP upload can be an extreme security risk. It is best to "
"not enable anonymous upload on servers accessed directly from the Internet."
msgstr ""

#: serverguide/C/file-server.xml:151(para)
msgid ""
"The configuration file consists of many configuration parameters. The "
"information about each parameter is available in the configuration file. "
"Alternatively, you can refer to the man page, <command>man 5 "
"vsftpd.conf</command> for details of each parameter."
msgstr ""

#: serverguide/C/file-server.xml:162(title)
msgid "Securing FTP"
msgstr ""

#: serverguide/C/file-server.xml:164(para)
msgid ""
"There are options in <filename>/etc/vsftpd.conf</filename> to help make "
"<application>vsftpd</application> more secure. For example users can be "
"limited to their home directories by uncommenting:"
msgstr ""

#: serverguide/C/file-server.xml:170(programlisting)
#, no-wrap
msgid ""
"\n"
"chroot_local_user=YES\n"
msgstr ""

#: serverguide/C/file-server.xml:174(para)
msgid ""
"You can also limit a specific list of users to just their home directories:"
msgstr ""

#: serverguide/C/file-server.xml:178(programlisting)
#, no-wrap
msgid ""
"\n"
"chroot_list_enable=YES\n"
"chroot_list_file=/etc/vsftpd.chroot_list\n"
msgstr ""

#: serverguide/C/file-server.xml:183(para)
msgid ""
"After uncommenting the above options, create a "
"<filename>/etc/vsftpd.chroot_list</filename> containing a list of users one "
"per line. Then restart <application>vsftpd</application>:"
msgstr ""

#: serverguide/C/file-server.xml:192(para)
msgid ""
"Also, the <filename>/etc/ftpusers</filename> file is a list of users that "
"are <emphasis>disallowed</emphasis> FTP access. The default list includes "
"root, daemon, nobody, etc. To disable FTP access for additional users simply "
"add them to the list."
msgstr ""

#: serverguide/C/file-server.xml:199(para)
msgid ""
"FTP can also be encrypted using <emphasis>FTPS</emphasis>. Different from "
"<emphasis>SFTP</emphasis>, <emphasis>FTPS</emphasis> is FTP over Secure "
"Socket Layer (SSL). <emphasis>SFTP</emphasis> is a FTP like session over an "
"encrypted <emphasis>SSH</emphasis> connection. A major difference is that "
"users of SFTP need to have a <emphasis>shell</emphasis> account on the "
"system, instead of a <emphasis>nologin</emphasis> shell. Providing all users "
"with a shell may not be ideal for some environments, such as a shared web "
"host."
msgstr ""

#: serverguide/C/file-server.xml:208(para)
msgid ""
"To configure <emphasis>FTPS</emphasis>, edit "
"<filename>/etc/vsftpd.conf</filename> and at the bottom add:"
msgstr ""

#: serverguide/C/file-server.xml:212(programlisting)
#, no-wrap
msgid ""
"\n"
"ssl_enable=Yes\n"
msgstr ""

#: serverguide/C/file-server.xml:216(para)
msgid "Also, notice the certificate and key related options:"
msgstr ""

#: serverguide/C/file-server.xml:220(programlisting)
#, no-wrap
msgid ""
"\n"
"rsa_cert_file=/etc/ssl/certs/ssl-cert-snakeoil.pem\n"
"rsa_private_key_file=/etc/ssl/private/ssl-cert-snakeoil.key\n"
msgstr ""

#: serverguide/C/file-server.xml:225(para)
msgid ""
"By default these options are set the the certificate and key provided by the "
"<application>ssl-cert</application> package. In a production environment "
"these should be replaced with a certificate and key generated for the "
"specific host. For more information on certificates see <xref "
"linkend=\"certificates-and-security\"/>."
msgstr ""

#: serverguide/C/file-server.xml:231(para)
msgid ""
"Now restart <application>vsftpd</application>, and non-anonymous users will "
"be forced to use <emphasis>FTPS</emphasis>:"
msgstr ""

#: serverguide/C/file-server.xml:240(para)
msgid ""
"To allow users with a shell of <filename>/usr/sbin/nologin</filename> access "
"to FTP, but have no shell access, edit <filename>/etc/shells</filename> "
"adding the <emphasis>nologin</emphasis> shell:"
msgstr ""

#: serverguide/C/file-server.xml:245(programlisting)
#, no-wrap
msgid ""
"\n"
"# /etc/shells: valid login shells\n"
"/bin/csh\n"
"/bin/sh\n"
"/usr/bin/es\n"
"/usr/bin/ksh\n"
"/bin/ksh\n"
"/usr/bin/rc\n"
"/usr/bin/tcsh\n"
"/bin/tcsh\n"
"/usr/bin/esh\n"
"/bin/dash\n"
"/bin/bash\n"
"/bin/rbash\n"
"/usr/bin/screen\n"
"/usr/sbin/nologin\n"
msgstr ""

#: serverguide/C/file-server.xml:263(para)
msgid ""
"This is necessary because, by default <application>vsftpd</application> uses "
"PAM for authentication, and the <filename>/etc/pam.d/vsftpd</filename> "
"configuration file contains:"
msgstr ""

#: serverguide/C/file-server.xml:268(programlisting)
#, no-wrap
msgid ""
"\n"
"auth    required        pam_shells.so\n"
msgstr ""

#: serverguide/C/file-server.xml:272(para)
msgid ""
"The <emphasis>shells</emphasis> PAM module restricts access to shells listed "
"in the <filename>/etc/shells</filename> file."
msgstr ""

#: serverguide/C/file-server.xml:277(para)
msgid ""
"Most popular FTP clients can be configured connect using FTPS. The "
"<application>lftp</application> command line FTP client has the ability to "
"use FTPS as well."
msgstr ""

#: serverguide/C/file-server.xml:288(para)
msgid ""
"See the <ulink url=\"http://vsftpd.beasts.org/vsftpd_conf.html\">vsftpd "
"website</ulink> for more information."
msgstr ""

#: serverguide/C/file-server.xml:293(para)
msgid ""
"For detailed <filename>/etc/vsftpd.conf</filename> options see the <ulink "
"url=\"http://manpages.ubuntu.com/manpages/jaunty/en/man5/vsftpd.conf.5.html\""
">vsftpd.conf man page</ulink>."
msgstr ""

#: serverguide/C/file-server.xml:299(para)
msgid ""
"The CodeGurus article <ulink "
"url=\"http://www.codeguru.com/csharp/.net/net_general/internet/article.php/c1"
"4329\"> FTPS vs. SFTP: What to Choose</ulink> has useful information "
"contrasting FTPS and SFTP."
msgstr ""

#: serverguide/C/file-server.xml:310(title)
msgid "Network File System (NFS)"
msgstr ""

#: serverguide/C/file-server.xml:311(para)
msgid ""
"NFS allows a system to share directories and files with others over a "
"network. By using NFS, users and programs can access files on remote systems "
"almost as if they were local files."
msgstr ""

#: serverguide/C/file-server.xml:317(para)
msgid "Some of the most notable benefits that NFS can provide are:"
msgstr ""

#: serverguide/C/file-server.xml:323(para)
msgid ""
"Local workstations use less disk space because commonly used data can be "
"stored on a single machine and still remain accessible to others over the "
"network."
msgstr ""

#: serverguide/C/file-server.xml:328(para)
msgid ""
"There is no need for users to have separate home directories on every "
"network machine. Home directories could be set up on the NFS server and made "
"available throughout the network."
msgstr ""

#: serverguide/C/file-server.xml:334(para)
msgid ""
"Storage devices such as floppy disks, CDROM drives, and USB Thumb drives can "
"be used by other machines on the network. This may reduce the number of "
"removable media drives throughout the network."
msgstr ""

#: serverguide/C/file-server.xml:344(para)
msgid ""
"At a terminal prompt enter the following command to install the NFS Server:"
msgstr ""

#: serverguide/C/file-server.xml:350(command)
msgid "sudo apt-get install nfs-kernel-server"
msgstr ""

#: serverguide/C/file-server.xml:356(para)
msgid ""
"You can configure the directories to be exported by adding them to the "
"<filename>/etc/exports</filename> file. For example:"
msgstr ""

#: serverguide/C/file-server.xml:361(screen)
#, no-wrap
msgid ""
"\n"
"/ubuntu  *(ro,sync,no_root_squash)\n"
"/home    *(rw,sync,no_root_squash)\n"
msgstr ""

#: serverguide/C/file-server.xml:367(para)
msgid ""
"You can replace * with one of the hostname formats. Make the hostname "
"declaration as specific as possible so unwanted systems cannot access the "
"NFS mount."
msgstr ""

#: serverguide/C/file-server.xml:373(para)
msgid ""
"To start the NFS server, you can run the following command at a terminal "
"prompt:"
msgstr ""

#: serverguide/C/file-server.xml:378(command)
msgid "sudo /etc/init.d/nfs-kernel-server start"
msgstr ""

#: serverguide/C/file-server.xml:383(title)
msgid "NFS Client Configuration"
msgstr ""

#: serverguide/C/file-server.xml:384(para)
msgid ""
"Use the <application>mount</application> command to mount a shared NFS "
"directory from another machine, by typing a command line similar to the "
"following at a terminal prompt:"
msgstr ""

#: serverguide/C/file-server.xml:390(command)
msgid "sudo mount example.hostname.com:/ubuntu /local/ubuntu"
msgstr ""

#: serverguide/C/file-server.xml:394(para)
msgid ""
"The mount point directory <filename>/local/ubuntu</filename> must exist. "
"There should be no files or subdirectories in the "
"<filename>/local/ubuntu</filename> directory."
msgstr ""

#: serverguide/C/file-server.xml:401(para)
msgid ""
"An alternate way to mount an NFS share from another machine is to add a line "
"to the <filename>/etc/fstab</filename> file. The line must state the "
"hostname of the NFS server, the directory on the server being exported, and "
"the directory on the local machine where the NFS share is to be mounted."
msgstr ""

#: serverguide/C/file-server.xml:409(para)
msgid ""
"The general syntax for the line in <filename>/etc/fstab</filename> file is "
"as follows:"
msgstr ""

#: serverguide/C/file-server.xml:415(programlisting)
#, no-wrap
msgid ""
"\n"
"example.hostname.com:/ubuntu /local/ubuntu nfs "
"rsize=8192,wsize=8192,timeo=14,intr\n"
msgstr ""

#: serverguide/C/file-server.xml:419(para)
msgid ""
"If you have trouble mounting an NFS share, make sure the <application>nfs-"
"common</application> package is installed on your client. To install "
"<application>nfs-common</application> enter the following command at the "
"terminal prompt: <screen>\n"
"<command>sudo apt-get install nfs-common</command>\n"
"</screen>"
msgstr ""

#: serverguide/C/file-server.xml:432(ulink)
msgid "Linux NFS faq"
msgstr ""

#: serverguide/C/file-server.xml:437(title)
msgid "CUPS - Print Server"
msgstr ""

#: serverguide/C/file-server.xml:438(para)
msgid ""
"The primary mechanism for Ubuntu printing and print services is the "
"<emphasis role=\"bold\">Common UNIX Printing System</emphasis> (CUPS). This "
"printing system is a freely available, portable printing layer which has "
"become the new standard for printing in most Linux distributions."
msgstr ""

#: serverguide/C/file-server.xml:445(para)
msgid ""
"CUPS manages print jobs and queues and provides network printing using the "
"standard Internet Printing Protocol (IPP), while offering support for a very "
"large range of printers, from dot-matrix to laser and many in between. CUPS "
"also supports PostScript Printer Description (PPD) and auto-detection of "
"network printers, and features a simple web-based configuration and "
"administration tool."
msgstr ""

#: serverguide/C/file-server.xml:455(para)
msgid ""
"To install CUPS on your Ubuntu computer, simply use "
"<application>sudo</application> with the <application>apt-get</application> "
"command and give the packages to install as the first parameter. A complete "
"CUPS install has many package dependencies, but they may all be specified on "
"the same command line. Enter the following at a terminal prompt to install "
"CUPS:"
msgstr ""

#: serverguide/C/file-server.xml:460(command)
msgid "sudo apt-get install cupsys"
msgstr ""

#: serverguide/C/file-server.xml:463(para)
msgid ""
"Upon authenticating with your user password, the packages should be "
"downloaded and installed without error. Upon the conclusion of installation, "
"the CUPS server will be started automatically."
msgstr ""

#: serverguide/C/file-server.xml:468(para)
msgid ""
"For troubleshooting purposes, you can access CUPS server errors via the "
"error log file at: <filename>/var/log/cups/error_log</filename>. If the "
"error log does not show enough information to troubleshoot any problems you "
"encounter, the verbosity of the CUPS log can be increased by changing the "
"<emphasis role=\"bold\">LogLevel</emphasis> directive in the configuration "
"file (discussed below) to \"debug\" or even \"debug2\", which logs "
"everything, from the default of \"info\". If you make this change, remember "
"to change it back once you've solved your problem, to prevent the log file "
"from becoming overly large."
msgstr ""

#: serverguide/C/file-server.xml:481(para)
msgid ""
"The Common UNIX Printing System server's behavior is configured through the "
"directives contained in the file <filename>/etc/cups/cupsd.conf</filename>. "
"The CUPS configuration file follows the same syntax as the primary "
"configuration file for the Apache HTTP server, so users familiar with "
"editing Apache's configuration file should feel at ease when editing the "
"CUPS configuration file. Some examples of settings you may wish to change "
"initially will be presented here."
msgstr ""

#: serverguide/C/file-server.xml:491(para)
msgid ""
"Prior to editing the configuration file, you should make a copy of the "
"original file and protect it from writing, so you will have the original "
"settings as a reference, and to reuse as necessary."
msgstr ""

#: serverguide/C/file-server.xml:495(para)
msgid ""
"Copy the <filename>/etc/cups/cupsd.conf</filename> file and protect it from "
"writing with the following commands, issued at a terminal prompt:"
msgstr ""

#: serverguide/C/file-server.xml:501(command)
msgid "sudo cp /etc/cups/cupsd.conf /etc/cups/cupsd.conf.original"
msgstr ""

#: serverguide/C/file-server.xml:502(command)
msgid "sudo chmod a-w /etc/cups/cupsd.conf.original"
msgstr ""

#: serverguide/C/file-server.xml:507(para)
msgid ""
"<emphasis role=\"bold\">ServerAdmin</emphasis>: To configure the email "
"address of the designated administrator of the CUPS server, simply edit the "
"<filename>/etc/cups/cupsd.conf</filename> configuration file with your "
"preferred text editor, and modify the <emphasis "
"role=\"italics\">ServerAdmin</emphasis> line accordingly. For example, if "
"you are the Administrator for the CUPS server, and your e-mail address is "
"'bjoy@somebigco.com', then you would modify the ServerAdmin line to appear "
"as such:"
msgstr ""

#: serverguide/C/file-server.xml:518(screen)
#, no-wrap
msgid ""
"\n"
"ServerAdmin bjoy@somebigco.com\n"
msgstr ""

#: serverguide/C/file-server.xml:524(para)
msgid ""
"For more examples of configuration directives in the CUPS server "
"configuration file, view the associated system manual page by entering the "
"following command at a terminal prompt:"
msgstr ""

#: serverguide/C/file-server.xml:531(command)
msgid "man cupsd.conf"
msgstr ""

#: serverguide/C/file-server.xml:535(para)
msgid ""
"Whenever you make changes to the <filename>/etc/cups/cupsd.conf</filename> "
"configuration file, you'll need to restart the CUPS server by typing the "
"following command at a terminal prompt:"
msgstr ""

#: serverguide/C/file-server.xml:541(command)
msgid "sudo /etc/init.d/cupsys restart"
msgstr ""

#: serverguide/C/file-server.xml:544(para)
msgid ""
"Some other configuration for the CUPS server is done in the file "
"<filename>/etc/cups/cups.d/ports.conf</filename>:"
msgstr ""

#: serverguide/C/file-server.xml:547(para)
msgid ""
"<emphasis role=\"bold\">Listen</emphasis>: By default on Ubuntu, the CUPS "
"server installation listens only on the loopback interface at IP address "
"<emphasis>127.0.0.1</emphasis>. In order to instruct the CUPS server to "
"listen on an actual network adapter's IP address, you must specify either a "
"hostname, the IP address, or optionally, an IP address/port pairing via the "
"addition of a Listen directive. For example, if your CUPS server resides on "
"a local network at the IP address <emphasis "
"role=\"italics\">192.168.10.250</emphasis> and you'd like to make it "
"accessible to the other systems on this subnetwork, you would edit the "
"<filename>/etc/cups/cupsd.conf</filename> and add a Listen directive, as "
"such:"
msgstr ""

#: serverguide/C/file-server.xml:561(screen)
#, no-wrap
msgid ""
"\n"
"Listen 127.0.0.1:631           # existing loopback Listen\n"
"Listen /var/run/cups/cups.sock # existing socket Listen\n"
"Listen 192.168.10.250:631      # Listen on the LAN interface, Port 631 "
"(IPP)\n"
msgstr ""

#: serverguide/C/file-server.xml:567(para)
msgid ""
"In the example above, you may comment out or remove the reference to the "
"Loopback address (127.0.0.1) if you do not wish <application>cupsd "
"</application> to listen on that interface, but would rather have it only "
"listen on the Ethernet interfaces of the Local Area Network (LAN). To enable "
"listening for all network interfaces for which a certain hostname is bound, "
"including the Loopback, you could create a Listen entry for the hostname "
"<emphasis>socrates</emphasis> as such:"
msgstr ""

#: serverguide/C/file-server.xml:577(screen)
#, no-wrap
msgid ""
"\n"
"Listen socrates:631  # Listen on all interfaces for the hostname 'socrates'\n"
msgstr ""

#: serverguide/C/file-server.xml:581(para)
msgid ""
"or by omitting the Listen directive and using <emphasis>Port</emphasis> "
"instead, as in:"
msgstr ""

#: serverguide/C/file-server.xml:583(screen)
#, no-wrap
msgid ""
"\n"
"Port 631  # Listen on port 631 on all interfaces\n"
msgstr ""

#: serverguide/C/file-server.xml:594(ulink)
msgid "CUPS Website"
msgstr ""

#: serverguide/C/dns.xml:13(title)
msgid "Domain Name Service (DNS)"
msgstr ""

#: serverguide/C/dns.xml:14(para)
msgid ""
"Domain Name Service (DNS) is an Internet service that maps IP addresses and "
"fully qualified domain names (FQDN) to one another. In this way, DNS "
"alleviates the need to remember IP addresses. Computers that run DNS are "
"called <emphasis>name servers</emphasis>. Ubuntu ships with "
"<application>BIND</application> (Berkley Internet Naming Daemon), the most "
"common program used for maintaining a name server on Linux."
msgstr ""

#: serverguide/C/dns.xml:24(para)
msgid ""
"At a terminal prompt, enter the following command to install "
"<application>dns</application>:"
msgstr ""

#: serverguide/C/dns.xml:28(command)
msgid "sudo apt-get install bind9"
msgstr ""

#: serverguide/C/dns.xml:30(para)
msgid ""
"A very useful package for testing and troubleshooting DNS issues is the "
"dnsutils package. To install <application>dnsutils</application> enter the "
"following:"
msgstr ""

#: serverguide/C/dns.xml:35(command)
msgid "sudo apt-get install dnsutils"
msgstr ""

#: serverguide/C/dns.xml:40(para)
msgid ""
"There a many ways to configure <application>BIND9</application>. Some of the "
"most common configurations are a caching nameserver, primary master, and a "
"as a secondary master."
msgstr ""

#: serverguide/C/dns.xml:46(para)
msgid ""
"When configured as a caching nameserver BIND9 will find the answer to name "
"queries and remember the answer when the domain is queried again."
msgstr ""

#: serverguide/C/dns.xml:52(para)
msgid ""
"As a primary master server BIND9 reads the data for a zone from a file on "
"it's host and is authoritative for that zone."
msgstr ""

#: serverguide/C/dns.xml:57(para)
msgid ""
"In a secondary master configuration BIND9 gets the zone data from another "
"nameserver authoritative for the zone."
msgstr ""

#: serverguide/C/dns.xml:65(para)
msgid ""
"The DNS configuration files are stored in the <filename>/etc/bind</filename> "
"directory. The primary configuration file is "
"<filename>/etc/bind/named.conf</filename>."
msgstr ""

#: serverguide/C/dns.xml:72(para)
msgid ""
"The <emphasis>include</emphasis> line specifies the filename which contains "
"the DNS options. The <emphasis>directory</emphasis> line in the "
"<filename>/etc/bind/named.conf.options</filename> file tells DNS where to "
"look for files. All files BIND uses will be relative to this directory."
msgstr ""

#: serverguide/C/dns.xml:80(para)
msgid ""
"The file named <filename>/etc/bind/db.root</filename> describes the root "
"nameservers in the world. The servers change over time, so the "
"<filename>/etc/bind/db.root</filename> file must be maintained now and then. "
"This is usually done as updates to the <application>bind9</application> "
"package. The <emphasis>zone</emphasis> section defines a master server, and "
"it is stored in a file mentioned in the <emphasis>file</emphasis> option."
msgstr ""

#: serverguide/C/dns.xml:90(para)
msgid ""
"It is possible to configure the same server to be a caching name server, "
"primary master, and secondary master. A server can be the Start of Authority "
"(SOA) for one zone, while providing secondary service for another zone. All "
"the while providing caching services for hosts on the local LAN."
msgstr ""

#: serverguide/C/dns.xml:98(title)
msgid "Caching Nameserver"
msgstr ""

#: serverguide/C/dns.xml:99(para)
msgid ""
"The default configuration is setup to act as a caching server. All that is "
"required is simply adding the IP Addresses of your ISP's DNS servers. Simply "
"uncomment and edit the following in "
"<filename>/etc/bind/named.conf.options</filename>:"
msgstr ""

#: serverguide/C/dns.xml:103(programlisting)
#, no-wrap
msgid ""
"\n"
"forwarders {\n"
"                1.2.3.4;\n"
"                5.6.7.8;\n"
"           };\n"
msgstr ""

#: serverguide/C/dns.xml:110(para)
msgid ""
"Replace <emphasis>1.2.3.4</emphasis> and <emphasis>5.6.7.8</emphasis> with "
"the IP Adresses of actual nameservers."
msgstr ""

#: serverguide/C/dns.xml:114(para)
msgid ""
"Now restart the DNS server, to enable the new configuration. From a terminal "
"prompt:"
msgstr ""

#: serverguide/C/dns.xml:118(command) serverguide/C/dns.xml:194(command) serverguide/C/dns.xml:253(command) serverguide/C/dns.xml:312(command) serverguide/C/dns.xml:561(command)
msgid "sudo /etc/init.d/bind9 restart"
msgstr ""

#: serverguide/C/dns.xml:120(para)
msgid ""
"See <xref linkend=\"dns-testing-dig\"/> for information on testing a caching "
"DNS server."
msgstr ""

#: serverguide/C/dns.xml:125(title)
msgid "Primary Master"
msgstr ""

#: serverguide/C/dns.xml:126(para)
msgid ""
"In this section <application>BIND9</application> will be configured as the "
"Primary Master for the domain <emphasis>example.com</emphasis>. Simply "
"replace <emphasis role=\"italic\">example.com</emphasis> with your FQDN "
"(Fully Qualified Domain Name)."
msgstr ""

#: serverguide/C/dns.xml:132(title)
msgid "Forward Zone File"
msgstr ""

#: serverguide/C/dns.xml:133(para)
msgid ""
"To add a DNS zone to BIND9, turning BIND9 into a Primary Master server, the "
"first step is to edit <filename>/etc/bind/named.conf.local</filename>:"
msgstr ""

#: serverguide/C/dns.xml:137(programlisting)
#, no-wrap
msgid ""
"\n"
"zone \"example.com\" {\n"
"\ttype master;\n"
"        file \"/etc/bind/db.example.com\";\n"
"};\n"
msgstr ""

#: serverguide/C/dns.xml:143(para)
msgid ""
"Now use an existing zone file as a template to create the "
"<filename>/etc/bind/db.example.com</filename> file:"
msgstr ""

#: serverguide/C/dns.xml:147(command)
msgid "sudo cp /etc/bind/db.local /etc/bind/db.example.com"
msgstr ""

#: serverguide/C/dns.xml:149(para)
msgid ""
"Edit the new zone file <filename>/etc/bind/db.example.com</filename> change "
"<emphasis>localhost.</emphasis> to the FQDN of your server, leaving the "
"additional \".\" at the end. Change <emphasis>127.0.0.1</emphasis> to the "
"nameserver's IP Address and <emphasis>root.localhost</emphasis> to a valid "
"email address, but with a \".\" instead of the usual \"@\" symbol, again "
"leaving the \".\" at the end."
msgstr ""

#: serverguide/C/dns.xml:155(para)
msgid ""
"Also, create an <emphasis>A record</emphasis> for <emphasis "
"role=\"italic\">ns.example.com</emphasis>. The name server in this example:"
msgstr ""

#: serverguide/C/dns.xml:159(programlisting)
#, no-wrap
msgid ""
"\n"
";\n"
"; BIND data file for local loopback interface\n"
";\n"
"$TTL    604800\n"
"@       IN      SOA     ns.example.com. root.example.com. (\n"
"                              2         ; Serial\n"
"                         604800         ; Refresh\n"
"                          86400         ; Retry\n"
"                        2419200         ; Expire\n"
"                         604800 )       ; Negative Cache TTL\n"
";\n"
"@       IN      NS      ns.example.com.\n"
"@       IN      A       127.0.0.1\n"
"@       IN      AAAA    ::1\n"
"ns      IN      A       192.168.1.10\n"
msgstr ""

#: serverguide/C/dns.xml:176(para)
msgid ""
"You must increment the <emphasis>Serial Number</emphasis> every time you "
"make changes to the zone file. If you make multiple changes before "
"restarting BIND9, simply increment the Serial once."
msgstr ""

#: serverguide/C/dns.xml:180(para)
msgid ""
"Now, you can add DNS records to the bottom of the zone file. See <xref "
"linkend=\"dns-record-types\"/> for details."
msgstr ""

#: serverguide/C/dns.xml:184(para)
msgid ""
"Many admins like to use the last date edited as the serial of a zone, such "
"as <emphasis>2007010100</emphasis> which is yyyymmddss (where "
"<emphasis>ss</emphasis> is the Serial Number)"
msgstr ""

#: serverguide/C/dns.xml:189(para)
msgid ""
"Once you have made a change to the zone file "
"<application>BIND9</application> will need to be restarted for the changes "
"to take effect:"
msgstr ""

#: serverguide/C/dns.xml:198(title)
msgid "Reverse Zone File"
msgstr ""

#: serverguide/C/dns.xml:199(para)
msgid ""
"Now that the zone is setup and resolving names to IP Adresses a "
"<emphasis>Reverse zone</emphasis> is also required. A Reverse zone allows "
"DNS to resolve an address to a name."
msgstr ""

#: serverguide/C/dns.xml:203(para)
msgid "Edit /etc/bind/named.conf.local and add the following:"
msgstr ""

#: serverguide/C/dns.xml:206(programlisting)
#, no-wrap
msgid ""
"\n"
"zone \"1.168.192.in-addr.arpa\" {\n"
"        type master;\n"
"        notify no;\n"
"        file \"/etc/bind/db.192\";\n"
"};\n"
msgstr ""

#: serverguide/C/dns.xml:214(para)
msgid ""
"Replace <emphasis>1.168.192</emphasis> with the first three octets of "
"whatever network you are using. Also, name the zone file "
"<filename>/etc/bind/db.192</filename> appropriately. It should match the "
"first octet of your network."
msgstr ""

#: serverguide/C/dns.xml:219(para)
msgid "Now create the <filename>/etc/bind/db.192</filename> file:"
msgstr ""

#: serverguide/C/dns.xml:223(command)
msgid "sudo cp /etc/bind/db.127 /etc/bind/db.192"
msgstr ""

#: serverguide/C/dns.xml:225(para)
msgid ""
"Next edit <filename>/etc/bind/db.192</filename> changing the basically the "
"same options as <filename>/etc/bind/db.example.com</filename>:"
msgstr ""

#: serverguide/C/dns.xml:229(programlisting)
#, no-wrap
msgid ""
"\n"
";\n"
"; BIND reverse data file for local loopback interface\n"
";\n"
"$TTL    604800\n"
"@       IN      SOA     ns.example.com. root.example.com. (\n"
"                              2         ; Serial\n"
"                         604800         ; Refresh\n"
"                          86400         ; Retry\n"
"                        2419200         ; Expire\n"
"                         604800 )       ; Negative Cache TTL\n"
";\n"
"@       IN      NS      ns.\n"
"10      IN      PTR     ns.example.com.\n"
msgstr ""

#: serverguide/C/dns.xml:244(para)
msgid ""
"The <emphasis>Serial Number</emphasis> in the Reverse zone needs to be "
"incremented on each changes as well. For each <emphasis>A record</emphasis> "
"you configure in <filename>/etc/bind/db.example.com</filename> you need to "
"create a <emphasis>PTR record</emphasis> in "
"<filename>/etc/bind/db.192</filename>."
msgstr ""

#: serverguide/C/dns.xml:249(para)
msgid ""
"After creating the reverse zone file restart "
"<application>BIND9</application>:"
msgstr ""

#: serverguide/C/dns.xml:258(title)
msgid "Secondary Master"
msgstr ""

#: serverguide/C/dns.xml:259(para)
msgid ""
"Once a <emphasis>Primary Master</emphasis> has been configured a "
"<emphasis>Secondary Master</emphasis> is needed in order to maintain the "
"availability of the domain should the Primary become unavailable."
msgstr ""

#: serverguide/C/dns.xml:263(para)
msgid ""
"First, on the Primary Master server, the zone transfer needs to be allowed. "
"Add the <emphasis>allow-transfer</emphasis> option to the example Forward "
"and Reverse zone definitions in "
"<filename>/etc/bind/named.conf.local</filename>:"
msgstr ""

#: serverguide/C/dns.xml:267(programlisting)
#, no-wrap
msgid ""
"\n"
"zone \"example.com\" {\n"
"        type master;\n"
"\tfile \"/etc/bind/db.example.com\";\n"
"        allow-transfer { 192.168.1.11; };\n"
"};\n"
"\n"
"zone \"1.168.192.in-addr.arpa\" {\n"
"        type master;\n"
"        notify no;\n"
"        file \"/etc/bind/db.192\";\n"
"\tallow-transfer { 192.168.1.11; };\n"
"};\n"
msgstr ""

#: serverguide/C/dns.xml:282(para)
msgid ""
"Replace <emphasis>192.168.1.11</emphasis> with the IP Address of your "
"Secondary nameserver."
msgstr ""

#: serverguide/C/dns.xml:286(para)
msgid ""
"Next, on the Secondary Master, install the <application>bind9</application> "
"package the same way as on the Primary. Then edit the "
"<filename>/etc/bind/named.conf.local</filename> and add the following "
"declarations for the Forward and Reverse zones:"
msgstr ""

#: serverguide/C/dns.xml:290(programlisting)
#, no-wrap
msgid ""
"\n"
"zone \"example.com\" {\n"
"\ttype slave;\n"
"        file \"/var/cache/bind/db.example.com\";\n"
"        masters { 192.168.1.10; };\n"
"};        \n"
"      \n"
"zone \"1.168.192.in-addr.arpa\" {\n"
"\ttype slave;\n"
"        file \"/var/cache/bind/db.192\";\n"
"        masters { 192.168.1.10; };\n"
"};\n"
msgstr ""

#: serverguide/C/dns.xml:304(para)
msgid ""
"Replace <emphasis>192.168.1.10</emphasis> with the IP Address of your "
"Primary nameserver."
msgstr ""

#: serverguide/C/dns.xml:308(para)
msgid "Restart <application>BIND9</application> on the Secondary Master:"
msgstr ""

#: serverguide/C/dns.xml:314(para)
msgid ""
"In <filename>/var/log/syslog</filename> you should see something similar to:"
msgstr ""

#: serverguide/C/dns.xml:317(programlisting)
#, no-wrap
msgid ""
"\n"
"slave zone \"example.com\" (IN) loaded (serial 6)\n"
"slave zone \"100.18.172.in-addr.arpa\" (IN) loaded (serial 3)\n"
msgstr ""

#: serverguide/C/dns.xml:322(para)
msgid ""
"Note: A zone is only transferred if the <emphasis>Serial Number</emphasis> "
"on the Primary is larger than the one on the Secondary."
msgstr ""

#: serverguide/C/dns.xml:328(para)
msgid ""
"The default directory for non-authoritative zone files is "
"<filename>/var/cache/bind/</filename>. This directory is also configured in "
"<application>AppArmor</application> to allow the "
"<application>named</application> daemon to write to. For more information on "
"AppArmor see <xref linkend=\"apparmor\"/>."
msgstr ""

#: serverguide/C/dns.xml:339(para)
msgid ""
"This section covers ways to help determine the cause when problems happen "
"with DNS and <application>BIND9</application>."
msgstr ""

#: serverguide/C/dns.xml:345(title)
msgid "resolv.conf"
msgstr ""

#: serverguide/C/dns.xml:346(para)
msgid ""
"The first step in testing <application>BIND9</application> is to add the "
"nameserver's IP Address to a hosts resolver. The Primary nameserver should "
"be configured as well as another host to double check things. Simply edit "
"<filename>/etc/resolv.conf</filename> and add the following:"
msgstr ""

#: serverguide/C/dns.xml:351(programlisting)
#, no-wrap
msgid ""
"\n"
"nameserver\t192.168.1.10\n"
"nameserver\t192.168.1.11\n"
msgstr ""

#: serverguide/C/dns.xml:356(para)
msgid ""
"You should also add the IP Address of the Secondary nameserver in case the "
"Primary becomes unavailable."
msgstr ""

#: serverguide/C/dns.xml:362(title)
msgid "dig"
msgstr ""

#: serverguide/C/dns.xml:363(para)
msgid ""
"If you installed the <application>dnsutils</application> package you can "
"test your setup using the DNS lookup utility <application>dig</application>:"
msgstr ""

#: serverguide/C/dns.xml:369(para)
msgid ""
"After installing <application>BIND9</application> use "
"<application>dig</application> against the loopback interface to make sure "
"it is listening on port 53. From a terminal prompt:"
msgstr ""

#: serverguide/C/dns.xml:374(command)
msgid "dig -x 127.0.0.1"
msgstr ""

#: serverguide/C/dns.xml:376(para)
msgid "You should see lines similar to the following in the command output:"
msgstr ""

#: serverguide/C/dns.xml:379(programlisting)
#, no-wrap
msgid ""
"\n"
";; Query time: 1 msec\n"
";; SERVER: 192.168.1.10#53(192.168.1.10)\n"
msgstr ""

#: serverguide/C/dns.xml:385(para)
msgid ""
"If you have configured <application>BIND9</application> as a "
"<emphasis>Caching</emphasis> nameserver \"dig\" an outside domain to check "
"the query time:"
msgstr ""

#: serverguide/C/dns.xml:390(command)
msgid "dig ubuntu.com"
msgstr ""

#: serverguide/C/dns.xml:392(para)
msgid "Note the query time toward the end of the command output:"
msgstr ""

#: serverguide/C/dns.xml:395(programlisting)
#, no-wrap
msgid ""
"\n"
";; Query time: 49 msec\n"
msgstr ""

#: serverguide/C/dns.xml:398(para)
msgid "After a second dig there should be improvement:"
msgstr ""

#: serverguide/C/dns.xml:401(programlisting)
#, no-wrap
msgid ""
"\n"
";; Query time: 1 msec\n"
msgstr ""

#: serverguide/C/dns.xml:408(title)
msgid "ping"
msgstr ""

#: serverguide/C/dns.xml:410(para)
msgid ""
"Now to demonstrate how applications make use of DNS to resolve a host name "
"use the <application>ping</application> utility to send an ICMP echo "
"request. From a terminal prompt enter:"
msgstr ""

#: serverguide/C/dns.xml:416(command)
msgid "ping example.com"
msgstr ""

#: serverguide/C/dns.xml:418(para)
msgid ""
"This tests if the nameserver can resolve the name "
"<emphasis>ns.example.com</emphasis> to an IP Address. The command output "
"should resemble:"
msgstr ""

#: serverguide/C/dns.xml:422(programlisting)
#, no-wrap
msgid ""
"\n"
"PING ns.example.com (192.168.1.10) 56(84) bytes of data.\n"
"64 bytes from 192.168.1.10: icmp_seq=1 ttl=64 time=0.800 ms\n"
"64 bytes from 192.168.1.10: icmp_seq=2 ttl=64 time=0.813 ms\n"
msgstr ""

#: serverguide/C/dns.xml:429(title)
msgid "named-checkzone"
msgstr ""

#: serverguide/C/dns.xml:430(para)
msgid ""
"A great way to test your zone files is by using the <application>named-"
"checkzone</application> utility installed with the "
"<application>bind9</application> package. This utility allows you to make "
"sure the configuration is correct before restarting "
"<application>BIND9</application> and making the changes live."
msgstr ""

#: serverguide/C/dns.xml:437(para)
msgid ""
"To test our example Forward zone file enter the following from a command "
"prompt:"
msgstr ""

#: serverguide/C/dns.xml:441(command)
msgid "named-checkzone example.com /etc/bind/db.example.com"
msgstr ""

#: serverguide/C/dns.xml:443(para)
msgid ""
"If everything is configured correctly you should see output similar to:"
msgstr ""

#: serverguide/C/dns.xml:446(programlisting)
#, no-wrap
msgid ""
"\n"
"zone example.com/IN: loaded serial 6\n"
"OK\n"
msgstr ""

#: serverguide/C/dns.xml:452(para)
msgid "Similarly, to test the Reverse zone file enter the following:"
msgstr ""

#: serverguide/C/dns.xml:456(command)
msgid "named-checkzone example.com /etc/bind/db.192"
msgstr ""

#: serverguide/C/dns.xml:458(para)
msgid "The output should be similar to:"
msgstr ""

#: serverguide/C/dns.xml:461(programlisting)
#, no-wrap
msgid ""
"\n"
"zone example.com/IN: loaded serial 3\n"
"OK\n"
msgstr ""

#: serverguide/C/dns.xml:468(para)
msgid ""
"The <emphasis>Serial Number</emphasis> of your zone file will probably be "
"different."
msgstr ""

#: serverguide/C/dns.xml:475(title)
msgid "Logging"
msgstr ""

#: serverguide/C/dns.xml:476(para)
msgid ""
"<application>BIND9</application> has a wide variety of logging configuration "
"options available. There are two main options. The "
"<emphasis>channel</emphasis> option configures where logs go, and the the "
"<emphasis>category</emphasis> option determines what information to log."
msgstr ""

#: serverguide/C/dns.xml:480(para)
msgid "If no logging option is configured the default option is:"
msgstr ""

#: serverguide/C/dns.xml:483(programlisting)
#, no-wrap
msgid ""
"\n"
"logging {\n"
"     category default { default_syslog; default_debug; };\n"
"     category unmatched { null; };\n"
"};\n"
msgstr ""

#: serverguide/C/dns.xml:489(para)
msgid ""
"This section covers configuring <application>BIND9</application> to send "
"<emphasis>debug</emphasis> messages related to DNS queries to a separate "
"file."
msgstr ""

#: serverguide/C/dns.xml:494(para)
msgid ""
"First, we need to configure a channel to specify which file to send the "
"messages to. Edit <filename>/etc/bind/named.conf.local</filename> and add "
"the following:"
msgstr ""

#: serverguide/C/dns.xml:498(programlisting)
#, no-wrap
msgid ""
"\n"
"logging {\n"
"    channel query.log {      \n"
"        file \"/var/log/query.log\";\n"
"        severity debug 3; \n"
"    }; \n"
"};\n"
msgstr ""

#: serverguide/C/dns.xml:508(para)
msgid "Next, configure a category to send all DNS queries to the query file:"
msgstr ""

#: serverguide/C/dns.xml:511(programlisting)
#, no-wrap
msgid ""
"\n"
"logging {\n"
"    channel query.log {      \n"
"        file \"/var/log/query.log\"; \n"
"        severity debug 3; \n"
"    }; \n"
"    <emphasis>category queries { query.log; };</emphasis> \n"
"};\n"
msgstr ""

#: serverguide/C/dns.xml:523(para)
msgid ""
"Note: the <emphasis>debug</emphasis> option can be set from 1 to 3. If a "
"level isn't specified level 1 is the default."
msgstr ""

#: serverguide/C/dns.xml:529(para)
msgid ""
"Since the <emphasis>named daemon</emphasis> runs as the "
"<emphasis>bind</emphasis> user the <filename>/var/log/query.log</filename> "
"file must be created and the ownership changed:"
msgstr ""

#: serverguide/C/dns.xml:534(command)
msgid "sudo touch /var/log/query.log"
msgstr ""

#: serverguide/C/dns.xml:535(command)
msgid "sudo chown bind /var/log/query.log"
msgstr ""

#: serverguide/C/dns.xml:539(para)
msgid ""
"Before <application>named</application> daemon can write to the new log file "
"the <application>AppArmor</application> profile must be updated. First, edit "
"<filename>/etc/apparmor.d/usr.sbin.named</filename> and add:"
msgstr ""

#: serverguide/C/dns.xml:543(programlisting)
#, no-wrap
msgid ""
"\n"
"/var/log/query.log w,\n"
msgstr ""

#: serverguide/C/dns.xml:546(para)
msgid "Next, reload the profile:"
msgstr ""

#: serverguide/C/dns.xml:550(command)
msgid "cat /etc/apparmor.d/usr.sbin.named | sudo apparmor_parser -r"
msgstr ""

#: serverguide/C/dns.xml:552(para)
msgid ""
"For more information on <application>AppArmor</application> see <xref "
"linkend=\"apparmor\"/>"
msgstr ""

#: serverguide/C/dns.xml:557(para)
msgid ""
"Now restart <application>BIND9</application> for the changes to take effect:"
msgstr ""

#: serverguide/C/dns.xml:565(para)
msgid ""
"You should see the file <filename>/var/log/query.log</filename> fill with "
"query information. This is a simple example of the "
"<application>BIND9</application> logging options. For coverage of advanced "
"options see <xref linkend=\"dns-more-info\"/>."
msgstr ""

#: serverguide/C/dns.xml:574(title)
msgid "Common Record Types"
msgstr ""

#: serverguide/C/dns.xml:575(para)
msgid "This section covers some of the most common DNS record types."
msgstr ""

#: serverguide/C/dns.xml:580(para)
msgid ""
"<emphasis>A</emphasis> record: This record maps an IP Address to a hostname."
msgstr ""

#: serverguide/C/dns.xml:583(programlisting)
#, no-wrap
msgid ""
"\n"
"www      IN    A      192.168.1.12\n"
msgstr ""

#: serverguide/C/dns.xml:588(para)
msgid ""
"<emphasis>CNAME</emphasis> record: Used to create an alias to an existing A "
"record. You cannot create a CNAME record pointing to another CNAME record."
msgstr ""

#: serverguide/C/dns.xml:591(programlisting)
#, no-wrap
msgid ""
"\n"
"web     IN    CNAME  www\n"
msgstr ""

#: serverguide/C/dns.xml:596(para)
msgid ""
"<emphasis>MX</emphasis> record: Used to define where email should be sent "
"to. Must point to an A record, not a CNAME."
msgstr ""

#: serverguide/C/dns.xml:599(programlisting)
#, no-wrap
msgid ""
"\n"
"        IN    MX      mail.example.com.\n"
"mail    IN    A       192.168.1.13\n"
msgstr ""

#: serverguide/C/dns.xml:605(para)
msgid ""
"<emphasis>NS</emphasis> record: Used to define which servers serve copies of "
"a zone. It must point to an A record, not a CNAME. This is where Primary and "
"Secondary servers are defined."
msgstr ""

#: serverguide/C/dns.xml:609(programlisting)
#, no-wrap
msgid ""
"\n"
"        IN    NS     ns.example.com.\n"
"\tIN    NS     ns2.example.com.\n"
"ns      IN    A      192.168.1.10\n"
"ns2\tIN    A\t     192.168.1.11\n"
msgstr ""

#: serverguide/C/dns.xml:619(title)
msgid "More Information"
msgstr ""

#: serverguide/C/dns.xml:620(para)
msgid ""
"The <ulink url=\"http://www.tldp.org/HOWTO/DNS-HOWTO.html\">DNS "
"HOWTO</ulink> explains more advanced options for configuring BIND9."
msgstr ""

#: serverguide/C/dns.xml:623(para)
msgid ""
"For in depth coverage of <emphasis>DNS</emphasis> and "
"<application>BIND9</application> see <ulink "
"url=\"http://www.bind9.net/\">Bind9.net</ulink>."
msgstr ""

#: serverguide/C/dns.xml:626(para)
msgid ""
"<ulink url=\"http://www.oreilly.com/catalog/dns5/index.html\">DNS and "
"BIND</ulink> is a popular book now in it's fifth edition."
msgstr ""

#: serverguide/C/dns.xml:629(para)
msgid ""
"A great place to ask for <application>BIND9</application> assistance, and "
"get involved with the Ubuntu Server community, is the <emphasis>#ubuntu-"
"server</emphasis> IRC channel on <ulink "
"url=\"http://freenode.net\">freenode</ulink>."
msgstr ""

#: serverguide/C/databases.xml:13(title)
msgid "Databases"
msgstr ""

#: serverguide/C/databases.xml:14(para)
msgid "Ubuntu provides two popular database servers. They are:"
msgstr ""

#: serverguide/C/databases.xml:22(application) serverguide/C/databases.xml:152(title)
msgid "PostgreSQL"
msgstr ""

#: serverguide/C/databases.xml:25(para)
msgid ""
"They are available in the main repository. This section explains how to "
"install and configure these database servers."
msgstr ""

#: serverguide/C/databases.xml:32(para)
msgid ""
"MySQL is a fast, multi-threaded, multi-user, and robust SQL database server. "
"It is intended for mission-critical, heavy-load production systems as well "
"as for embedding into mass-deployed software."
msgstr ""

#: serverguide/C/databases.xml:41(para)
msgid "To install MySQL, run the following command from a terminal prompt:"
msgstr ""

#: serverguide/C/databases.xml:46(command)
msgid "sudo apt-get install mysql-server"
msgstr ""

#: serverguide/C/databases.xml:48(para)
msgid ""
"During the installation process you will be prompted to enter a password for "
"the <application>MySQL</application> root user."
msgstr ""

#: serverguide/C/databases.xml:53(para)
msgid ""
"Once the installation is complete, the MySQL server should be started "
"automatically. You can run the following command from a terminal prompt to "
"check whether the MySQL server is running:"
msgstr ""

#: serverguide/C/databases.xml:61(command)
msgid "sudo netstat -tap | grep mysql"
msgstr ""

#: serverguide/C/databases.xml:70(programlisting)
#, no-wrap
msgid ""
"\n"
"tcp        0      0 localhost:mysql         *:*                     LISTEN   "
"   2556/mysqld\n"
msgstr ""

#: serverguide/C/databases.xml:74(para)
msgid ""
"If the server is not running correctly, you can type the following command "
"to start it:"
msgstr ""

#: serverguide/C/databases.xml:79(command) serverguide/C/databases.xml:104(command)
msgid "sudo /etc/init.d/mysql restart"
msgstr ""

#: serverguide/C/databases.xml:85(para)
msgid ""
"You can edit the <filename>/etc/mysql/my.cnf</filename> file to configure "
"the basic settings -- log file, port number, etc. For example, to configure "
"<application>MySQL</application> to listen for connections from network "
"hosts, change the <emphasis>bind_address</emphasis> directive to the "
"server's IP address:"
msgstr ""

#: serverguide/C/databases.xml:91(programlisting)
#, no-wrap
msgid ""
"\n"
"bind-address            = 192.168.0.5\n"
msgstr ""

#: serverguide/C/databases.xml:95(para)
msgid "Replace 192.168.0.5 with the appropriate address."
msgstr ""

#: serverguide/C/databases.xml:99(para)
msgid ""
"After making a change to <filename>/etc/mysql/my.cnf</filename> the "
"<application>mysql</application> daemon will need to be restarted:"
msgstr ""

#: serverguide/C/databases.xml:107(para)
msgid ""
"If you would like to change the "
"<application>MySQL</application><emphasis>root</emphasis> password, in a "
"terminal enter:"
msgstr ""

#: serverguide/C/databases.xml:113(command)
msgid "sudo dpkg-reconfigure mysql-server-5.0"
msgstr ""

#: serverguide/C/databases.xml:116(para)
msgid ""
"The <application>mysql</application> daemon will be stopped, and you will be "
"prompted to enter a new password."
msgstr ""

#: serverguide/C/databases.xml:125(para)
msgid ""
"See the <ulink url=\"http://www.mysql.com/\">MySQL Home Page</ulink> for "
"more information."
msgstr ""

#: serverguide/C/databases.xml:130(para)
msgid ""
"The <emphasis>MySQL Handbook</emphasis> is also available in the "
"<application>mysql-doc-5.0</application> package. To install the package "
"enter the following in a terminal:"
msgstr ""

#: serverguide/C/databases.xml:135(command)
msgid "sudo apt-get install mysql-doc-5.0"
msgstr ""

#: serverguide/C/databases.xml:137(para)
msgid ""
"The documentation is in HTML format, to view them enter "
"<command>file:///usr/share/doc/mysql-doc-5.0/refman-5.0-en.html-"
"chapter/index.html</command> in your browser's address bar."
msgstr ""

#: serverguide/C/databases.xml:143(para) serverguide/C/databases.xml:285(para)
msgid ""
"For general SQL information see <ulink "
"url=\"http://www.informit.com/store/product.aspx?isbn=0768664128\">Using SQL "
"Special Edition</ulink> by Rafe Colburn."
msgstr ""

#: serverguide/C/databases.xml:153(para)
msgid ""
"PostgreSQL is an object-relational database system that has the features of "
"traditional commercial database systems with enhancements to be found in "
"next-generation DBMS systems."
msgstr ""

#: serverguide/C/databases.xml:160(para)
msgid ""
"To install PostgreSQL, run the following command in the command prompt:"
msgstr ""

#: serverguide/C/databases.xml:167(command)
msgid "sudo apt-get install postgresql"
msgstr ""

#: serverguide/C/databases.xml:171(para)
msgid ""
"Once the installation is complete, you should configure the PostgreSQL "
"server based on your needs, although the default configuration is viable."
msgstr ""

#: serverguide/C/databases.xml:179(para)
msgid ""
"By default, connection via TCP/IP is disabled. PostgreSQL supports multiple "
"client authentication methods. By default, IDENT authentication method is "
"used for <application>postgres</application> and local users. Please refer "
"<ulink url=\"http://www.postgresql.org/docs/8.3/static/admin.html\"> the "
"PostgreSQL Administrator's Guide</ulink>."
msgstr ""

#: serverguide/C/databases.xml:186(para)
msgid ""
"The following discussion assumes that you wish to enable TCP/IP connections "
"and use the MD5 method for client authentication. PostgreSQL configuration "
"files are stored in the "
"<filename>/etc/postgresql/&lt;version&gt;/main</filename> directory. For "
"example, if you install PostgreSQL 8.3, the configuration files are stored "
"in the <filename>/etc/postgresql/8.3/main</filename> directory."
msgstr ""

#: serverguide/C/databases.xml:196(para)
msgid ""
"To configure <emphasis>ident</emphasis> authentication, add entries to the "
"<filename>/etc/postgresql/8.3/main/pg_ident.conf</filename> file."
msgstr ""

#: serverguide/C/databases.xml:203(para)
msgid ""
"To enable TCP/IP connections, edit the file "
"<filename>/etc/postgresql/8.3/main/postgresql.conf</filename>"
msgstr ""

#: serverguide/C/databases.xml:205(para)
msgid ""
"Locate the line <emphasis>#listen_addresses = 'localhost'</emphasis> and "
"change it to:"
msgstr ""

#: serverguide/C/databases.xml:208(programlisting)
#, no-wrap
msgid ""
"\n"
"listen_addresses = 'localhost'\n"
msgstr ""

#: serverguide/C/databases.xml:212(para)
msgid ""
"To allow other computers to connect to your "
"<application>PostgreSQL</application> server replace 'localhost' with the "
"<emphasis>IP Address</emphasis> of your server."
msgstr ""

#: serverguide/C/databases.xml:217(para)
msgid ""
"You may also edit all other parameters, if you know what you are doing! For "
"details, refer to the configuration file or to the PostgreSQL documentation."
msgstr ""

#: serverguide/C/databases.xml:222(para)
msgid ""
"Now that we can connect to our <application>PostgreSQL</application> server, "
"the next step is to set a password for the <emphasis>postgres</emphasis> "
"user. Run the following command at a terminal prompt to connect to the "
"default PostgreSQL template database:"
msgstr ""

#: serverguide/C/databases.xml:229(command)
msgid "sudo -u postgres psql template1"
msgstr ""

#: serverguide/C/databases.xml:231(para)
msgid ""
"The above command connects to PostgreSQL database "
"<emphasis>template1</emphasis> as user <emphasis>postgres</emphasis>. Once "
"you connect to the PostgreSQL server, you will be at a SQL prompt. You can "
"run the following SQL command at the <application>psql</application> prompt "
"to configure the password for the user <emphasis "
"role=\"italics\">postgres</emphasis>."
msgstr ""

#: serverguide/C/databases.xml:239(command)
msgid "ALTER USER postgres with encrypted password 'your_password';"
msgstr ""

#: serverguide/C/databases.xml:241(para)
msgid ""
"After configuring the password, edit the file "
"<filename>/etc/postgresql/8.3/main/pg_hba.conf</filename> to use "
"<emphasis>MD5</emphasis> authentication with the "
"<emphasis>postgres</emphasis> user:"
msgstr ""

#: serverguide/C/databases.xml:247(programlisting)
#, no-wrap
msgid ""
"\n"
"local   all         postgres                          md5 sameuser\n"
msgstr ""

#: serverguide/C/databases.xml:251(para)
msgid ""
"Finally, you should restart the <application>PostgreSQL</application> "
"service to initialize the new configuration. From a terminal prompt enter "
"the following to restart <application>PostgreSQL</application>:"
msgstr ""

#: serverguide/C/databases.xml:257(command)
msgid "sudo /etc/init.d/postgresql-8.3 restart"
msgstr ""

#: serverguide/C/databases.xml:260(para)
msgid ""
"The above configuration is not complete by any means. Please refer <ulink "
"url=\"http://www.postgresql.org/docs/8.3/static/admin.html\"> the PostgreSQL "
"Administrator's Guide</ulink> to configure more parameters."
msgstr ""

#: serverguide/C/databases.xml:271(para)
msgid ""
"As mentioned above the <ulink "
"url=\"http://www.postgresql.org/docs/8.3/static/admin.html\">Administrator's "
"Guide</ulink> is an excellent resource. The guide is also available in the "
"<application>postgresql-doc-8.3</application> package. Execute the following "
"in a terminal to install the package:"
msgstr ""

#: serverguide/C/databases.xml:277(command)
msgid "sudo apt-get install postgresql-doc-8.3"
msgstr ""

#: serverguide/C/databases.xml:279(para)
msgid ""
"To view the guide enter <command>file:///usr/share/doc/postgresql-doc-"
"8.3/html/index.html</command> into the address bar of your browser."
msgstr ""

#: serverguide/C/clustering.xml:13(title)
msgid "Clustering"
msgstr ""

#: serverguide/C/clustering.xml:16(title)
msgid "DRBD"
msgstr ""

#: serverguide/C/clustering.xml:18(para)
msgid ""
"Distributed Replicated Block Device (DRBD) mirrors block devices between "
"multiple hosts. The replication is transparent to other applications on the "
"host systems. Any block device hard disks, partitions, RAID devices, logical "
"volumes, etc can be mirrored."
msgstr ""

#: serverguide/C/clustering.xml:24(para)
msgid ""
"To get started using <application>drbd</application>, first install the "
"necessary packages. From a terminal enter:"
msgstr ""

#: serverguide/C/clustering.xml:29(command)
msgid "sudo apt-get install drbd8-utils"
msgstr ""

#: serverguide/C/clustering.xml:32(para)
msgid ""
"This section covers setting up a <application>drbd</application> to "
"replicate a separate <filename>/srv</filename> partition, with an "
"<application>ext3</application> filesystem between two hosts. The partition "
"size is not particularly relevant, but both partitions need to be the same "
"size."
msgstr ""

#: serverguide/C/clustering.xml:41(para)
msgid ""
"The two hosts in this example will be called <emphasis>drbd01</emphasis> and "
"<emphasis>drbd02</emphasis>. They will need to have name resolution "
"configured either through DNS or the <filename>/etc/hosts</filename> file. "
"See <xref linkend=\"dns\"/> for details."
msgstr ""

#: serverguide/C/clustering.xml:49(para)
msgid ""
"To configure <application>drbd</application>, on the first host edit "
"<filename>/etc/drbd.conf</filename>:"
msgstr ""

#: serverguide/C/clustering.xml:53(programlisting)
#, no-wrap
msgid ""
"\n"
"global { usage-count no; }\n"
"common { syncer { rate 100M; } }\n"
"resource r0 {\n"
"        protocol C;\n"
"        startup {\n"
"                wfc-timeout  15;\n"
"                degr-wfc-timeout 60;\n"
"        }\n"
"        net {\n"
"                cram-hmac-alg sha1;\n"
"                shared-secret \"secret\";\n"
"                allow-two-primaries;\n"
"        }\n"
"        on drbd01 {\n"
"                device /dev/drbd0;\n"
"                disk /dev/sdb1;\n"
"                address 192.168.0.1:7788;\n"
"                meta-disk internal;\n"
"        }\n"
"        on drbd02 {\n"
"                device /dev/drbd0;\n"
"                disk /dev/sdb1;\n"
"                address 192.168.0.2:7788;\n"
"                meta-disk internal;\n"
"        }\n"
"} \n"
msgstr ""

#: serverguide/C/clustering.xml:83(para)
msgid ""
"There are many other options in <filename>/etc/drbd.conf</filename>, but for "
"this example their default values are fine."
msgstr ""

#: serverguide/C/clustering.xml:91(para)
msgid "Now copy <filename>/etc/drbd.conf</filename> to the second host:"
msgstr ""

#: serverguide/C/clustering.xml:96(command)
msgid "scp /etc/drbd.conf drbd02:~"
msgstr ""

#: serverguide/C/clustering.xml:102(para)
msgid ""
"And, on <emphasis>drbd02</emphasis> move the file to "
"<filename>/etc</filename>:"
msgstr ""

#: serverguide/C/clustering.xml:107(command)
msgid "sudo mv drbd.conf /etc/"
msgstr ""

#: serverguide/C/clustering.xml:113(para)
msgid ""
"Next, on both hosts, start the <application>drbd</application> daemon:"
msgstr ""

#: serverguide/C/clustering.xml:118(command)
msgid "sudo /etc/init.d/drbd start"
msgstr ""

#: serverguide/C/clustering.xml:124(para)
msgid ""
"Now using the <application>drbdadm</application> utility initialize the meta "
"data storage. On each server execute:"
msgstr ""

#: serverguide/C/clustering.xml:130(command)
msgid "sudo drbdadm create-md r0"
msgstr ""

#: serverguide/C/clustering.xml:136(para)
msgid ""
"On the <emphasis>drbd01</emphasis>, or whichever host you wish to be the "
"primary, enter the following:"
msgstr ""

#: serverguide/C/clustering.xml:141(command)
msgid "sudo drbdadm -- --overwrite-data-of-peer primary all"
msgstr ""

#: serverguide/C/clustering.xml:147(para)
msgid ""
"After executing the above command, the data will start syncing with the "
"secondary host. To watch the progresss, on <emphasis>drbd02</emphasis> enter "
"the following:"
msgstr ""

#: serverguide/C/clustering.xml:153(command)
msgid "watch -n1 cat /proc/drbd"
msgstr ""

#: serverguide/C/clustering.xml:156(para)
msgid "To stop watching the output press <emphasis>Ctrl+c</emphasis>."
msgstr ""

#: serverguide/C/clustering.xml:163(para)
msgid ""
"Finally, add a filesystem to <filename>/dev/drbd0</filename> and mount it:"
msgstr ""

#: serverguide/C/clustering.xml:168(command)
msgid "sudo mkfs.ext3 /dev/drbd0"
msgstr ""

#: serverguide/C/clustering.xml:169(command) serverguide/C/clustering.xml:217(command)
msgid "sudo mount /dev/drbd0 /srv"
msgstr ""

#: serverguide/C/clustering.xml:179(para)
msgid ""
"To test that the data is actually syncing between the hosts copy some files "
"on the <emphasis>drbd01</emphasis>, the primary, to "
"<filename>/srv</filename>:"
msgstr ""

#: serverguide/C/clustering.xml:188(para)
msgid "Next, unmount <filename>/srv</filename>:"
msgstr ""

#: serverguide/C/clustering.xml:196(para)
msgid ""
"<emphasis>Demote</emphasis> the <emphasis>primary</emphasis> server to the "
"<emphasis>secondary</emphasis> role:"
msgstr ""

#: serverguide/C/clustering.xml:201(command)
msgid "sudo drbdadm secondary r0"
msgstr ""

#: serverguide/C/clustering.xml:204(para)
msgid ""
"Now on the the <emphasis>secondary</emphasis> server "
"<emphasis>promote</emphasis> it to the <emphasis>primary</emphasis> role:"
msgstr ""

#: serverguide/C/clustering.xml:209(command)
msgid "sudo drbdadm primary r0"
msgstr ""

#: serverguide/C/clustering.xml:212(para)
msgid "Lastly, mount the partition:"
msgstr ""

#: serverguide/C/clustering.xml:220(para)
msgid ""
"Using <emphasis>ls</emphasis> you should see "
"<filename>/srv/default</filename> copied from the former "
"<emphasis>primary</emphasis> host <emphasis>drbd01</emphasis>."
msgstr ""

#: serverguide/C/clustering.xml:231(para)
msgid ""
"For more information on <application>DRBD</application> see the <ulink "
"url=\"http://www.drbd.org/\">DRBD web site</ulink>."
msgstr ""

#: serverguide/C/clustering.xml:236(para)
msgid ""
"The <ulink "
"url=\"http://manpages.ubuntu.com/manpages/jaunty/en/man5/drbd.conf.5.html\">d"
"rbd.conf man page</ulink> contains details on the options not covered in "
"this guide."
msgstr ""

#: serverguide/C/clustering.xml:242(para)
msgid ""
"Also, see the <ulink "
"url=\"http://manpages.ubuntu.com/manpages/jaunty/en/man8/drbdadm.8.html\">drb"
"dadm man page</ulink>."
msgstr ""

#: serverguide/C/backups.xml:13(title)
msgid "Backups"
msgstr ""

#: serverguide/C/backups.xml:14(para)
msgid ""
"There are many ways to backup an Ubuntu installation. The most important "
"thing about backups is to develop a <emphasis>backup plan</emphasis> "
"consisting of what to backup, where to back it up to, and how to restore it."
msgstr ""

#: serverguide/C/backups.xml:18(para)
msgid ""
"The following sections discuss various ways of accomplishing these tasks."
msgstr ""

#: serverguide/C/backups.xml:22(title)
msgid "Shell Scripts"
msgstr ""

#: serverguide/C/backups.xml:23(para)
msgid ""
"One of the simplest ways to backup a system is using a <emphasis>shell "
"script</emphasis>. For example, a script can be used to configure which "
"directories to backup, and use those directories as arguments to the "
"<application>tar</application> utility creating an archive file. The archive "
"file can then be moved or copied to another location. The archive can also "
"be created on a remote file system such as an <emphasis>NFS</emphasis> mount."
msgstr ""

#: serverguide/C/backups.xml:29(para)
msgid ""
"The <application>tar</application> utility creates one archive file out of "
"many files or directories. <application>tar</application> can also filter "
"the files through compression utilities reducing the size of the archive "
"file."
msgstr ""

#: serverguide/C/backups.xml:35(title)
msgid "Simple Shell Script"
msgstr ""

#: serverguide/C/backups.xml:36(para)
msgid ""
"The following shell script uses <application>tar</application> to create an "
"archive file on a remotely mounted NFS file system. The archive filename is "
"determined using additional command line utilities."
msgstr ""

#: serverguide/C/backups.xml:40(programlisting)
#, no-wrap
msgid ""
"\n"
"#!/bin/sh\n"
"####################################\n"
"#\n"
"# Backup to NFS mount script.\n"
"#\n"
"####################################\n"
"\n"
"# What to backup. \n"
"backup_files=\"/home /var/spool/mail /etc /root /boot /opt\"\n"
"\n"
"# Where to backup to.\n"
"dest=\"/mnt/backup\"\n"
"\n"
"# Create archive filename.\n"
"day=$(date +%A)\n"
"hostname=$(hostname -s)\n"
"archive_file=\"$hostname-$day.tgz\"\n"
"\n"
"# Print start status message.\n"
"echo \"Backing up $backup_files to $dest/$archive_file\"\n"
"date\n"
"echo\n"
"\n"
"# Backup the files using tar.\n"
"tar czf $dest/$archive_file $backup_files\n"
"\n"
"# Print end status message.\n"
"echo\n"
"echo \"Backup finished\"\n"
"date\n"
"\n"
"# Long listing of files in $dest to check file sizes.\n"
"ls -lh $dest\n"
msgstr ""

#: serverguide/C/backups.xml:77(para)
msgid ""
"<emphasis>$backup_files:</emphasis> a variable listing which directories you "
"would like to backup. The list should be customized to fit your needs."
msgstr ""

#: serverguide/C/backups.xml:83(para)
msgid ""
"<emphasis>$day:</emphasis> a variable holding the day of the week (Monday, "
"Tuesday, Wednesday, etc). This is used to create an archive file for each "
"day of the week, giving a backup history of seven days. There are other ways "
"to accomplish this including other ways using the "
"<application>date</application> utility."
msgstr ""

#: serverguide/C/backups.xml:90(para)
msgid ""
"<emphasis>$hostname:</emphasis> variable containing the "
"<emphasis>short</emphasis> hostname of the system. Using the hostname in the "
"archive filename gives you the option of placing daily archive files from "
"multiple systems in the same directory."
msgstr ""

#: serverguide/C/backups.xml:97(para)
msgid "<emphasis>$archive_file:</emphasis> the full archive filename."
msgstr ""

#: serverguide/C/backups.xml:102(para)
msgid ""
"<emphasis>$dest:</emphasis> destination of the archive file. The directory "
"needs to be created and in this case <emphasis>mounted</emphasis> before "
"executing the backup script. See <xref linkend=\"network-file-system\"/> for "
"details using <emphasis>NFS</emphasis>."
msgstr ""

#: serverguide/C/backups.xml:109(para)
msgid ""
"<emphasis>status messages:</emphasis> optional messages printed to the "
"console using the <application>echo</application> utility."
msgstr ""

#: serverguide/C/backups.xml:115(para)
msgid ""
"<emphasis>tar czf $dest/$archive_file $backup_files:</emphasis> the "
"<application>tar</application> command used to create the archive file."
msgstr ""

#: serverguide/C/backups.xml:121(para)
msgid "<emphasis>c:</emphasis> creates an archive."
msgstr ""

#: serverguide/C/backups.xml:126(para)
msgid ""
"<emphasis>z:</emphasis> filter the archive through the "
"<application>gzip</application> utility compressing the archive."
msgstr ""

#: serverguide/C/backups.xml:131(para)
msgid ""
"<emphasis>f:</emphasis> use archive file. Otherwise the "
"<application>tar</application> output will be sent to STDOUT."
msgstr ""

#: serverguide/C/backups.xml:138(para)
msgid ""
"<emphasis>ls -lh $dest:</emphasis> optional statement prints a <emphasis>-"
"l</emphasis> long listing in <emphasis>-h</emphasis> human readable format "
"of the destination directory. This is useful for a quick file size check of "
"the archive file. This check should not replace testing the archive file."
msgstr ""

#: serverguide/C/backups.xml:145(para)
msgid ""
"This is a simple example of a backup shell script. There are large amount of "
"options that can be included in a backup script. See <xref linkend=\"backup-"
"shellscript-references\"/> for links to resources providing more in depth "
"shell scripting information."
msgstr ""

#: serverguide/C/backups.xml:152(title)
msgid "Executing the Script"
msgstr ""

#: serverguide/C/backups.xml:154(title)
msgid "Executing from a Terminal"
msgstr ""

#: serverguide/C/backups.xml:155(para)
msgid ""
"The simplest way of executing the above backup script is to copy and paste "
"the contents into a file. <filename>backup.sh</filename> for example. Then "
"from a terminal prompt:"
msgstr ""

#: serverguide/C/backups.xml:160(command)
msgid "sudo bash backup.sh"
msgstr ""

#: serverguide/C/backups.xml:162(para)
msgid ""
"This is a great way to test the script to make sure everything works as "
"expected."
msgstr ""

#: serverguide/C/backups.xml:167(title)
msgid "Executing with cron"
msgstr ""

#: serverguide/C/backups.xml:168(para)
msgid ""
"The <application>cron</application> utility can be used to automate the "
"script execution. The <application>cron</application> daemon allows the "
"execution of scripts, or commands, at a specified time and date."
msgstr ""

#: serverguide/C/backups.xml:172(para)
msgid ""
"<application>cron</application> is configured through entries in a "
"<filename>crontab</filename> file. <filename>crontab</filename> files are "
"separated into fields:"
msgstr ""

#: serverguide/C/backups.xml:176(programlisting)
#, no-wrap
msgid ""
"\n"
"# m h dom mon dow   command\n"
msgstr ""

#: serverguide/C/backups.xml:181(para)
msgid ""
"<emphasis>m:</emphasis> minute the command executes on between 0 and 59."
msgstr ""

#: serverguide/C/backups.xml:186(para)
msgid ""
"<emphasis>h:</emphasis> hour the command executes on between 0 and 23."
msgstr ""

#: serverguide/C/backups.xml:191(para)
msgid "<emphasis>dom:</emphasis> day of month the command executes on."
msgstr ""

#: serverguide/C/backups.xml:196(para)
msgid ""
"<emphasis>mon:</emphasis> the month the command executes on between 1 and 12."
msgstr ""

#: serverguide/C/backups.xml:201(para)
msgid ""
"<emphasis>dow:</emphasis> the day of the week the command executes on "
"between 0 and 7. Sunday may be specified by using 0 or 7, both values are "
"valid."
msgstr ""

#: serverguide/C/backups.xml:206(para)
msgid "<emphasis>command:</emphasis> the command to execute."
msgstr ""

#: serverguide/C/backups.xml:211(para)
msgid ""
"To add or change entries in a <filename>crontab</filename> file the "
"<application>crontab -e</application> command should be used. Also, the "
"contents of a <filename>crontab</filename> file can be viewed using the "
"<application>crontab -l</application> command."
msgstr ""

#: serverguide/C/backups.xml:215(para)
msgid ""
"To execute the <application>backup.sh</application> script listed above "
"using <application>cron</application>. Enter the following from a terminal "
"prompt:"
msgstr ""

#: serverguide/C/backups.xml:220(command)
msgid "sudo crontab -e"
msgstr ""

#: serverguide/C/backups.xml:223(para)
msgid ""
"Using <application>sudo</application> with the <application>crontab -"
"e</application> command edits the <emphasis>root</emphasis> user's crontab. "
"This is necessary if you are backing up directories only the root user has "
"access to."
msgstr ""

#: serverguide/C/backups.xml:228(para)
msgid "Add the following entry to the <filename>crontab</filename> file:"
msgstr ""

#: serverguide/C/backups.xml:231(programlisting)
#, no-wrap
msgid ""
"\n"
"# m h dom mon dow   command\n"
"0 0 * * * bash /usr/local/bin/backup.sh\n"
msgstr ""

#: serverguide/C/backups.xml:235(para)
msgid ""
"The <application>backup.sh</application> script will now be executed every "
"day at 12:00 am."
msgstr ""

#: serverguide/C/backups.xml:239(para)
msgid ""
"The <application>backup.sh</application> script will need to be copied to "
"the <filename>/usr/local/bin/</filename> directory in order for this entry "
"to execute properly. The script can reside anywhere on the file system "
"simply change the script path appropriately."
msgstr ""

#: serverguide/C/backups.xml:244(para)
msgid ""
"For more in depth <application>crontab</application> options see <xref "
"linkend=\"backup-shellscript-references\"/>."
msgstr ""

#: serverguide/C/backups.xml:250(title)
msgid "Restoring from the Archive"
msgstr ""

#: serverguide/C/backups.xml:251(para)
msgid ""
"Once an archive has been created it is important to test the archive. The "
"archive can be tested by listing the files it contains, but the best test is "
"to <emphasis>restore</emphasis> a file from the archive."
msgstr ""

#: serverguide/C/backups.xml:257(para)
msgid "To see a listing of the archive contents. From a terminal prompt:"
msgstr ""

#: serverguide/C/backups.xml:261(command)
msgid "tar -tzvf /mnt/backup/host-Monday.tgz"
msgstr ""

#: serverguide/C/backups.xml:265(para)
msgid "To restore a file from the archive to a different directory enter:"
msgstr ""

#: serverguide/C/backups.xml:269(command)
msgid "tar -xzvf /mnt/backup/host-Monday.tgz -C /tmp etc/hosts"
msgstr ""

#: serverguide/C/backups.xml:271(para)
msgid ""
"The <emphasis>-C</emphasis> option to <application>tar</application> "
"redirects the extracted files to the specified directory. The above example "
"will extract the <filename>/etc/hosts</filename> file to "
"<filename>/tmp/etc/hosts</filename>. <application>tar</application> "
"recreates the directory structure that it contains."
msgstr ""

#: serverguide/C/backups.xml:276(para)
msgid ""
"Also, notice the leading <emphasis>\"/\"</emphasis> is left off the path of "
"the file to restore."
msgstr ""

#: serverguide/C/backups.xml:281(para)
msgid "To restore all files in the archive enter the following:"
msgstr ""

#: serverguide/C/backups.xml:285(command)
msgid "cd /"
msgstr ""

#: serverguide/C/backups.xml:286(command)
msgid "sudo tar -xzvf /mnt/backup/host-Monday.tgz"
msgstr ""

#: serverguide/C/backups.xml:291(para)
msgid "This will overwrite the files currently on the file system."
msgstr ""

#: serverguide/C/backups.xml:300(para)
msgid ""
"For more information on shell scripting see the <ulink "
"url=\"http://tldp.org/LDP/abs/html/\">Advanced Bash-Scripting Guide</ulink>"
msgstr ""

#: serverguide/C/backups.xml:305(para)
msgid ""
"The book <ulink url=\"http://safari.samspublishing.com/0672323583\">Teach "
"Yourself Shell Programming in 24 Hours</ulink> is available online and a "
"great resource for shell scripting."
msgstr ""

#: serverguide/C/backups.xml:311(para)
msgid ""
"The <ulink url=\"https://help.ubuntu.com/community/CronHowto\">CronHowto "
"Wiki Page</ulink> contains details on advanced "
"<application>cron</application> options."
msgstr ""

#: serverguide/C/backups.xml:318(para)
msgid ""
"See the <ulink url=\"http://www.gnu.org/software/tar/manual/index.html\">GNU "
"tar Manual</ulink> for more <application>tar</application> options."
msgstr ""

#: serverguide/C/backups.xml:324(para)
msgid ""
"The Wikipedia <ulink "
"url=\"http://en.wikipedia.org/wiki/Backup_rotation_scheme\">Backup Rotation "
"Scheme</ulink> article contains information on other backup rotation schemes."
msgstr ""

#: serverguide/C/backups.xml:330(para)
msgid ""
"The shell script uses <application>tar</application> to create the archive, "
"but there many other command line utilities that can be used. For example:"
msgstr ""

#: serverguide/C/backups.xml:336(para)
msgid ""
"<ulink url=\"http://www.gnu.org/software/cpio/\">cpio</ulink>: used to copy "
"files to and from archives."
msgstr ""

#: serverguide/C/backups.xml:341(para)
msgid ""
"<ulink url=\"http://www.gnu.org/software/coreutils/\">dd</ulink>: part of "
"the <application>coreutils</application> package. A low level utility that "
"can copy data from one format to another"
msgstr ""

#: serverguide/C/backups.xml:347(para)
msgid ""
"<ulink url=\"http://www.rsnapshot.org/\">rsnapshot</ulink>: a file system "
"snap shot utility used to create copies of an entire file system."
msgstr ""

#: serverguide/C/backups.xml:358(title)
msgid "Archive Rotation"
msgstr ""

#: serverguide/C/backups.xml:359(para)
msgid ""
"The shell script in section <xref linkend=\"backup-shellscripts\"/> only "
"allows for seven different archives. For a server whose data doesn't change "
"often this may be enough. If the server has a large amount of data a more "
"robust rotation scheme should be used."
msgstr ""

#: serverguide/C/backups.xml:365(title)
msgid "Rotating NFS Archives"
msgstr ""

#: serverguide/C/backups.xml:366(para)
msgid ""
"In this section the shell script will be slightly modified to implement a "
"grandfather-father-son rotation scheme (monthly-weekly-daily):"
msgstr ""

#: serverguide/C/backups.xml:372(para)
msgid ""
"The rotation will do a <emphasis>daily</emphasis> backup Sunday through "
"Friday."
msgstr ""

#: serverguide/C/backups.xml:377(para)
msgid ""
"On Saturday a <emphasis>weekly</emphasis> backup is done giving you four "
"weekly backups a month."
msgstr ""

#: serverguide/C/backups.xml:382(para)
msgid ""
"The <emphasis>monthly</emphasis> backup is done on the first of the month "
"rotating two monthly backups based on if the month is odd or even."
msgstr ""

#: serverguide/C/backups.xml:388(para)
msgid "Here is the new script:"
msgstr ""

#: serverguide/C/backups.xml:391(programlisting)
#, no-wrap
msgid ""
"\n"
"#!/bin/bash\n"
"####################################\n"
"#\n"
"# Backup to NFS mount script with\n"
"# grandfather-father-son rotation.\n"
"#\n"
"####################################\n"
"\n"
"# What to backup. \n"
"backup_files=\"/home /var/spool/mail /etc /root /boot /opt\"\n"
"\n"
"# Where to backup to.\n"
"dest=\"/mnt/backup\"\n"
"\n"
"# Setup variables for the archive filename.\n"
"day=$(date +%A)\n"
"hostname=$(hostname -s)\n"
"\n"
"# Find which week of the month 1-4 it is.\n"
"day_num=$(date +%d)\n"
"if (( $day_num &lt;= 7 )); then\n"
"        week_file=\"$hostname-week1.tgz\"\n"
"elif (( $day_num &gt; 7 &amp;&amp; $day_num &lt;= 14 )); then\n"
"        week_file=\"$hostname-week2.tgz\"\n"
"elif (( $day_num &gt; 14 &amp;&amp; $day_num &lt;= 21 )); then\n"
"        week_file=\"$hostname-week3.tgz\"\n"
"elif (( $day_num &gt; 21 &amp;&amp; $day_num &lt; 32 )); then\n"
"        week_file=\"$hostname-week4.tgz\"\n"
"fi\n"
"\n"
"# Find if the Month is odd or even.\n"
"month_num=$(date +%m)\n"
"month=$(expr $month_num % 2)\n"
"if [ $month -eq 0 ]; then\n"
"        month_file=\"$hostname-month2.tgz\"\n"
"else\n"
"        month_file=\"$hostname-month1.tgz\"\n"
"fi\n"
"\n"
"# Create archive filename.\n"
"if [ $day_num == 1 ]; then\n"
"\tarchive_file=$month_file\n"
"elif [ $day != \"Saturday\" ]; then\n"
"        archive_file=\"$hostname-$day.tgz\"\n"
"else \n"
"\tarchive_file=$week_file\n"
"fi\n"
"\n"
"# Print start status message.\n"
"echo \"Backing up $backup_files to $dest/$archive_file\"\n"
"date\n"
"echo\n"
"\n"
"# Backup the files using tar.\n"
"tar czf $dest/$archive_file $backup_files\n"
"\n"
"# Print end status message.\n"
"echo\n"
"echo \"Backup finished\"\n"
"date\n"
"\n"
"# Long listing of files in $dest to check file sizes.\n"
"ls -lh $dest/\n"
msgstr ""

#: serverguide/C/backups.xml:456(para)
msgid ""
"The script can be executed using the same methods as in <xref "
"linkend=\"backup-executing-shellscript\"/>."
msgstr ""

#: serverguide/C/backups.xml:459(para)
msgid ""
"It is good practice to take backup media off site in case of a disaster. In "
"the shell script example the backup media is another server providing an NFS "
"share. In all likelihood taking the NFS server to another location would not "
"be practical. Depending upon connection speeds it may be an option to copy "
"the archive file over a WAN link to a server in another location."
msgstr ""

#: serverguide/C/backups.xml:465(para)
msgid ""
"Another option is to copy the archive file to an external hard drive which "
"can then be taken off site. Since the price of external hard drives continue "
"to decrease it may be cost affective to use two drives for each archive "
"level. This would allow you to have one external drive attached to the "
"backup server and one in another location."
msgstr ""

#: serverguide/C/backups.xml:472(title)
msgid "Tape Drives"
msgstr ""

#: serverguide/C/backups.xml:473(para)
msgid ""
"A tape drive attached to the server can be used instead of a NFS share. "
"Using a tape drive simplifies archive rotation, and taking the media off "
"site as well."
msgstr ""

#: serverguide/C/backups.xml:477(para)
msgid ""
"When using a tape drive the filename portions of the script aren't needed "
"because the date is sent directly to the tape device. Some commands to "
"manipulate the tape are needed. This is accomplished using "
"<application>mt</application>, a magnetic tape control utility part of the "
"<application>cpio</application> package."
msgstr ""

#: serverguide/C/backups.xml:482(para)
msgid "Here is the shell script modified to use a tape drive:"
msgstr ""

#: serverguide/C/backups.xml:485(programlisting)
#, no-wrap
msgid ""
"\n"
"#!/bin/bash\n"
"####################################\n"
"#\n"
"# Backup to tape drive script.\n"
"#\n"
"####################################\n"
"\n"
"# What to backup. \n"
"backup_files=\"/home /var/spool/mail /etc /root /boot /opt\"\n"
"\n"
"# Where to backup to.\n"
"dest=\"/dev/st0\"\n"
"\n"
"# Print start status message.\n"
"echo \"Backing up $backup_files to $dest\"\n"
"date\n"
"echo\n"
"\n"
"# Make sure the tape is rewound.\n"
"mt -f $dest rewind\n"
"\n"
"# Backup the files using tar.\n"
"tar czf $dest $backup_files\n"
"\n"
"# Rewind and eject the tape.\n"
"mt -f $dest rewoffl\n"
"\n"
"# Print end status message.\n"
"echo\n"
"echo \"Backup finished\"\n"
"date\n"
msgstr ""

#: serverguide/C/backups.xml:519(para)
msgid ""
"The default device name for a SCSI tape drive is "
"<filename>/dev/st0</filename>. Use the appropriate device path for your "
"system."
msgstr ""

#: serverguide/C/backups.xml:524(para)
msgid ""
"Restoring from a tape drive is basically the same as restoring from a file. "
"Simply rewind the tape and use the device path instead of a file path. For "
"example to restore the <filename>/etc/hosts</filename> file to "
"<filename>/tmp/etc/hosts</filename>:"
msgstr ""

#: serverguide/C/backups.xml:529(command)
msgid "mt -f /dev/st0 rewind"
msgstr ""

#: serverguide/C/backups.xml:530(command)
msgid "tar -xzf /dev/st0 -C /tmp etc/hosts"
msgstr ""

#: serverguide/C/backups.xml:535(title)
msgid "Bacula"
msgstr ""

#: serverguide/C/backups.xml:536(para)
msgid ""
"<application>Bacula</application> is a backup program enabling you to "
"backup, restore, and verify data across your network. There are Bacula "
"clients for Linux, Windows, and Mac OSX. Making it a cross platform network "
"wide solution."
msgstr ""

#: serverguide/C/backups.xml:542(para)
msgid ""
"<application>Bacula</application> is made up of several components and "
"services used to manage which files to backup and where to back them up to:"
msgstr ""

#: serverguide/C/backups.xml:548(para)
msgid ""
"<application>Bacula Director:</application> a service that controls all "
"backup, restore, verify, and archive operations."
msgstr ""

#: serverguide/C/backups.xml:553(para)
msgid ""
"<application>Bacula Console:</application> an application allowing "
"communication with the Director. There are three versions of the Console:"
msgstr ""

#: serverguide/C/backups.xml:558(para)
msgid "Text based command line version."
msgstr ""

#: serverguide/C/backups.xml:559(para)
msgid "Gnome based GTK+ Graphical User Interface (GUI) interface."
msgstr ""

#: serverguide/C/backups.xml:560(para)
msgid "wxWidgets GUI interface."
msgstr ""

#: serverguide/C/backups.xml:564(para)
msgid ""
"<application>Bacula File:</application> also known as the "
"<application>Bacula Client</application> program. This application is "
"installed on machines to be backed up, and is responsible for the data "
"requested by the Director."
msgstr ""

#: serverguide/C/backups.xml:570(para)
msgid ""
"<application>Bacula Storage:</application> the programs that perform the "
"storage and recovery of data to the physical media."
msgstr ""

#: serverguide/C/backups.xml:575(para)
msgid ""
"<application>Bacula Catalog:</application> is responsible for maintaining "
"the file indexes and volume databases for all files backed up, enabling "
"quick location and restoration of archived files. The Catalog supports three "
"different databases MySQL, PostgreSQL, and SQLite."
msgstr ""

#: serverguide/C/backups.xml:581(para)
msgid ""
"<application>Bacula Monitor:</application> allows the monitoring of the "
"Director, File daemons, and Storage daemons. Currently the Monitor is only "
"available as a GTK+ GUI application."
msgstr ""

#: serverguide/C/backups.xml:587(para)
msgid ""
"These services and applications can be run on multiple servers and clients, "
"or they can be installed on one machine if backing up a single disk or "
"volume."
msgstr ""

#: serverguide/C/backups.xml:594(para)
msgid ""
"There are multiple packages containing the different "
"<application>Bacula</application> components. To install Bacula, from a "
"terminal prompt enter:"
msgstr ""

#: serverguide/C/backups.xml:599(command)
msgid "sudo apt-get install bacula"
msgstr ""

#: serverguide/C/backups.xml:601(para)
msgid ""
"By default installing the <application>bacula</application> package will use "
"a <application>MySQL</application> database for the Catalog. If you want to "
"use SQLite or PostgreSQL, for the Catalog, install <application>bacula-"
"director-sqlite3</application> or <application>bacula-director-"
"pgsql</application> respectively."
msgstr ""

#: serverguide/C/backups.xml:607(para)
msgid ""
"During the install process you will be asked to supply credentials for the "
"database <emphasis>administrator</emphasis> and the "
"<emphasis>bacula</emphasis> database <emphasis>owner</emphasis>. The "
"database administrator will need to have the appropriate rights to create a "
"database, see <xref linkend=\"mysql\"/> for more information."
msgstr ""

#: serverguide/C/backups.xml:617(para)
msgid ""
"<application>Bacula</application> configuration files are formatted based on "
"<emphasis>resources</emphasis> comprising of <emphasis>directives</emphasis> "
"surrounded by <quote>{}</quote> braces. Each Bacula component has an "
"individual file in the <filename role=\"directory\">/etc/bacula</filename> "
"directory."
msgstr ""

#: serverguide/C/backups.xml:622(para)
msgid ""
"The various <application>Bacula</application> components must authorize "
"themselves to each other. This is accomplished using the "
"<emphasis>password</emphasis> directive. For example, the "
"<emphasis>Storage</emphasis> resource password in the "
"<filename>/etc/bacula/bacula-dir.conf</filename> file must match the "
"<emphasis>Director</emphasis> resource password in "
"<filename>/etc/bacula/bacula-sd.conf</filename>."
msgstr ""

#: serverguide/C/backups.xml:628(para)
msgid ""
"By default the backup job named <emphasis>Client1</emphasis> is configured "
"to archive the <application>Bacula</application> Catalog. If you plan on "
"using the server to backup more than one client you should change the name "
"of this job to something more descriptive. To change the name edit "
"<filename>/etc/bacula/bacula-dir.conf</filename>:"
msgstr ""

#: serverguide/C/backups.xml:633(programlisting)
#, no-wrap
msgid ""
"\n"
"#\n"
"# Define the main nightly save backup job\n"
"#   By default, this job will back up to disk in \n"
"Job {\n"
"  Name = \"BackupServer\"\n"
"  JobDefs = \"DefaultJob\"\n"
"  Write Bootstrap = \"/var/lib/bacula/Client1.bsr\"\n"
"}\n"
msgstr ""

#: serverguide/C/backups.xml:644(para)
msgid ""
"The example above changes the job name to <emphasis>BackupServer</emphasis> "
"matching the machine's host name. Replace <quote>BackupServer</quote> with "
"your appropriate hostname, or other descriptive name."
msgstr ""

#: serverguide/C/backups.xml:649(para)
msgid ""
"The <emphasis>Console</emphasis> can be used to query the "
"<emphasis>Director</emphasis> about jobs, but to use the Console with a "
"<emphasis>non-root</emphasis> user, the user needs to be in the "
"<emphasis>bacula</emphasis> group. To add a user to the bacula group enter "
"the following from a terminal:"
msgstr ""

#: serverguide/C/backups.xml:655(command)
msgid "sudo adduser $username bacula"
msgstr ""

#: serverguide/C/backups.xml:658(para)
msgid ""
"Replace <emphasis>$username</emphasis> with the actual username. Also, if "
"you are adding the current user to the group you should log out and back in "
"for the new permissions to take effect."
msgstr ""

#: serverguide/C/backups.xml:665(title)
msgid "Localhost Backup"
msgstr ""

#: serverguide/C/backups.xml:666(para)
msgid ""
"This section describes how to backup specified directories on a single host "
"to a local tape drive."
msgstr ""

#: serverguide/C/backups.xml:671(para)
msgid ""
"First, the <emphasis>Storage</emphasis> device needs to be configured. Edit "
"<filename>/etc/bacula/bacula-sd.conf</filename> add:"
msgstr ""

#: serverguide/C/backups.xml:674(programlisting)
#, no-wrap
msgid ""
"\n"
"Device {\n"
"  Name = \"Tape Drive\"\n"
"  Device Type = tape\n"
"  Media Type = DDS-4\n"
"  Archive Device = /dev/st0\n"
"  Hardware end of medium = No;\n"
"  AutomaticMount = yes;               # when device opened, read it\n"
"  AlwaysOpen = Yes;\n"
"  RemovableMedia = yes;\n"
"  RandomAccess = no;\n"
"  Alert Command = \"sh -c 'tapeinfo -f %c | grep TapeAlert'\"\n"
"}\n"
msgstr ""

#: serverguide/C/backups.xml:688(para)
msgid ""
"The example is for a <emphasis>DDS-4</emphasis> tape drive. Adjust the Media "
"Type and Archive Device to match your hardware."
msgstr ""

#: serverguide/C/backups.xml:691(para)
msgid "You could also uncomment one of the other examples in the file."
msgstr ""

#: serverguide/C/backups.xml:696(para)
msgid ""
"After editing <filename>/etc/bacula/bacula-sd.conf</filename> the "
"<application>Storage</application> daemon will need to be restarted:"
msgstr ""

#: serverguide/C/backups.xml:701(command)
msgid "sudo /etc/init.d/bacula-sd restart"
msgstr ""

#: serverguide/C/backups.xml:705(para)
msgid ""
"Now add a <emphasis>Storage</emphasis> resource in "
"<filename>/etc/bacula/bacula-dir.conf</filename> to use the new Device:"
msgstr ""

#: serverguide/C/backups.xml:708(programlisting)
#, no-wrap
msgid ""
"\n"
"# Definition of \"Tape Drive\" storage device\n"
"Storage {\n"
"  Name = TapeDrive\n"
"  # Do not use \"localhost\" here    \n"
"  Address = backupserver               # N.B. Use a fully qualified name "
"here\n"
"  SDPort = 9103\n"
"  Password = \"Cv70F6pf1t6pBopT4vQOnigDrR0v3LT3Cgkiyj\"\n"
"  Device = \"Tape Drive\"\n"
"  Media Type = tape\n"
"}\n"
msgstr ""

#: serverguide/C/backups.xml:720(para)
msgid ""
"The <emphasis>Address</emphasis> directive needs to be the Fully Qualified "
"Domain Name (FQDN) of the server. Change <emphasis>backupserver</emphasis> "
"to the actual host name."
msgstr ""

#: serverguide/C/backups.xml:724(para)
msgid ""
"Also, make sure the <emphasis>Password</emphasis> directive matches the "
"password string in <filename>/etc/bacula/bacula-sd.conf</filename>."
msgstr ""

#: serverguide/C/backups.xml:730(para)
msgid ""
"Create a new <emphasis>FileSet</emphasis>, which will determine what "
"directories to backup, by adding:"
msgstr ""

#: serverguide/C/backups.xml:733(programlisting)
#, no-wrap
msgid ""
"\n"
"# LocalhostBacup FileSet.\n"
"FileSet {\n"
"  Name = \"LocalhostFiles\"\n"
"  Include {\n"
"    Options {\n"
"      signature = MD5\n"
"      compression=GZIP\n"
"    }\n"
"    File = /etc\n"
"    File = /home\n"
"  }\n"
"}\n"
msgstr ""

#: serverguide/C/backups.xml:747(para)
msgid ""
"This <emphasis>FileSet</emphasis> will backup the <filename "
"role=\"directory\">/etc</filename> and <filename "
"role=\"directory\">/home</filename> directories. The "
"<emphasis>Options</emphasis> resource directives configure the FileSet to "
"create a MD5 signature for each file backed up, and to compress the files "
"using GZIP."
msgstr ""

#: serverguide/C/backups.xml:754(para)
msgid "Next, create a new <emphasis>Schedule</emphasis> for the backup job:"
msgstr ""

#: serverguide/C/backups.xml:757(programlisting)
#, no-wrap
msgid ""
"\n"
"# LocalhostBackup Schedule -- Daily.\n"
"Schedule {\n"
"  Name = \"LocalhostDaily\"\n"
"  Run = Full daily at 00:01\n"
"}\n"
msgstr ""

#: serverguide/C/backups.xml:764(para)
msgid ""
"The job will run every day at 00:01 or 12:01 am. There are many other "
"scheduling options available."
msgstr ""

#: serverguide/C/backups.xml:769(para)
msgid "Finally create the <emphasis>Job</emphasis>:"
msgstr ""

#: serverguide/C/backups.xml:772(programlisting)
#, no-wrap
msgid ""
"\n"
"# Localhost backup.\n"
"Job {\n"
"  Name = \"LocalhostBackup\"\n"
"  JobDefs = \"DefaultJob\"\n"
"  Enabled = yes\n"
"  Level = Full\n"
"  FileSet = \"LocalhostFiles\"\n"
"  Schedule = \"LocalhostDaily\"\n"
"  Storage = TapeDrive\n"
"  Write Bootstrap = \"/var/lib/bacula/LocalhostBackup.bsr\"\n"
"}  \n"
msgstr ""

#: serverguide/C/backups.xml:785(para)
msgid ""
"The job will do a <emphasis>Full</emphasis> backup every day to the tape "
"drive."
msgstr ""

#: serverguide/C/backups.xml:790(para)
msgid ""
"Each tape used will need to have a <emphasis>Label</emphasis>. If the "
"current tape does not have a label <application>Bacula</application> will "
"send an email letting you know. To label a tape using the "
"<application>Console</application> enter the following from a terminal:"
msgstr ""

#: serverguide/C/backups.xml:796(command)
msgid "bconsole"
msgstr ""

#: serverguide/C/backups.xml:800(para)
msgid "At the Bacula Console prompt enter:"
msgstr ""

#: serverguide/C/backups.xml:804(command)
msgid "label"
msgstr ""

#: serverguide/C/backups.xml:808(para)
msgid ""
"You will then be prompted for the <emphasis>Storage</emphasis> resource:"
msgstr ""

#: serverguide/C/backups.xml:818(userinput)
#, no-wrap
msgid "2"
msgstr ""

#: serverguide/C/backups.xml:812(computeroutput)
#, no-wrap
msgid ""
"\n"
"Automatically selected Catalog: MyCatalog\n"
"Using Catalog \"MyCatalog\"\n"
"The defined Storage resources are:\n"
"     1: File\n"
"     2: TapeDrive\n"
"Select Storage resource (1-2):<placeholder-1/>\n"
msgstr ""

#: serverguide/C/backups.xml:823(para)
msgid "Enter the new <emphasis>Volume</emphasis> name:"
msgstr ""

#: serverguide/C/backups.xml:828(userinput)
#, no-wrap
msgid "Sunday"
msgstr ""

#: serverguide/C/backups.xml:827(computeroutput)
#, no-wrap
msgid ""
"\n"
"Enter new Volume name: <placeholder-1/>\n"
"Defined Pools:\n"
"     1: Default\n"
"     2: Scratch"
msgstr ""

#: serverguide/C/backups.xml:833(para)
msgid "Replace <emphasis>Sunday</emphasis> with the desired label."
msgstr ""

#: serverguide/C/backups.xml:838(para)
msgid "Now, select the <emphasis>Pool</emphasis>:"
msgstr ""

#: serverguide/C/backups.xml:843(userinput)
#, no-wrap
msgid "1"
msgstr ""

#: serverguide/C/backups.xml:842(computeroutput)
#, no-wrap
msgid ""
"\n"
"Select the Pool (1-2): <placeholder-1/>\n"
"Connecting to Storage daemon TapeDrive at backupserver:9103 ...\n"
"Sending label command for Volume \"Sunday\" Slot 0 ...\n"
msgstr ""

#: serverguide/C/backups.xml:850(para)
msgid ""
"Congratulations, you have now configured <emphasis>Bacula</emphasis> to "
"backup the localhost to an attached tape drive."
msgstr ""

#: serverguide/C/backups.xml:858(para)
msgid ""
"For more <emphasis>Bacula</emphasis> configuration options refer to the "
"<ulink url=\"http://www.bacula.org/en/rel-manual/index.html\">Bacula User's "
"Manual</ulink>"
msgstr ""

#: serverguide/C/backups.xml:864(para)
msgid ""
"The <ulink url=\"http://www.bacula.org/\">Bacula Home Page</ulink> contains "
"the latest Bacula news and developments."
msgstr ""

#. Put one translator per line, in the form of NAME <EMAIL>, YEAR1, YEAR2.
#: serverguide/C/backups.xml:0(None)
msgid "translator-credits"
msgstr ""
"Launchpad Contributions:\n"
"  Launchpad Translations Administrators https://launchpad.net/~rosetta-"
"admins\n"
"\n"
"Launchpad Contributions:\n"
"  Launchpad Translations Administrators https://launchpad.net/~rosetta-"
"admins\n"
"\n"
"Launchpad Contributions:\n"
"  Launchpad Translations Administrators https://launchpad.net/~rosetta-admins"
