msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2008-08-03 16:01+0100\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: serverguide/C/serverguide-C.omf:6(creator) serverguide/C/serverguide-C.omf:7(maintainer) 
msgid "ubuntu-doc@lists.ubuntu.com (Ubuntu Documentation Project)"
msgstr ""

#: serverguide/C/serverguide-C.omf:8(title) serverguide/C/serverguide-C.omf:11(description) serverguide/C/serverguide.xml:14(title) serverguide/C/bookinfo.xml:13(title) 
msgid "Ubuntu Server Guide"
msgstr ""

#: serverguide/C/serverguide-C.omf:9(date) 
msgid "2007-09-30"
msgstr ""

#: serverguide/C/windows-networking.xml:13(title) 
msgid "Windows Networking"
msgstr ""

#: serverguide/C/windows-networking.xml:15(para) 
msgid "Computer networks are often comprised of diverse systems, and while operating a network made up entirely of Ubuntu desktop and server computers would certainly be fun, some network environments must consist of both Ubuntu and <trademark class=\"registered\">Microsoft</trademark><trademark class=\"registered\">Windows</trademark> systems working together in harmony. This section of the <phrase>Ubuntu</phrase> Server Guide introduces principles and tools used in configuring your Ubuntu Server for sharing network resources with Windows computers."
msgstr ""

#: serverguide/C/windows-networking.xml:25(title) serverguide/C/security.xml:412(title) serverguide/C/remote-administration.xml:22(title) serverguide/C/package-management.xml:20(title) serverguide/C/introduction.xml:13(title) 
msgid "Introduction"
msgstr ""

#: serverguide/C/windows-networking.xml:27(para) 
msgid "Successfully networking your Ubuntu system with Windows clients involves providing and integrating with services common to Windows environments. Such services assist the sharing of data and information about the computers and users involved in the network, and may be classified under three major categories of functionality:"
msgstr ""

#: serverguide/C/windows-networking.xml:35(para) 
msgid "<emphasis role=\"bold\">File and Printer Sharing Services</emphasis>. Using the Server Message Block (SMB) protocol to facilitate the sharing of files, folders, volumes, and the sharing of printers throughout the network."
msgstr ""

#: serverguide/C/windows-networking.xml:41(para) 
msgid "<emphasis role=\"bold\">Directory Services</emphasis>. Sharing vital information about the computers and users of the network with such technologies as the Lightweight Directory Access Protocol (LDAP) and Microsoft <trademark class=\"registered\">Active Directory</trademark>."
msgstr ""

#: serverguide/C/windows-networking.xml:48(para) 
msgid "<emphasis role=\"bold\">Authentication and Access</emphasis>. Establishing the identity of a computer or user of the network and determining the information the computer or user is authorized to access using such principles and technologies as file permissions, group policies, and the Kerberos authentication service."
msgstr ""

#: serverguide/C/windows-networking.xml:56(para) 
msgid "Fortunately, your Ubuntu system may provide all such facilities to Windows clients and share network resources among them. One of the principal pieces of software your Ubuntu system includes for Windows networking is the Samba suite of SMB server applications and tools."
msgstr ""

#: serverguide/C/windows-networking.xml:62(para) 
msgid "This section of the <phrase>Ubuntu</phrase> Server Guide will introduce some of the common Samba use cases, and how to install and configure the necessary packages. Additional detailed documentation and information on Samba can be found on the <ulink url=\"http://www.samba.org\">Samba website</ulink>."
msgstr ""

#: serverguide/C/windows-networking.xml:70(title) 
msgid "Samba File Server"
msgstr ""

#: serverguide/C/windows-networking.xml:72(para) 
msgid "One of the most common ways to network Ubuntu and Windows computers is to configure Samba as a File Server. This section covers setting up a <application>Samba</application> server to share files with Windows clients."
msgstr ""

#: serverguide/C/windows-networking.xml:77(para) 
msgid "The server will be configured to share files with any client on the network without prompting for a password. If your environment requires stricter Access Controls see <xref linkend=\"samba-fileprint-security\"/>"
msgstr ""

#: serverguide/C/windows-networking.xml:83(title) serverguide/C/windows-networking.xml:282(title) serverguide/C/windows-networking.xml:1106(title) serverguide/C/wikis.xml:29(title) serverguide/C/wikis.xml:158(title) serverguide/C/web-servers.xml:41(title) serverguide/C/web-servers.xml:506(title) serverguide/C/web-servers.xml:622(title) serverguide/C/web-servers.xml:743(title) serverguide/C/virtualization.xml:105(title) serverguide/C/vcs.xml:28(title) serverguide/C/vcs.xml:86(title) serverguide/C/vcs.xml:389(title) serverguide/C/remote-administration.xml:52(title) serverguide/C/remote-administration.xml:220(title) serverguide/C/network-config.xml:486(title) serverguide/C/network-auth.xml:52(title) serverguide/C/network-auth.xml:699(title) serverguide/C/network-auth.xml:1071(title) serverguide/C/network-auth.xml:1448(title) serverguide/C/mail.xml:33(title) serverguide/C/mail.xml:421(title) serverguide/C/mail.xml:577(title) serverguide/C/mail.xml:705(title) serverguide/C/mail.xml:1186(title) serverguide/C/installation.xml:13(title) serverguide/C/file-server.xml:158(title) serverguide/C/file-server.xml:270(title) serverguide/C/dns.xml:23(title) serverguide/C/databases.xml:40(title) serverguide/C/databases.xml:143(title) serverguide/C/backups.xml:593(title) 
msgid "Installation"
msgstr ""

#: serverguide/C/windows-networking.xml:85(para) 
msgid "The first step is to install the <application>samba</application> package. From a terminal prompt enter:"
msgstr ""

#: serverguide/C/windows-networking.xml:90(command) serverguide/C/windows-networking.xml:294(command) 
msgid "sudo apt-get install samba"
msgstr ""

#: serverguide/C/windows-networking.xml:93(para) 
msgid "That's all there is to it; you are now ready to configure Samba to share files."
msgstr ""

#: serverguide/C/windows-networking.xml:99(title) serverguide/C/windows-networking.xml:299(title) serverguide/C/wikis.xml:47(title) serverguide/C/wikis.xml:179(title) serverguide/C/web-servers.xml:54(title) serverguide/C/web-servers.xml:557(title) serverguide/C/web-servers.xml:633(title) serverguide/C/web-servers.xml:770(title) serverguide/C/vcs.xml:39(title) serverguide/C/vcs.xml:409(title) serverguide/C/remote-administration.xml:74(title) serverguide/C/remote-administration.xml:247(title) serverguide/C/package-management.xml:170(title) serverguide/C/network-config.xml:508(title) serverguide/C/network-auth.xml:1103(title) serverguide/C/network-auth.xml:1469(title) serverguide/C/mail.xml:430(title) serverguide/C/mail.xml:587(title) serverguide/C/mail.xml:791(title) serverguide/C/mail.xml:1211(title) serverguide/C/file-server.xml:171(title) serverguide/C/file-server.xml:296(title) serverguide/C/dns.xml:39(title) serverguide/C/databases.xml:82(title) serverguide/C/databases.xml:162(title) serverguide/C/backups.xml:616(title) 
msgid "Configuration"
msgstr ""

#: serverguide/C/windows-networking.xml:101(para) 
msgid "The main Samba configuration file is located in <filename>/etc/samba/smb.conf</filename>. The default configuration file has a significant amount of comments in order to document various configuration directives."
msgstr ""

#: serverguide/C/windows-networking.xml:106(para) 
msgid "Not all the available options are included in the default configuration file. See the <filename>smb.conf</filename><application>man</application> page or the <ulink url=\"http://samba.org/samba/docs/man/Samba-HOWTO-Collection/\">Samba HOWTO Collection</ulink> for more details."
msgstr ""

#: serverguide/C/windows-networking.xml:116(para) 
msgid "First, edit the following key/value pairs in the <emphasis>[global]</emphasis> section of <filename>/etc/samba/smb.conf</filename>:"
msgstr ""

#: serverguide/C/windows-networking.xml:121(programlisting) serverguide/C/windows-networking.xml:306(programlisting) serverguide/C/windows-networking.xml:761(programlisting) serverguide/C/windows-networking.xml:975(programlisting) 
#, no-wrap
msgid "\n   workgroup = EXAMPLE\n   ...\n   security = user\n"
msgstr ""

#: serverguide/C/windows-networking.xml:127(para) 
msgid "The <emphasis>security</emphasis> parameter is farther down in the [global] section, and is commented by default. Also, change <emphasis>EXAMPLE</emphasis> to better match your environment."
msgstr ""

#: serverguide/C/windows-networking.xml:135(para) 
msgid "Create a new section at the bottom of the file, or uncomment one of the examples, for the directory to be shared:"
msgstr ""

#: serverguide/C/windows-networking.xml:139(programlisting) 
#, no-wrap
msgid "\n[share]\n    comment = Ubuntu File Server Share\n    path = /srv/samba/share\n    browsable = yes\n    guest ok = yes\n    read only = no\n    create mask = 0755\n"
msgstr ""

#: serverguide/C/windows-networking.xml:151(para) 
msgid "<emphasis>comment:</emphasis> a short description of the share. Adjust to fit your needs."
msgstr ""

#: serverguide/C/windows-networking.xml:156(para) 
msgid "<emphasis>path:</emphasis> the path to the directory to share."
msgstr ""

#: serverguide/C/windows-networking.xml:159(para) 
msgid "This example uses <filename>/srv/samba/sharename</filename> because, according to the <emphasis>Filesystem Hierarchy Standard (FHS)</emphasis>, <ulink url=\"http://www.pathname.com/fhs/pub/fhs-2.3.html#SRVDATAFORSERVICESPROVIDEDBYSYSTEM\">/srv</ulink> is where site-specific data should be served. Technically Samba shares can be placed anywhere on the filesystem as long as the permissions are correct, but adhering to standards is recommended."
msgstr ""

#: serverguide/C/windows-networking.xml:168(para) 
msgid "<emphasis>browsable:</emphasis> enables Windows clients to browse the shared directory using <application>Windows Explorer</application>."
msgstr ""

#: serverguide/C/windows-networking.xml:174(para) 
msgid "<emphasis>guest ok:</emphasis> allows clients to connect to the share without supplying a password."
msgstr ""

#: serverguide/C/windows-networking.xml:179(para) 
msgid "<emphasis>read only:</emphasis> gives write access to the shared directory."
msgstr ""

#: serverguide/C/windows-networking.xml:184(para) 
msgid "<emphasis>create mask:</emphasis> determines the permissions new files will have when created."
msgstr ""

#: serverguide/C/windows-networking.xml:193(para) 
msgid "Now that <application>Samba</application> is configured, the directory needs to be created and the permissions changed. From a terminal enter:"
msgstr ""

#: serverguide/C/windows-networking.xml:199(command) 
msgid "sudo mkdir -p /srv/samba/share"
msgstr ""

#: serverguide/C/windows-networking.xml:200(command) 
msgid "sudo chown nobody.nogroup /srv/samba/share/"
msgstr ""

#: serverguide/C/windows-networking.xml:204(para) 
msgid "The <emphasis>-p</emphasis> switch tells mkdir to create the entire directory tree if it doesn't exist. Change the share name to fit your environment."
msgstr ""

#: serverguide/C/windows-networking.xml:213(para) 
msgid "Finally, restart the <application>samba</application> services to enable the new configuration:"
msgstr ""

#: serverguide/C/windows-networking.xml:218(command) serverguide/C/windows-networking.xml:326(command) serverguide/C/windows-networking.xml:458(command) serverguide/C/windows-networking.xml:557(command) serverguide/C/windows-networking.xml:922(command) serverguide/C/windows-networking.xml:1032(command) serverguide/C/network-auth.xml:845(command) 
msgid "sudo /etc/init.d/samba restart"
msgstr ""

#: serverguide/C/windows-networking.xml:225(para) 
msgid "Once again, the above configuration gives all access to any client on the local network. For a more secure configuration see <xref linkend=\"samba-fileprint-security\"/>."
msgstr ""

#: serverguide/C/windows-networking.xml:231(para) 
msgid "From a Windows client you should now be able to browse to the Ubuntu file server and see the shared directory. To check that everything is working try creating a directory from Windows."
msgstr ""

#: serverguide/C/windows-networking.xml:236(para) 
msgid "To create additional shares simply create new <emphasis>[dir]</emphasis> sections in <filename>/etc/samba/smb.conf</filename>, and restart <emphasis>Samba</emphasis>. Just make sure that the directory you want to share actually exists and the permissions are correct."
msgstr ""

#: serverguide/C/windows-networking.xml:243(title) serverguide/C/windows-networking.xml:336(title) serverguide/C/windows-networking.xml:686(title) serverguide/C/windows-networking.xml:1051(title) serverguide/C/virtualization.xml:401(title) serverguide/C/remote-administration.xml:480(title) serverguide/C/network-auth.xml:655(title) serverguide/C/network-auth.xml:960(title) serverguide/C/network-auth.xml:1544(title) serverguide/C/jeos.xml:776(title) serverguide/C/databases.xml:106(title) serverguide/C/databases.xml:252(title) serverguide/C/backups.xml:855(title) 
msgid "Resources"
msgstr ""

#: serverguide/C/windows-networking.xml:247(para) serverguide/C/windows-networking.xml:340(para) serverguide/C/windows-networking.xml:690(para) serverguide/C/windows-networking.xml:1055(para) 
msgid "For in depth Samba configurations see the <ulink url=\"http://samba.org/samba/docs/man/Samba-HOWTO-Collection/\">Samba HOWTO Collection</ulink>"
msgstr ""

#: serverguide/C/windows-networking.xml:253(para) serverguide/C/windows-networking.xml:346(para) serverguide/C/windows-networking.xml:696(para) serverguide/C/windows-networking.xml:1061(para) 
msgid "The guide is also available in <ulink url=\"http://www.amazon.com/exec/obidos/tg/detail/-/0131882228\">printed format</ulink>."
msgstr ""

#: serverguide/C/windows-networking.xml:259(para) serverguide/C/windows-networking.xml:352(para) 
msgid "O'Reilly's <ulink url=\"http://www.oreilly.com/catalog/9780596007690/\">Using Samba</ulink> is another good reference."
msgstr ""

#: serverguide/C/windows-networking.xml:269(title) 
msgid "Samba Print Server"
msgstr ""

#: serverguide/C/windows-networking.xml:271(para) 
msgid "Another common use of Samba is to configure it to share printers installed, either locally or over the network, on an Ubuntu server. Similar to <xref linkend=\"samba-fileserver\"/> this section will configure Samba to allow any client on the local network to use the installed printers without prompting for a username and password."
msgstr ""

#: serverguide/C/windows-networking.xml:277(para) 
msgid "For a more secure configuration see <xref linkend=\"samba-fileprint-security\"/>."
msgstr ""

#: serverguide/C/windows-networking.xml:284(para) 
msgid "Before installing and configuring Samba it is best to already have a working <application>CUPS</application> installation. See <xref linkend=\"cups\"/> for details."
msgstr ""

#: serverguide/C/windows-networking.xml:289(para) 
msgid "To install the <application>samba</application> package, from a terminal enter:"
msgstr ""

#: serverguide/C/windows-networking.xml:300(para) 
msgid "After installing samba edit <filename>/etc/samba/smb.conf</filename>. Change the <emphasis>workgroup</emphasis> attribute to what is appropriate for your network, and change <emphasis>security</emphasis> to <emphasis role=\"italic\">share</emphasis>:"
msgstr ""

#: serverguide/C/windows-networking.xml:312(para) 
msgid "In the <emphasis>[printers]</emphasis> section change the <emphasis>guest ok</emphasis> option to <emphasis role=\"italic\">yes</emphasis>:"
msgstr ""

#: serverguide/C/windows-networking.xml:316(programlisting) 
#, no-wrap
msgid "\n   browsable = yes\n   guest ok = yes\n"
msgstr ""

#: serverguide/C/windows-networking.xml:321(para) 
msgid "After editing <filename>smb.conf</filename> restart the Samaba:"
msgstr ""

#: serverguide/C/windows-networking.xml:329(para) 
msgid "The default Samba configuration will automatically share any printers installed. Simply install the printer locally on your Windows clients."
msgstr ""

#: serverguide/C/windows-networking.xml:358(para) 
msgid "Also, see the <ulink url=\"http://www.cups.org/\">CUPS Website</ulink> for more information on configuring CUPS."
msgstr ""

#: serverguide/C/windows-networking.xml:367(title) 
msgid "Securing a Samba File and Print Server"
msgstr ""

#: serverguide/C/windows-networking.xml:370(title) 
msgid "Samba Security Modes"
msgstr ""

#: serverguide/C/windows-networking.xml:372(para) 
msgid "There are two security levels available to the Common Internet Filesystem (CIFS) network protocol <emphasis>user-level</emphasis> and <emphasis>share-level</emphasis>. Samba's <emphasis>security mode</emphasis> implementation allows more flexibility, providing four ways of implementing user-level security and one way to implement share-level:"
msgstr ""

#: serverguide/C/windows-networking.xml:381(para) 
msgid "<emphasis>security = user:</emphasis> requires clients to supply a username and password to connect to shares. Samba user accounts are separate from system accounts, but the <application>libpam-smbpass</application> package will sync system users and passwords with the Samba user database."
msgstr ""

#: serverguide/C/windows-networking.xml:388(para) 
msgid "<emphasis>security = domain:</emphasis> this mode allows the Samba server to appear to Windows clients as a Primary Domain Controller (PDC), Backup Domain Controller (BDC), or a Domain Member Server (DMS). See <xref linkend=\"samba-dc\"/> for further information."
msgstr ""

#: serverguide/C/windows-networking.xml:395(para) 
msgid "<emphasis>security = ADS:</emphasis> allows the Samba server to join an Active Directory domain as a native member. See <xref linkend=\"samba-ad-integration\"/> for details."
msgstr ""

#: serverguide/C/windows-networking.xml:401(para) 
msgid "<emphasis>security = server:</emphasis> this mode is left over from before Samba could become a member server, and due to some security issues should not be used. See the <ulink url=\"http://samba.org/samba/docs/man/Samba-HOWTO-Collection/ServerType.html#id349531\">Server Security</ulink> section of the Samba guide for more details."
msgstr ""

#: serverguide/C/windows-networking.xml:409(para) 
msgid "<emphasis>security = share:</emphasis> allows clients to connect to shares without supplying a username and password."
msgstr ""

#: serverguide/C/windows-networking.xml:416(para) 
msgid "The security mode you choose will depend on your environment and what you need the Samba server to accomplish."
msgstr ""

#: serverguide/C/windows-networking.xml:422(title) 
msgid "Security = User"
msgstr ""

#: serverguide/C/windows-networking.xml:424(para) 
msgid "This section will reconfigure the Samba file and print server, from <xref linkend=\"samba-fileserver\"/> and <xref linkend=\"samba-printserver\"/>, to require authentication."
msgstr ""

#: serverguide/C/windows-networking.xml:429(para) 
msgid "First, install the <application>libpam-smbpass</application> package which will sync the system users to the Samba user database:"
msgstr ""

#: serverguide/C/windows-networking.xml:435(command) 
msgid "sudo apt-get install libpam-smbpass"
msgstr ""

#: serverguide/C/windows-networking.xml:439(para) 
msgid "If you chose the <emphasis>Samba Server</emphasis> task during installation <application>libpam-smbpass</application> is already installed."
msgstr ""

#: serverguide/C/windows-networking.xml:445(para) 
msgid "Edit <filename>/etc/samba/smb.conf</filename>, and in the <emphasis>[share]</emphasis> section change:"
msgstr ""

#: serverguide/C/windows-networking.xml:449(programlisting) 
#, no-wrap
msgid "\n    guest ok = no\n"
msgstr ""

#: serverguide/C/windows-networking.xml:453(para) 
msgid "Finally, restart Samba for the new settings to take effect:"
msgstr ""

#: serverguide/C/windows-networking.xml:461(para) 
msgid "Now when connecting to the shared directories or printers you should be prompted for a username and password."
msgstr ""

#: serverguide/C/windows-networking.xml:466(para) 
msgid "If you choose to map a network drive to the share you can check the <quote>Reconnect at Logon</quote> check box, which will require you to only enter the username and password once, at least until the password changes."
msgstr ""

#: serverguide/C/windows-networking.xml:474(title) 
msgid "Share Security"
msgstr ""

#: serverguide/C/windows-networking.xml:476(para) 
msgid "There are several options available to increase the security for each individual shared directory. Using the <emphasis>[share]</emphasis> example, this section will cover some common options."
msgstr ""

#: serverguide/C/windows-networking.xml:482(title) 
msgid "Groups"
msgstr ""

#: serverguide/C/windows-networking.xml:484(para) 
msgid "Groups define a collection of computers or users which have a common level of access to particular network resources and offer a level of granularity in controlling access to such resources. For example, if a group <emphasis role=\"italic\">qa</emphasis> is defined and contains the users <emphasis role=\"italic\">freda</emphasis>, <emphasis role=\"italic\">danika</emphasis>, and <emphasis role=\"italic\">rob</emphasis> and a second group <emphasis role=\"italic\">support</emphasis> is defined and consists of users <emphasis role=\"italic\">danika</emphasis>, <emphasis role=\"italic\">jeremy</emphasis>, and <emphasis role=\"italic\">vincent</emphasis> then certain network resources configured to allow access by the <emphasis role=\"italic\">qa</emphasis> group will subsequently enable access by freda, danika, and rob, but not jeremy or vincent. Since the user <emphasis role=\"italic\">danika</emphasis> belongs to both the <emphasis role=\"italic\">qa</emphasis> and <emphasis role=\"italic\">support</emphasis> groups, she will be able to access resources configured for access by both groups, whereas all other users will have only access to resources explicitly allowing the group they are part of."
msgstr ""

#: serverguide/C/windows-networking.xml:498(para) 
msgid "By default Samba looks for the local system groups defined in <filename>/etc/group</filename> to determine which users belong to which groups. For more information on adding and removing users from groups see <xref linkend=\"adding-deleting-users\"/>."
msgstr ""

#: serverguide/C/windows-networking.xml:504(para) 
msgid "When defining groups in the Samba configuration file, <filename>/etc/samba/smb.conf</filename>, the recognized syntax is to preface the group name with an \"@\" symbol. For example, if you wished to define a group named <emphasis role=\"italic\">sysadmin</emphasis> in a certain section of the <filename>/etc/samba/smb.conf</filename>, you would do so by entering the group name as <emphasis role=\"bold\">@sysadmin</emphasis>."
msgstr ""

#: serverguide/C/windows-networking.xml:513(title) 
msgid "File Permissions"
msgstr ""

#: serverguide/C/windows-networking.xml:515(para) 
msgid "File Permissions define the explicit rights a computer or user has to a particular directory, file, or set of files. Such permissions may be defined by editing the <filename>/etc/samba/smb.conf</filename> file and specifying the explicit permissions of a defined file share."
msgstr ""

#: serverguide/C/windows-networking.xml:521(para) 
msgid "For example, if you have defined a Samba share called <emphasis>share</emphasis> and wish to give <emphasis role=\"italic\">read-only</emphasis> permissions to the group of users known as <emphasis role=\"italic\">qa</emphasis>, but wanted to allow writing to the share by the group called <emphasis role=\"italic\">sysadmin</emphasis> and the user named <emphasis role=\"italic\">vincent</emphasis>, then you could edit the <filename>/etc/samba/smb.conf</filename> file, and add the following entries under the <emphasis>[share]</emphasis> entry:"
msgstr ""

#: serverguide/C/windows-networking.xml:530(programlisting) 
#, no-wrap
msgid "\n    read list = @qa\n    write list = @sysadmin, vincent\n"
msgstr ""

#: serverguide/C/windows-networking.xml:535(para) 
msgid "Another possible Samba permission is to declare <emphasis>administrative</emphasis> permissions to a particular shared resource. Users having administrative permissions may read, write, or modify any information contained in the resource the user has been given explicit administrative permissions to."
msgstr ""

#: serverguide/C/windows-networking.xml:541(para) 
msgid "For example, if you wanted to give the user <emphasis role=\"italic\">melissa</emphasis> administrative permissions to the <emphasis role=\"italic\">share</emphasis> example, you would edit the <filename>/etc/samba/smb.conf</filename> file, and add the following line under the <emphasis>[share]</emphasis> entry:"
msgstr ""

#: serverguide/C/windows-networking.xml:548(programlisting) 
#, no-wrap
msgid "\n    admin users = melissa\n"
msgstr ""

#: serverguide/C/windows-networking.xml:552(para) 
msgid "After editing <filename>/etc/samba/smb.conf</filename>, restart Samba for the changes to take effect:"
msgstr ""

#: serverguide/C/windows-networking.xml:561(para) 
msgid "For the <emphasis>read list</emphasis> and <emphasis>write list</emphasis> to work the Samba security mode must <emphasis>not</emphasis> be set to <emphasis role=\"italic\">security = share</emphasis>"
msgstr ""

#: serverguide/C/windows-networking.xml:567(para) 
msgid "Now that Samba has been configured to limit which groups have access to the shared directory, the filesystem permissions need to be updated."
msgstr ""

#: serverguide/C/windows-networking.xml:572(para) 
msgid "Traditional Linux file permissions do not map well to Windows NT Access Control Lists (ACLs). Fortunately POSIX ACLs are available on Ubuntu servers providing more fine grained control. For example, to enable ACLs on <filename>/srv</filename> an EXT3 filesystem, edit <filename>/etc/fstab</filename> adding the <emphasis>acl</emphasis> option:"
msgstr ""

#: serverguide/C/windows-networking.xml:579(programlisting) 
#, no-wrap
msgid "\nUUID=66bcdd2e-8861-4fb0-b7e4-e61c569fe17d /srv  ext3    noatime,relatime,acl 0       1\n"
msgstr ""

#: serverguide/C/windows-networking.xml:583(para) 
msgid "Then remount the partition:"
msgstr ""

#: serverguide/C/windows-networking.xml:588(command) 
msgid "sudo mount -v -o remount /srv"
msgstr ""

#: serverguide/C/windows-networking.xml:592(para) 
msgid "The above example assumes <filename>/srv</filename> on a separate partition. If <filename>/srv</filename>, or wherever you have configured your share path, is part of the <filename>/</filename> partition a reboot may be required."
msgstr ""

#: serverguide/C/windows-networking.xml:599(para) 
msgid "To match the Samba configuration above the <emphasis>sysadmin</emphasis> group will be given read, write, and execute permissions to <filename>/srv/samba/share</filename>, the <emphasis>qa</emphasis> group will be given read and execute permissions, and the files will be owned by the username <emphasis>melissa</emphasis>. Enter the following in a terminal:"
msgstr ""

#: serverguide/C/windows-networking.xml:607(command) 
msgid "sudo chown -R melissa /srv/samba/share/"
msgstr ""

#: serverguide/C/windows-networking.xml:608(command) 
msgid "sudo chgrp -R sysadmin /srv/samba/share/"
msgstr ""

#: serverguide/C/windows-networking.xml:609(command) 
msgid "sudo setfacl -R -m g:qa:rx /srv/samba/share/"
msgstr ""

#: serverguide/C/windows-networking.xml:613(para) 
msgid "The <application>setfacl</application> command above gives <emphasis>execute</emphasis> permissions to all files in the <filename>/srv/samba/share</filename> directory, which you may or may not want."
msgstr ""

#: serverguide/C/windows-networking.xml:619(para) 
msgid "Now from a Windows client you should notice the new file permissions are implemented. See the <application>acl</application> and <application>setfacl</application> man pages for more information on POSIX ACLs."
msgstr ""

#: serverguide/C/windows-networking.xml:627(title) 
msgid "Samba AppArmor Profile"
msgstr ""

#: serverguide/C/windows-networking.xml:629(para) 
msgid "Ubuntu comes with the <application>AppArmor</application> security module, which provides mandatory access controls. The default AppArmor profile for Samba will need to be adapted to your configuration. For more details on using AppArmor see <xref linkend=\"apparmor\"/>."
msgstr ""

#: serverguide/C/windows-networking.xml:635(para) 
msgid "There are default AppArmor profiles for <filename>/usr/sbin/smbd</filename> and <filename>/usr/sbin/nmbd</filename>, the Samba daemon binaries, as part of the <application>apparmor-profiles</application> packages. To install the package, from a terminal prompt enter:"
msgstr ""

#: serverguide/C/windows-networking.xml:642(command) serverguide/C/security.xml:814(command) 
msgid "sudo apt-get install apparmor-profiles"
msgstr ""

#: serverguide/C/windows-networking.xml:646(para) 
msgid "This package contains profiles for several other binaries."
msgstr ""

#: serverguide/C/windows-networking.xml:651(para) 
msgid "By default the profiles for <application>smbd</application> and <application>nmbd</application> are in <emphasis>complain</emphasis> mode allowing Samba to work without modifying the profile, and only logging errors. To place the <application>smbd</application> profile into <emphasis>enforce</emphasis> mode, and have Samba work as expected, the profile will need to be modified to reflect any directories that are shared."
msgstr ""

#: serverguide/C/windows-networking.xml:658(para) 
msgid "Edit <filename>/etc/apparmor.d/usr.sbin.smbd</filename> adding information for <emphasis>[share]</emphasis> from the file server example:"
msgstr ""

#: serverguide/C/windows-networking.xml:663(programlisting) 
#, no-wrap
msgid "\n  /srv/samba/share/ r,\n  /srv/samba/share/** rwkix,\n"
msgstr ""

#: serverguide/C/windows-networking.xml:668(para) 
msgid "Now place the profile into <emphasis>enforce</emphasis> and reload it:"
msgstr ""

#: serverguide/C/windows-networking.xml:673(command) 
msgid "sudo aa-enforce /usr/sbin/smbd"
msgstr ""

#: serverguide/C/windows-networking.xml:674(command) 
msgid "cat /etc/apparmor.d/usr.sbin.smbd | sudo apparmor_parser -r"
msgstr ""

#: serverguide/C/windows-networking.xml:677(para) 
msgid "You should now be able to read, write, and execute files in the shared directory as normal, and the <application>smbd</application> binary will have access to only the configured files and direcotories. Be sure to add entries for each directory you configure Samba to share. Also, any errors will be logged to <filename>/var/log/syslog</filename>."
msgstr ""

#: serverguide/C/windows-networking.xml:702(para) serverguide/C/windows-networking.xml:1067(para) 
msgid "O'Reilly's <ulink url=\"http://www.oreilly.com/catalog/9780596007690/\">Using Samba</ulink> is also a good reference."
msgstr ""

#: serverguide/C/windows-networking.xml:708(para) 
msgid "<ulink url=\"http://samba.org/samba/docs/man/Samba-HOWTO-Collection/securing-samba.html\">Chapter 18</ulink> of the Samba HOWTO Collection is devoted to security."
msgstr ""

#: serverguide/C/windows-networking.xml:714(para) 
msgid "For more information on Samba and ACLs see the <ulink url=\"http://samba.org/samba/docs/man/Samba-HOWTO-Collection/AccessControls.html#id397568\">Samba ACLs page </ulink>."
msgstr ""

#: serverguide/C/windows-networking.xml:725(title) 
msgid "Samba as a Domain Controller"
msgstr ""

#: serverguide/C/windows-networking.xml:727(para) 
msgid "Although it cannot act as an Active Directory Primary Domain Controller (PDC), a Samba server can be configured to appear as a Windows NT4-style domain controller. A major advantage of this configuration is the ability to centralize user and machine credentials. Samba can also use multiple backends to store the user information."
msgstr ""

#: serverguide/C/windows-networking.xml:734(title) 
msgid "Primary Domain Controller"
msgstr ""

#: serverguide/C/windows-networking.xml:736(para) 
msgid "This section covers configuring Samba as a Primary Domain Controller (PDC) using the default smbpasswd backend."
msgstr ""

#: serverguide/C/windows-networking.xml:743(para) 
msgid "First, install Samba, and <application>libpam-smbpass</application> to sync the user accounts, by entering the following in a terminal prompt:"
msgstr ""

#: serverguide/C/windows-networking.xml:749(command) serverguide/C/windows-networking.xml:965(command) 
msgid "sudo apt-get install samba libpam-smbpass"
msgstr ""

#: serverguide/C/windows-networking.xml:755(para) 
msgid "Next, configure Samba by editing <filename>/etc/samba/smb.conf</filename>. The <emphasis>security</emphasis> mode should be set to <emphasis role=\"italic\">user</emphasis>, and the <emphasis>workgroup</emphasis> should relate to your organization:"
msgstr ""

#: serverguide/C/windows-networking.xml:770(para) 
msgid "In the commented <quote>Domains</quote> section add or uncomment the following:"
msgstr ""

#: serverguide/C/windows-networking.xml:774(programlisting) 
#, no-wrap
msgid "\n   domain logons = yes\n   logon path = \\\\%N\\%U\\profile\n   logon drive = H:\n   logon home = \\\\%N\\%U\n   logon script = logon.cmd\n   add machine script = sudo /usr/sbin/useradd -n -g machines -c Machine -d /var/lib/samba -s /bin/false %u\n"
msgstr ""

#: serverguide/C/windows-networking.xml:785(para) 
msgid "<emphasis>domain logons:</emphasis> provides the netlogon service causing Samba to act as a domain controller."
msgstr ""

#: serverguide/C/windows-networking.xml:790(para) 
msgid "<emphasis>logon path:</emphasis> places the user's Windows profile into their home directory. It is also possible to configure a <emphasis>[profiles]</emphasis> share placing all profiles under a single directory."
msgstr ""

#: serverguide/C/windows-networking.xml:796(para) 
msgid "<emphasis>logon drive:</emphasis> specifies the home directory local path."
msgstr ""

#: serverguide/C/windows-networking.xml:801(para) 
msgid "<emphasis>logon home:</emphasis> specifies the home directory location."
msgstr ""

#: serverguide/C/windows-networking.xml:806(para) 
msgid "<emphasis>logon script:</emphasis> determines the script to be run locally once a user has logged in. The script needs to be placed in the <emphasis>[netlogon]</emphasis> share."
msgstr ""

#: serverguide/C/windows-networking.xml:812(para) 
msgid "<emphasis>add machine script:</emphasis> a script that will automatically create the <emphasis>Machine Trust Account</emphasis> needed for a workstation to join the domain."
msgstr ""

#: serverguide/C/windows-networking.xml:816(para) 
msgid "In this example the <emphasis>machines</emphasis> group will need to be created using the <application>addgroup</application> utility see <xref linkend=\"adding-deleting-users\"/> for details."
msgstr ""

#: serverguide/C/windows-networking.xml:824(para) 
msgid "If you wish to not use <emphasis>Roaming Profiles</emphasis> leave the <emphasis>logon home</emphasis> and <emphasis>logon path</emphasis> options commented."
msgstr ""

#: serverguide/C/windows-networking.xml:833(para) 
msgid "Uncomment the <emphasis>[homes]</emphasis> share to allow the <emphasis role=\"italic\">logon home</emphasis> to be mapped:"
msgstr ""

#: serverguide/C/windows-networking.xml:838(programlisting) 
#, no-wrap
msgid "\n[homes]\n   comment = Home Directories\n   browseable = no\n   read only = no\n   create mask = 0700\n   directory mask = 0700\n   valid users = %S\n"
msgstr ""

#: serverguide/C/windows-networking.xml:851(para) 
msgid "When configured as a domain controller a <emphasis>[netlogon]</emphasis> share needs to be configured. To enable the share, uncomment:"
msgstr ""

#: serverguide/C/windows-networking.xml:856(programlisting) 
#, no-wrap
msgid "\n[netlogon]\n   comment = Network Logon Service\n   path = /srv/samba/netlogon\n   guest ok = yes\n   read only = yes\n   share modes = no\n"
msgstr ""

#: serverguide/C/windows-networking.xml:866(para) 
msgid "The original <emphasis>netlogon</emphasis> share path is <filename>/home/samba/netlogon</filename>, but according to the Filesystem Hierarchy Standard (FHS), <ulink url=\"http://www.pathname.com/fhs/pub/fhs-2.3.html#SRVDATAFORSERVICESPROVIDEDBYSYSTEM\">/srv</ulink> is the correct location for site-specific data provided by the system."
msgstr ""

#: serverguide/C/windows-networking.xml:877(para) 
msgid "Now create the <filename role=\"directory\">netlogon</filename> directory, and an empty (for now) <filename>logon.cmd</filename> script file:"
msgstr ""

#: serverguide/C/windows-networking.xml:883(command) 
msgid "sudo mkdir -p /srv/samba/netlogon"
msgstr ""

#: serverguide/C/windows-networking.xml:884(command) 
msgid "sudo touch /srv/samba/netlogon/logon.cmd"
msgstr ""

#: serverguide/C/windows-networking.xml:887(para) 
msgid "You can enter any normal Windows logon script commands in <filename>logon.cmd</filename> to customize the client's environment."
msgstr ""

#: serverguide/C/windows-networking.xml:895(para) 
msgid "With <emphasis>root</emphasis> being disabled by default, in order to join a workstation to the domain, a system group needs to be mapped to the Windows <emphasis>Domain Admins</emphasis> group. Using the <application>net</application> utility, from a terminal enter:"
msgstr ""

#: serverguide/C/windows-networking.xml:902(command) 
msgid "sudo net groupmap add ntgroup=\"Domain Admins\" unixgroup=sysadmin rid=512 type=d"
msgstr ""

#: serverguide/C/windows-networking.xml:906(para) 
msgid "Change <emphasis role=\"italic\">sysadmin</emphasis> to whichever group you prefer. Also, the user used to join the domain needs to be a member of the <emphasis>sysadmin</emphasis> group, as well as a member of the system <emphasis>admin</emphasis> group. The <emphasis>admin</emphasis> group allows <application>sudo</application> use."
msgstr ""

#: serverguide/C/windows-networking.xml:917(para) 
msgid "Finally, restart Samba to enable the new domain controller:"
msgstr ""

#: serverguide/C/windows-networking.xml:928(para) 
msgid "You should now be able to join Windows clients to the Domain in the same manner as joining them to an NT4 domain running on a Windows server."
msgstr ""

#: serverguide/C/windows-networking.xml:938(title) 
msgid "Backup Domain Controller"
msgstr ""

#: serverguide/C/windows-networking.xml:940(para) 
msgid "With a Primary Domain Controller (PDC) on the network it is best to have a Backup Domain Controller (BDC) as well. This will allow clients to authenticate in case the PDC becomes unavailable."
msgstr ""

#: serverguide/C/windows-networking.xml:945(para) 
msgid "When configuring Samba as a BDC you need a way to sync account information with the PDC. There are multiple ways of accomplishing this <application>scp</application>, <application>rsync</application>, or by using <application>LDAP</application> as the <emphasis>passdb backend</emphasis>."
msgstr ""

#: serverguide/C/windows-networking.xml:951(para) 
msgid "Using LDAP is the most robust way to sync account information, because both domain controllers can use the same information in real time. However, setting up a LDAP server may be overly complicated for a small number of user and computer accounts. See <xref linkend=\"samba-ldap\"/> for details."
msgstr ""

#: serverguide/C/windows-networking.xml:960(para) 
msgid "First, install <application>samba</application> and <application>libpam-smbpass</application>. From a terminal enter:"
msgstr ""

#: serverguide/C/windows-networking.xml:971(para) 
msgid "Now, edit <filename>/etc/samba/smb.conf</filename> and uncomment the following in the <emphasis>[global]</emphasis>:"
msgstr ""

#: serverguide/C/windows-networking.xml:984(para) 
msgid "In the commented <emphasis>Domains</emphasis> uncomment or add:"
msgstr ""

#: serverguide/C/windows-networking.xml:988(programlisting) 
#, no-wrap
msgid "\n   domain logons = yes\n   domain master = no\n"
msgstr ""

#: serverguide/C/windows-networking.xml:996(para) 
msgid "Make sure a user has rights to read the files in <filename>/var/lib/samba</filename>. For example, to allow users in the <emphasis>admin</emphasis> group to <application>scp</application> the files, enter:"
msgstr ""

#: serverguide/C/windows-networking.xml:1002(command) 
msgid "sudo chgrp -R admin /var/lib/samba"
msgstr ""

#: serverguide/C/windows-networking.xml:1008(para) 
msgid "Next, sync the user accounts, using <application>scp</application> to copy the <filename>/var/lib/samba</filename> directory from the PDC:"
msgstr ""

#: serverguide/C/windows-networking.xml:1014(command) 
msgid "sudo scp -r username@pdc:/var/lib/samba /var/lib"
msgstr ""

#: serverguide/C/windows-networking.xml:1018(para) 
msgid "Replace <emphasis>username</emphasis> with a valid username and <emphasis>pdc</emphasis> with the hostname or IP Address of your actual PDC."
msgstr ""

#: serverguide/C/windows-networking.xml:1027(para) 
msgid "Finally, restart <application>samba</application>:"
msgstr ""

#: serverguide/C/windows-networking.xml:1038(para) 
msgid "You can test that your Backup Domain controller is working by stopping the Samba daemon on the PDC, then trying to login to a Windows client joined to the domain."
msgstr ""

#: serverguide/C/windows-networking.xml:1043(para) 
msgid "Another thing to keep in mind is if you have configured the <emphasis>logon home</emphasis> option as a directory on the PDC, and the PDC becomes unavailable, access to the user's <emphasis>Home</emphasis> drive will also be unavailable. For this reason it is best to configure the <emphasis>logon home</emphasis> to reside on a separate file server from the PDC and BDC."
msgstr ""

#: serverguide/C/windows-networking.xml:1073(para) 
msgid "<ulink url=\"http://samba.org/samba/docs/man/Samba-HOWTO-Collection/samba-pdc.html\">Chapter 4</ulink> of the Samba HOWTO Collection explains setting up a Primary Domain Controller."
msgstr ""

#: serverguide/C/windows-networking.xml:1079(para) 
msgid "<ulink url=\"http://us3.samba.org/samba/docs/man/Samba-HOWTO-Collection/samba-bdc.html\">Chapter 5</ulink> of the Samba HOWTO Collection explains setting up a Backup Domain Controller."
msgstr ""

#: serverguide/C/windows-networking.xml:1089(title) 
msgid "Samba Active Directory Integration"
msgstr ""

#: serverguide/C/windows-networking.xml:1091(para) 
msgid "TODO"
msgstr ""

#: serverguide/C/windows-networking.xml:1097(title) 
msgid "Likewise Open"
msgstr ""

#: serverguide/C/windows-networking.xml:1099(para) 
msgid "<application>Likewise Open</application> simplifies the necessary configuration needed to authenticate a Linux machine to an Active Directory domain. Based on <application>winbind</application>, the <application>likewise-open</application> package takes the pain out of integrating Ubuntu authentication into an existing Windows network."
msgstr ""

#: serverguide/C/windows-networking.xml:1108(para) 
msgid "There are two ways to use Likewise Open, <application>likewise-open</application> the command line utility and <application>likewise-open-gui</application>. This section focuses on the command line utility."
msgstr ""

#: serverguide/C/windows-networking.xml:1113(para) 
msgid "To install the <application>likewise-open</application> package, open a terminal prompt and enter:"
msgstr ""

#: serverguide/C/windows-networking.xml:1118(command) 
msgid "sudo apt-get install likewise-open"
msgstr ""

#: serverguide/C/windows-networking.xml:1123(title) 
msgid "Joining a Domain"
msgstr ""

#: serverguide/C/windows-networking.xml:1125(para) 
msgid "The main executable file of the <application>likewise-open</application> package is <filename>/usr/bin/domainjoin-cli</filename>, which is used to join your computer to the domain. Before you join a domain you will need to make sure and have:"
msgstr ""

#: serverguide/C/windows-networking.xml:1133(para) 
msgid "Access to an Active Directory user with appropriate rights to join the domain."
msgstr ""

#: serverguide/C/windows-networking.xml:1138(para) 
msgid "The <emphasis>Fully Qualified Domain Name</emphasis> (FQDN) of the domain you want to join."
msgstr ""

#: serverguide/C/windows-networking.xml:1143(para) 
msgid "DNS for the domain setup properly. In a production AD environment this should be the case. Proper Microsoft DNS is needed so that client workstations can determine the Active Directory domain is available."
msgstr ""

#: serverguide/C/windows-networking.xml:1147(para) 
msgid "If you don't have a Windows DNS server on your network, see <xref linkend=\"likewise-open-ms-dns\"/> for details."
msgstr ""

#: serverguide/C/windows-networking.xml:1154(para) 
msgid "To join a domain, from a terminal prompt enter:"
msgstr ""

#: serverguide/C/windows-networking.xml:1159(command) 
msgid "sudo domainjoin-cli join example.local Administrator"
msgstr ""

#: serverguide/C/windows-networking.xml:1163(para) 
msgid "Replace <emphasis>example.local</emphasis> with your domain name, and <emphasis>Administrator</emphasis> with the appropriate user name."
msgstr ""

#: serverguide/C/windows-networking.xml:1169(para) 
msgid "You will then be prompted for the user's password. If all goes well a <emphasis>SUCCESS</emphasis> message should be printed to the console."
msgstr ""

#: serverguide/C/windows-networking.xml:1174(para) 
msgid "After successfully joining an Ubuntu machine to an Active Directory domain you can authenticate using any valid AD user. To login you will need to enter the user name as 'domain\\username'. For example to ssh to a server joined to the domain enter:"
msgstr ""

#: serverguide/C/windows-networking.xml:1181(command) 
msgid "ssh 'example\\steve'@hostname"
msgstr ""

#: serverguide/C/windows-networking.xml:1185(para) 
msgid "If configuring a Desktop the user name will need to be prefixed with <emphasis role=\"italic\">domain\\</emphasis> in the graphical logon as well."
msgstr ""

#: serverguide/C/windows-networking.xml:1191(para) 
msgid "To make likewise-open use a default domain, you can add the following statement to <filename>/etc/samba/lwiauthd.conf</filename>:"
msgstr ""

#: serverguide/C/windows-networking.xml:1195(programlisting) 
#, no-wrap
msgid "\nwinbind use default domain = yes\n"
msgstr ""

#: serverguide/C/windows-networking.xml:1199(para) 
msgid "Then restart the <application>likewise-open</application> daemons:"
msgstr ""

#: serverguide/C/windows-networking.xml:1204(command) 
msgid "sudo /etc/init.d/likewise-open restart"
msgstr ""

#: serverguide/C/windows-networking.xml:1208(para) 
msgid "Once configured for a <emphasis>default domain</emphasis> the <emphasis role=\"italic\">'domain\\'</emphasis> is no longer required, users can login using only their username."
msgstr ""

#: serverguide/C/windows-networking.xml:1214(para) 
msgid "The <application>domainjoin-cli</application> utility can also be used to leave the domain. From a terminal:"
msgstr ""

#: serverguide/C/windows-networking.xml:1219(command) 
msgid "sudo domainjoin-cli leave"
msgstr ""

#: serverguide/C/windows-networking.xml:1224(title) 
msgid "Other Utilities"
msgstr ""

#: serverguide/C/windows-networking.xml:1226(para) 
msgid "The <application>likewise-open</application> package comes with a few other utilities that may be useful for gathering information about the Active Directory environment. These utilities are used to join the machine to the domain, and are the same as those available in the <application>samba-common</application> and <application>winbind</application> packages:"
msgstr ""

#: serverguide/C/windows-networking.xml:1235(para) 
msgid "<application>lwinet</application>: Returns information about the network and the domain."
msgstr ""

#: serverguide/C/windows-networking.xml:1240(para) 
msgid "<application>lwimsg</application>: Allows interaction with the <application>likewise-winbindd</application> daemon."
msgstr ""

#: serverguide/C/windows-networking.xml:1245(para) 
msgid "<application>lwiinfo</application>: Displays information about various parts of the Domain."
msgstr ""

#: serverguide/C/windows-networking.xml:1251(para) 
msgid "Please refer to each utility's man page specific for details."
msgstr ""

#: serverguide/C/windows-networking.xml:1257(title) serverguide/C/mail.xml:279(title) serverguide/C/mail.xml:1385(title) serverguide/C/dns.xml:328(title) 
msgid "Troubleshooting"
msgstr ""

#: serverguide/C/windows-networking.xml:1259(para) 
msgid "If the client has trouble joining the domain, double check that the Microsoft DNS is listed first in <filename>/etc/resolv.conf</filename>. For example:"
msgstr ""

#: serverguide/C/windows-networking.xml:1264(programlisting) 
#, no-wrap
msgid "\nnameserver 192.168.0.1\n"
msgstr ""

#: serverguide/C/windows-networking.xml:1268(para) 
msgid "For more information when joining a domain, use the <emphasis>--loglevel verbose</emphasis> or <emphasis>--advanced</emphasis> option of the <application>domainjoin-cli</application> utility:"
msgstr ""

#: serverguide/C/windows-networking.xml:1274(command) 
msgid "sudo domainjoin-cli --loglevel verbose join example.local Administrator"
msgstr ""

#: serverguide/C/windows-networking.xml:1277(para) 
msgid "If an Active Directory user has trouble logging in, check the <filename>/var/log/auth.log</filename> for details."
msgstr ""

#: serverguide/C/windows-networking.xml:1283(title) 
msgid "Microsoft DNS"
msgstr ""

#: serverguide/C/windows-networking.xml:1285(para) 
msgid "The following are instructions for installing DNS on an Active Directory domain controller:"
msgstr ""

#: serverguide/C/windows-networking.xml:1291(para) 
msgid "Click <menuchoice><guimenuitem>Start</guimenuitem><guimenuitem>Administrative Tools</guimenuitem><guimenuitem>Manager Your Server</guimenuitem></menuchoice>. This will open the <application>Server Role Mangement</application> utility."
msgstr ""

#: serverguide/C/windows-networking.xml:1301(para) 
msgid "In the Server Role Management utility, Click"
msgstr ""

#: serverguide/C/windows-networking.xml:1302(para) 
msgid "Add or remove a role"
msgstr ""

#: serverguide/C/windows-networking.xml:1303(para) serverguide/C/windows-networking.xml:1305(para) serverguide/C/windows-networking.xml:1308(para) 
msgid "Click Next"
msgstr ""

#: serverguide/C/windows-networking.xml:1304(para) 
msgid "Select \"DNS Server\""
msgstr ""

#: serverguide/C/windows-networking.xml:1306(para) 
msgid "Next"
msgstr ""

#: serverguide/C/windows-networking.xml:1307(para) 
msgid "Select \"Create a forward lookup zone\" if it is not selected."
msgstr ""

#: serverguide/C/windows-networking.xml:1309(para) 
msgid "Make sure \"This server maintains the zone\" is selected and click Next."
msgstr ""

#: serverguide/C/windows-networking.xml:1310(para) 
msgid "Enter your domain name and click Next"
msgstr ""

#: serverguide/C/windows-networking.xml:1311(para) serverguide/C/windows-networking.xml:1312(para) 
msgid "Click Next to \"Allow only secure dynamic updates\""
msgstr ""

#: serverguide/C/windows-networking.xml:1314(para) 
msgid "Enter the IP for DNS servers to forward queries to, or Select \"No, it should not forward queries\" and click Next."
msgstr ""

#: serverguide/C/windows-networking.xml:1318(para) serverguide/C/windows-networking.xml:1319(para) 
msgid "Click Finish"
msgstr ""

#: serverguide/C/windows-networking.xml:1321(para) 
msgid "DNS is now installed and can be further configured using the <application>Microsoft Management Console</application> DNS snap-in."
msgstr ""

#: serverguide/C/windows-networking.xml:1329(para) 
msgid "Click Start"
msgstr ""

#: serverguide/C/windows-networking.xml:1330(para) 
msgid "Control Panel"
msgstr ""

#: serverguide/C/windows-networking.xml:1331(para) 
msgid "Network Connections"
msgstr ""

#: serverguide/C/windows-networking.xml:1332(para) 
msgid "Right Click \"Local Area Connection\""
msgstr ""

#: serverguide/C/windows-networking.xml:1333(para) 
msgid "Click Properties"
msgstr ""

#: serverguide/C/windows-networking.xml:1334(para) 
msgid "Double click \"Internet Protocol (TCP/IP)"
msgstr ""

#: serverguide/C/windows-networking.xml:1335(para) 
msgid "Enter the Server's IP Addressin as the \"Preferred DNS server\""
msgstr ""

#: serverguide/C/windows-networking.xml:1336(para) 
msgid "Click Ok"
msgstr ""

#: serverguide/C/windows-networking.xml:1337(para) 
msgid "Click Ok again to save the seetings"
msgstr ""

#: serverguide/C/windows-networking.xml:1326(para) 
msgid "Next, configure the Server to use itself for DNS queries: <placeholder-1/>"
msgstr ""

#: serverguide/C/windows-networking.xml:1344(title) serverguide/C/web-servers.xml:482(title) serverguide/C/web-servers.xml:728(title) serverguide/C/vcs.xml:525(title) serverguide/C/security.xml:776(title) serverguide/C/security.xml:1100(title) serverguide/C/security.xml:1361(title) serverguide/C/remote-administration.xml:203(title) serverguide/C/package-management.xml:230(title) serverguide/C/network-config.xml:555(title) serverguide/C/mail.xml:387(title) serverguide/C/mail.xml:1091(title) serverguide/C/mail.xml:1433(title) serverguide/C/file-server.xml:247(title) serverguide/C/file-server.xml:408(title) serverguide/C/dns.xml:560(title) serverguide/C/backups.xml:297(title) 
msgid "References"
msgstr ""

#: serverguide/C/windows-networking.xml:1346(para) 
msgid "Please refer to the <ulink url=\"http://www.likewisesoftware.com/\">Likewise</ulink> home page for further information."
msgstr ""

#: serverguide/C/windows-networking.xml:1350(para) 
msgid "For more <application>domainjoin-cli</application> options see the man page: <command>man domainjoin-cli</command>."
msgstr ""

#: serverguide/C/wikis.xml:13(title) 
msgid "Wiki Applications"
msgstr ""

#: serverguide/C/wikis.xml:14(para) 
msgid "A Wiki is a website that allows the visitors to easily add, remove and modify available content easily. The ease of interaction and operation makes Wiki an effective tool for mass collaborative authoring. The term Wiki is also referred to the collaborative software."
msgstr ""

#: serverguide/C/wikis.xml:20(para) 
msgid "In this section, we explain howto install and configure the Wiki applications, <application>MoinMoin</application> and <application>MediaWiki</application> on your Ubuntu system."
msgstr ""

#: serverguide/C/wikis.xml:25(title) 
msgid "Moin Moin"
msgstr ""

#: serverguide/C/wikis.xml:26(para) 
msgid "MoinMoin is a Wiki engine implemented in Python, based on the PikiPiki Wiki engine, and licensed under the GNU GPL."
msgstr ""

#: serverguide/C/wikis.xml:30(para) 
msgid "To install <application>MoinMoin</application>, run the following command in the command prompt:"
msgstr ""

#: serverguide/C/wikis.xml:37(command) 
msgid "sudo apt-get install python-moinmoin"
msgstr ""

#: serverguide/C/wikis.xml:40(para) 
msgid "You should also install <application>apache2</application> web server. For installing <application>apache2</application> web server, please refer to <xref linkend=\"http-installation\"/> sub-section in <xref linkend=\"httpd\"/> section."
msgstr ""

#: serverguide/C/wikis.xml:48(para) 
msgid "For configuring your first Wiki application, please run the following set of commands. Let us assume that you are creating a Wiki named <emphasis>mywiki</emphasis>:"
msgstr ""

#: serverguide/C/wikis.xml:52(programlisting) 
#, no-wrap
msgid "\ncd /usr/share/moin\nsudo mkdir mywiki\nsudo cp -R data mywiki\nsudo cp -R underlay mywiki\nsudo cp server/moin.cgi mywiki\nsudo chown -R www-data.www-data mywiki \nsudo chmod -R ug+rwX mywiki\nsudo chmod -R o-rwx mywiki\n"
msgstr ""

#: serverguide/C/wikis.xml:63(para) 
msgid "Now you should configure <application>MoinMoin</application> to find your new Wiki <emphasis>mywiki</emphasis>. To configure <application>MoinMoin</application>, open <filename>/etc/moin/mywiki.py</filename> file and change the following line:"
msgstr ""

#: serverguide/C/wikis.xml:70(programlisting) 
#, no-wrap
msgid "data_dir = '/org/moin/mywiki/data'"
msgstr ""

#: serverguide/C/wikis.xml:72(para) serverguide/C/file-server.xml:69(para) 
msgid "to"
msgstr ""

#: serverguide/C/wikis.xml:75(programlisting) 
#, no-wrap
msgid "data_dir = '/usr/share/moin/mywiki/data'"
msgstr ""

#: serverguide/C/wikis.xml:78(para) 
msgid "If the <filename>/etc/moin/mywiki.py</filename> file does not exists, you should copy <filename>/etc/moin/moinmaster.py</filename> file to <filename>/etc/moin/mywiki.py</filename> file and do the above mentioned change."
msgstr ""

#: serverguide/C/wikis.xml:87(para) 
msgid "If you have named your Wiki as <emphasis>my_wiki_name</emphasis> you should insert a line <quote>(\"my_wiki_name\", r\".*\")</quote> in <filename>/etc/moin/farmconfig.py</filename> file after the line <quote>(\"mywiki\", r\".*\")</quote>."
msgstr ""

#: serverguide/C/wikis.xml:95(para) 
msgid "Once you have configured <application>MoinMoin</application> to find your first Wiki application <emphasis>mywiki</emphasis>, you should configure <application>apache2</application> and make it ready for your Wiki application."
msgstr ""

#: serverguide/C/wikis.xml:102(para) 
msgid "You should add the following lines in <filename>/etc/apache2/sites-available/default</filename> file inside the <quote>&lt;VirtualHost *&gt;</quote> tag:"
msgstr ""

#: serverguide/C/wikis.xml:107(programlisting) 
#, no-wrap
msgid "\n### moin\n  ScriptAlias /mywiki \"/usr/share/moin/mywiki/moin.cgi\"\n  alias /wiki \"/usr/share/moin/htdocs\"\n  &lt;Directory /usr/share/moin/htdocs&gt;\n  Order allow,deny\n  allow from all\n  &lt;/Directory&gt;\n### end moin\n  "
msgstr ""

#: serverguide/C/wikis.xml:118(para) 
msgid "Once you configure the <application>apache2</application> web server and make it ready for your Wiki application, you should restart it. You can run the following command to restart the <application>apache2</application> web server:"
msgstr ""

#: serverguide/C/wikis.xml:126(command) serverguide/C/web-servers.xml:466(command) serverguide/C/mail.xml:815(command) 
msgid "sudo /etc/init.d/apache2 restart"
msgstr ""

#: serverguide/C/wikis.xml:130(title) 
msgid "Verification"
msgstr ""

#: serverguide/C/wikis.xml:131(para) 
msgid "You can verify the Wiki application and see if it works by pointing your web browser to the following URL:"
msgstr ""

#: serverguide/C/wikis.xml:134(programlisting) 
#, no-wrap
msgid "\nhttp://localhost/mywiki\n"
msgstr ""

#: serverguide/C/wikis.xml:138(para) 
msgid "You can also run the test command by pointing your web browser to the following URL:"
msgstr ""

#: serverguide/C/wikis.xml:142(programlisting) 
#, no-wrap
msgid "\nhttp://localhost/mywiki?action=test\n"
msgstr ""

#: serverguide/C/wikis.xml:145(para) 
msgid "For more details, please refer to the <ulink url=\"http://moinmoin.wikiwikiweb.de/\">MoinMoin</ulink> web site."
msgstr ""

#: serverguide/C/wikis.xml:152(title) 
msgid "MediaWiki"
msgstr ""

#: serverguide/C/wikis.xml:153(para) 
msgid "MediaWiki is an web based Wiki software written in the PHP language. It can either use <application>MySQL</application> or <application>PostgreSQL</application> Database Management System."
msgstr ""

#: serverguide/C/wikis.xml:159(para) 
msgid "Before installing <application>MediaWiki</application> you should also install <application>Apache2</application>, the <application>PHP5</application> scripting language and Database a Management System. <application>MySQL</application> or <application>PostgreSQL</application> are the most common, choose one depending on your need. Please refer to those sections in this manual for installation instructions."
msgstr ""

#: serverguide/C/wikis.xml:166(para) 
msgid "To install <application>MediaWiki</application>, run the following command in the command prompt:"
msgstr ""

#: serverguide/C/wikis.xml:172(command) 
msgid "sudo apt-get install mediawiki php5-gd"
msgstr ""

#: serverguide/C/wikis.xml:180(para) 
msgid "Run the following commands to configure MediaWiki:"
msgstr ""

#: serverguide/C/wikis.xml:185(command) 
msgid "sudo ln -s /var/lib/mediawiki /var/www/mediawiki"
msgstr ""

#: serverguide/C/wikis.xml:188(para) 
msgid "Point your web browser to the following URL for MediaWiki setup:"
msgstr ""

#: serverguide/C/wikis.xml:192(programlisting) 
#, no-wrap
msgid "\nhttp://localhost/mediawiki/config/index.php\n"
msgstr ""

#: serverguide/C/wikis.xml:196(para) 
msgid "Please read the <quote>Checking environment...</quote> section in this page. You should be able to fix many issues by carefully reading this section."
msgstr ""

#: serverguide/C/wikis.xml:202(para) 
msgid "For more details, please refer to the <ulink url=\"http://www.mediawiki.org\">MediaWiki</ulink> web site."
msgstr ""

#: serverguide/C/web-servers.xml:13(title) 
msgid "Web Servers"
msgstr ""

#: serverguide/C/web-servers.xml:14(para) 
msgid "A Web server is a software responsible for accepting HTTP requests from clients, which are known as Web browsers, and serving them HTTP responses along with optional data contents, which usually are Web pages such as HTML documents and linked objects (images, etc.)."
msgstr ""

#: serverguide/C/web-servers.xml:19(title) 
msgid "HTTPD - Apache2 Web Server"
msgstr ""

#: serverguide/C/web-servers.xml:20(para) 
msgid "Apache is the most commonly used Web Server on Linux systems. Web Servers are used to serve Web Pages requested by client computers. Clients typically request and view Web Pages using Web Browser applications such as <application>Firefox</application>, <application>Opera</application>, or <application>Mozilla</application>."
msgstr ""

#: serverguide/C/web-servers.xml:24(para) 
msgid "Users enter a Uniform Resource Locator (URL) to point to a Web server by means of its Fully Qualified Domain Name (FQDN) and a path to the required resource. For example, to view the home page of the <ulink url=\"http://www.ubuntu.com\">Ubuntu Web site</ulink> a user will enter only the FQDN. To request specific information about <ulink url=\"http://www.ubuntu.com/support/paid\">paid support</ulink>, a user will enter the FQDN followed by a path."
msgstr ""

#: serverguide/C/web-servers.xml:29(para) 
msgid "The most common protocol used to transfer Web pages is the Hyper Text Transfer Protocol (HTTP). Protocols such as Hyper Text Transfer Protocol over Secure Sockets Layer (HTTPS), and File Transfer Protocol (FTP), a protocol for uploading and downloading files, are also supported."
msgstr ""

#: serverguide/C/web-servers.xml:33(para) 
msgid "Apache Web Servers are often used in combination with the <application>MySQL</application> database engine, the HyperText Preprocessor (<application>PHP</application>) scripting language, and other popular scripting languages such as <application>Python</application> and <application>Perl</application>. This configuration is termed LAMP (Linux, Apache, MySQL and Perl/Python/PHP) and forms a powerful and robust platform for the development and deployment of Web-based applications."
msgstr ""

#: serverguide/C/web-servers.xml:42(para) 
msgid "The Apache2 web server is available in Ubuntu Linux. To install Apache2:"
msgstr ""

#: serverguide/C/web-servers.xml:45(para) 
msgid "At a terminal prompt enter the following command: <screen>\n<command>sudo apt-get install apache2</command>\n</screen>"
msgstr ""

#: serverguide/C/web-servers.xml:55(para) 
msgid "Apache is configured by placing <emphasis>directives</emphasis> in plain text configuration files. The main configuration file is called <filename>apache2.conf</filename>. In addition, other configuration files may be added using the <emphasis>Include</emphasis> directive, and wildcards can be used to include many configuration files. Any directive may be placed in any of these configuration files. Changes to the main configuration files are only recognized by Apache2 when it is started or restarted."
msgstr ""

#: serverguide/C/web-servers.xml:65(para) 
msgid "The server also reads a file containing mime document types; the filename is set by the <emphasis>TypesConfig</emphasis> directive, and is <filename>mime.types</filename> by default."
msgstr ""

#: serverguide/C/web-servers.xml:69(para) 
msgid "The default Apache2 configuration file is <filename>/etc/apache2/apache2.conf</filename> . You can edit this file to configure the Apache2 server. You can configure the port number, document root, modules, log files, virtual hosts, etc."
msgstr ""

#: serverguide/C/web-servers.xml:75(title) 
msgid "Basic Settings"
msgstr ""

#: serverguide/C/web-servers.xml:76(para) 
msgid "This section explains Apache2 server essential configuration parameters. Refer to the <ulink url=\"http://httpd.apache.org/docs/2.2/\">Apache2 Documentation</ulink> for more details."
msgstr ""

#: serverguide/C/web-servers.xml:84(para) 
msgid "Apache2 ships with a virtual-host-friendly default configuration. That is, it is configured with a single default virtual host (using the <emphasis>VirtualHost</emphasis> directive) which can modified or used as-is if you have a single site, or used as a template for additional virtual hosts if you have multiple sites. If left alone, the default virtual host will serve as your default site, or the site users will see if the URL they enter does not match the <emphasis>ServerName</emphasis> directive of any of your custom sites. To modify the default virtual host, edit the file <filename>/etc/apache2/sites-available/default</filename>. If you wish to configure a new virtual host or site, copy that file into the same directory with a name you choose. For example, <command>sudo cp /etc/apache2/sites-available/default /etc/apache2/sites-available/mynewsite</command> Edit the new file to configure the new site using some of the directives described below."
msgstr ""

#: serverguide/C/web-servers.xml:101(para) 
msgid "The <emphasis>ServerAdmin</emphasis> directive specifies the email address to be advertised for the server's administrator. The default value is webmaster@localhost. This should be changed to an email address that is delivered to you (if you are the server's administrator). If your website has a problem, Apache2 will display an error message containing this email address to report the problem to. Find this directive in your site's configuration file in /etc/apache2/sites-available."
msgstr ""

#: serverguide/C/web-servers.xml:111(para) 
msgid "The <emphasis>Listen</emphasis> directive specifies the port, and optionally the IP address, Apache2 should listen on. If the IP address is not specified, Apache2 will listen on all IP addresses assigned to the machine it runs on. The default value for the Listen directive is 80. Change this to 127.0.0.1:80 to cause Apache2 to listen only on your loopback interface so that it will not be available to the Internet, to (for example) 81 to change the port that it listens on, or leave it as is for normal operation. This directive can be found and changed in its own file, <filename>/etc/apache2/ports.conf</filename>"
msgstr ""

#: serverguide/C/web-servers.xml:134(para) 
msgid "You may also want your site to respond to www.ubunturocks.com, since many users will assume the www prefix is appropriate. Use the <emphasis>ServerAlias</emphasis> directive for this. You may also use wildcards in the ServerAlias directive. For example, <command>ServerAlias *.ubunturocks.com</command> will cause your site to respond to any domain request ending in .ubunturocks.com."
msgstr ""

#: serverguide/C/web-servers.xml:123(para) 
msgid "The <emphasis>ServerName</emphasis> directive is optional and specifies what FQDN your site should answer to. The default virtual host has no ServerName directive specified, so it will respond to all requests that do not match a ServerName directive in another virtual host. If you have just acquired the domain name ubunturocks.com and wish to host it on your Ubuntu server, the value of the ServerName directive in your virtual host configuration file should be ubunturocks.com. Add this directive to the new virtual host file you created earlier (<filename>/etc/apache2/sites-available/mynewsite</filename>). <placeholder-1/>"
msgstr ""

#: serverguide/C/web-servers.xml:144(para) 
msgid "The <emphasis>DocumentRoot</emphasis> directive specifies where Apache should look for the files that make up the site. The default value is /var/www. No site is configured there, but if you uncomment the <emphasis>RedirectMatch</emphasis> directive in <filename>/etc/apache2/apache2.conf</filename> requests will be redirected to /var/www/apache2-default where the default Apache2 site awaits. Change this value in your site's virtual host file, and remember to create that directory if necessary!"
msgstr ""

#: serverguide/C/web-servers.xml:155(para) 
msgid "The /etc/apache2/sites-available directory is <emphasis role=\"bold\"> not</emphasis> parsed by Apache2. Symbolic links in /etc/apache2/sites-enabled point to \"available\" sites. Use the a2ensite (Apache2 Enable Site) utility to create those symbolic links, like so: <command>sudo a2ensite mynewsite</command> where your site's configuration file is <filename> /etc/apache2/sites-available/mynewsite</filename>. Similarly, the a2dissite utility should be used to disable sites."
msgstr ""

#: serverguide/C/web-servers.xml:168(title) 
msgid "Default Settings"
msgstr ""

#: serverguide/C/web-servers.xml:169(para) 
msgid "This section explains configuration of the Apache2 server default settings. For example, if you add a virtual host, the settings you configure for the virtual host take precedence for that virtual host. For a directive not defined within the virtual host settings, the default value is used."
msgstr ""

#: serverguide/C/web-servers.xml:180(para) 
msgid "The <emphasis>DirectoryIndex</emphasis> is the default page served by the server when a user requests an index of a directory by specifying a forward slash (/) at the end of the directory name."
msgstr ""

#: serverguide/C/web-servers.xml:186(para) 
msgid "For example, when a user requests the page http://www.example.com/this_directory/, he or she will get either the DirectoryIndex page if it exists, a server-generated directory list if it does not and the Indexes option is specified, or a Permission Denied page if neither is true. The server will try to find one of the files listed in the DirectoryIndex directive and will return the first one it finds. If it does not find any of these files and if Options Indexes is set for that directory, the server will generate and return a list, in HTML format, of the subdirectories and files in the directory. The default value, found in <filename>/etc/apache2/apache2.conf</filename> is \" index.html index.cgi index.pl index.php index.xhtml\". Thus, if Apache2 finds a file in a requested directory matching any of these names, the first will be displayed."
msgstr ""

#: serverguide/C/web-servers.xml:206(para) 
msgid "The <emphasis>ErrorDocument</emphasis> directive allows you to specify a file for Apache to use for specific error events. For example, if a user requests a resource that does not exist, a 404 error will occur, and per Apache2's default configuration, the file <filename>/usr/share/apache2/error/HTTP_NOT_FOUND.html.var </filename> will be displayed. That file is not in the server's DocumentRoot, but there is an Alias directive in <filename>/etc/apache2/apache2.conf</filename> that redirects requests to the /error directory to /usr/share/apache2/error/. To see a list of the default ErrorDocument directives, use this command: <command>grep ErrorDocument /etc/apache2/apache2.conf</command>"
msgstr ""

#: serverguide/C/web-servers.xml:224(para) 
msgid "By default, the server writes the transfer log to the file /var/log/apache2/access.log. You can change this on a per-site basis in your virtual host configuration files with the <emphasis>CustomLog</emphasis> directive, or omit it to accept the default, specified in <filename> /etc/apache2/apache2.conf</filename>. You may also specify the file to which errors are logged, via the <emphasis>ErrorLog</emphasis> directive, whose default is <filename>/var/log/apache2/error.log</filename>. These are kept separate from the transfer logs to aid in troubleshooting problems with your Apache2 server. You may also specify the <emphasis>LogLevel</emphasis> (the default value is \"warn\") and the <emphasis>LogFormat</emphasis> (see <filename> /etc/apache2/apache2.conf</filename> for the default value)."
msgstr ""

#: serverguide/C/web-servers.xml:240(para) 
msgid "Some options are specified on a per-directory basis rather than per-server. Option is one of these directives. A Directory stanza is enclosed in XML-like tags, like so:"
msgstr ""

#: serverguide/C/web-servers.xml:246(command) 
msgid "&lt;Directory /var/www/mynewsite&gt; ... &lt;/Directory&gt;"
msgstr ""

#: serverguide/C/web-servers.xml:250(para) 
msgid "The Options directive within a Directory stanza accepts one or more of the following values (among others), separated by spaces:"
msgstr ""

#: serverguide/C/web-servers.xml:259(para) 
msgid "Most files should not be executed as CGI scripts. This would be very dangerous. CGI scripts should kept in a directory separate from and outside your DocumentRoot, and only this directory should have the ExecCGI option set. This is the default, and the default location for CGI scripts is /usr/lib/cgi-bin."
msgstr ""

#: serverguide/C/web-servers.xml:256(para) 
msgid "<emphasis role=\"bold\">ExecCGI</emphasis> - Allow execution of CGI scripts. CGI scripts are not executed if this option is not chosen. <placeholder-1/>"
msgstr ""

#: serverguide/C/web-servers.xml:268(para) 
msgid "<emphasis role=\"bold\">Includes</emphasis> - Allow server-side includes. Server-side includes allow an HTML file to <emphasis> include</emphasis> other files. This is not a common option. See <ulink url=\"http://httpd.apache.org/docs/2.2/howto/ssi.html\">the Apache2 SSI HOWTO</ulink> for more information."
msgstr ""

#: serverguide/C/web-servers.xml:275(para) 
msgid "<emphasis role=\"bold\">IncludesNOEXEC</emphasis> - Allow server-side includes, but disable the #exec and #include commands in CGI scripts."
msgstr ""

#: serverguide/C/web-servers.xml:286(para) 
msgid "For security reasons, this should usually not be set, and certainly should not be set on your DocumentRoot directory. Enable this option carefully on a per-directory basis only if you are certain you want users to see the entire contents of the directory."
msgstr ""

#: serverguide/C/web-servers.xml:281(para) 
msgid "<emphasis role=\"bold\">Indexes</emphasis> - Display a formatted list of the directory's contents, if no <emphasis>DirectoryIndex</emphasis> (such as index.html) exists in the requested directory. <placeholder-1/>"
msgstr ""

#: serverguide/C/web-servers.xml:293(para) 
msgid "<emphasis role=\"bold\">Multiview</emphasis> - Support content-negotiated multiviews; this option is disabled by default for security reasons. See the <ulink url=\"http://httpd.apache.org/docs/2.2/mod/mod_negotiation.html#multiviews\">Apache2 documentation on this option</ulink>."
msgstr ""

#: serverguide/C/web-servers.xml:301(para) 
msgid "<emphasis role=\"bold\">SymLinksIfOwnerMatch</emphasis> - Only follow symbolic links if the target file or directory has the same owner as the link."
msgstr ""

#: serverguide/C/web-servers.xml:314(title) 
msgid "Virtual Hosts Settings"
msgstr ""

#: serverguide/C/web-servers.xml:315(para) 
msgid "Virtual hosts allow you to run different servers for different IP addresses, different host names, or different ports on the same machine. For example, you can run the website for http://www.example.com and http://www.anotherexample.com on the same Web server using virtual hosts. This option corresponds to the &lt;VirtualHost&gt; directive for the default virtual host and IP-based virtual hosts. It corresponds to the &lt;NameVirtualHost&gt; directive for a name-based virtual host."
msgstr ""

#: serverguide/C/web-servers.xml:324(para) 
msgid "The directives set for a virtual host only apply to that particular virtual host. If a directive is set server-wide and not defined within the virtual host settings, the default setting is used. For example, you can define a Webmaster email address and not define individual email addresses for each virtual host."
msgstr ""

#: serverguide/C/web-servers.xml:331(para) 
msgid "Set the DocumentRoot directive to the directory that contains the root document (such as index.html) for the virtual host. The default DocumentRoot is <filename>/var/www</filename>."
msgstr ""

#: serverguide/C/web-servers.xml:336(para) 
msgid "The ServerAdmin directive within the VirtualHost stanza is the email address used in the footer of error pages if you choose to show a footer with an email address on the error pages."
msgstr ""

#: serverguide/C/web-servers.xml:343(title) 
msgid "Server Settings"
msgstr ""

#: serverguide/C/web-servers.xml:344(para) 
msgid "This section explains how to configure basic server settings."
msgstr ""

#: serverguide/C/web-servers.xml:346(para) 
msgid "<emphasis role=\"bold\">LockFile</emphasis> - The LockFile directive sets the path to the lockfile used when the server is compiled with either USE_FCNTL_SERIALIZED_ACCEPT or USE_FLOCK_SERIALIZED_ACCEPT. It must be stored on the local disk. It should be left to the default value unless the logs directory is located on an NFS share. If this is the case, the default value should be changed to a location on the local disk and to a directory that is readable only by root."
msgstr ""

#: serverguide/C/web-servers.xml:353(para) 
msgid "<emphasis role=\"bold\">PidFile</emphasis> - The PidFile directive sets the file in which the server records its process ID (pid). This file should only be readable by root. In most cases, it should be left to the default value."
msgstr ""

#: serverguide/C/web-servers.xml:357(para) 
msgid "<emphasis role=\"bold\">User</emphasis> - The User directive sets the userid used by the server to answer requests. This setting determines the server's access. Any files inaccessible to this user will also be inaccessible to your website's visitors. The default value for User is www-data."
msgstr ""

#: serverguide/C/web-servers.xml:361(para) 
msgid "Unless you know exactly what you are doing, do not set the User directive to root. Using root as the User will create large security holes for your Web server."
msgstr ""

#: serverguide/C/web-servers.xml:364(para) 
msgid "The Group directive is similar to the User directive. Group sets the group under which the server will answer requests. The default group is also www-data."
msgstr ""

#: serverguide/C/web-servers.xml:368(title) 
msgid "Apache Modules"
msgstr ""

#: serverguide/C/web-servers.xml:369(para) 
msgid "Apache is a modular server. This implies that only the most basic functionality is included in the core server. Extended features are available through modules which can be loaded into Apache. By default, a base set of modules is included in the server at compile-time. If the server is compiled to use dynamically loaded modules, then modules can be compiled separately, and added at any time using the LoadModule directive. Otherwise, Apache must be recompiled to add or remove modules. Ubuntu compiles Apache2 to allow the dynamic loading of modules. Configuration directives may be conditionally included on the presence of a particular module by enclosing them in an &lt;IfModule&gt; block. You can install additional Apache2 modules and use them with your Web server. You can install Apache2 modules using the <application>apt-get</application> command. For example, to install the Apache2 module for MySQL authentication, you can run the following command from a terminal prompt:"
msgstr ""

#: serverguide/C/web-servers.xml:393(command) 
msgid "sudo apt-get install libapache2-mod-auth-mysql"
msgstr ""

#: serverguide/C/web-servers.xml:396(para) 
msgid "Once you install the module, the module will be available in the <filename>/etc/apache2/mods-available</filename> directory. You can use the <application>a2enmod</application> command to enable a module. You can use the <application>a2dismod</application> command to disable a module. Once you enable the module, the module will be available in the the <filename>/etc/apache2/mods-enabled</filename> directory."
msgstr ""

#: serverguide/C/web-servers.xml:410(title) 
msgid "HTTPS Configuration"
msgstr ""

#: serverguide/C/web-servers.xml:411(para) 
msgid "The <application>mod_ssl</application> module adds an important feature to the Apache2 server - the ability to encrypt communications. Thus, when your browser is communicating using SSL, the https:// prefix is used at the beginning of the Uniform Resource Locator (URL) in the browser navigation bar."
msgstr ""

#: serverguide/C/web-servers.xml:420(para) 
msgid "The <application>mod_ssl</application> module is available in <application>apache2-common</application> package. If you have installed this package, you can run the following command from a terminal prompt to enable the <application>mod_ssl</application> module:"
msgstr ""

#: serverguide/C/web-servers.xml:429(command) 
msgid "sudo a2enmod ssl"
msgstr ""

#: serverguide/C/web-servers.xml:433(para) 
msgid "In order for <application>Apache</application> to provide HTTPS, a <emphasis>certificate</emphasis> and <emphasis>key</emphasis> file are also needed. For information on generating a key and obtaining a certificate see <xref linkend=\"certificates-and-security\"/>"
msgstr ""

#: serverguide/C/web-servers.xml:438(para) 
msgid "To configure <application>Apache</application> for HTTPS add the following four lines to the <filename>/etc/apache2/sites-available/default</filename> file, or the configuration file for your secure virtual host. They should be placed in the <emphasis>VirtualHost</emphasis> section under the <emphasis>DocumentRoot</emphasis> line:"
msgstr ""

#: serverguide/C/web-servers.xml:445(programlisting) 
#, no-wrap
msgid "\nSSLEngine on\n\nSSLOptions +StrictRequire\n\nSSLCertificateFile /etc/ssl/certs/server.crt\nSSLCertificateKeyFile /etc/ssl/private/server.key\n"
msgstr ""

#: serverguide/C/web-servers.xml:454(para) 
msgid "The directories <filename>/etc/ssl/certs</filename> and <filename>/etc/ssl/private</filename> are the default locations. If you install the certificate and key in another directory make sure to change <emphasis>SSLCertificateFile</emphasis> and <emphasis>SSLCertificateKeyFile</emphasis> appropriately."
msgstr ""

#: serverguide/C/web-servers.xml:460(para) 
msgid "Once you install your certificate, and configure Apache, you should restart your web server. You can run the following command at a terminal prompt to restart your web server:"
msgstr ""

#: serverguide/C/web-servers.xml:470(para) 
msgid "Depending on how you obtained your certificate you may need to enter a passphrase when <application>Apache</application> starts."
msgstr ""

#: serverguide/C/web-servers.xml:475(para) 
msgid "You can access the secure server pages by typing https://your_hostname/url/ in your browser address bar."
msgstr ""

#: serverguide/C/web-servers.xml:484(ulink) 
msgid "Apache2 Documentation"
msgstr ""

#: serverguide/C/web-servers.xml:488(ulink) 
msgid "Mod SSL Documentation"
msgstr ""

#: serverguide/C/web-servers.xml:495(title) 
msgid "PHP5 - Scripting Language"
msgstr ""

#: serverguide/C/web-servers.xml:496(para) 
msgid "PHP is a general-purpose scripting language suited for Web development. The PHP script can be embedded into HTML. This section explains how to install and configure PHP5 in Ubuntu System with Apache2 and MySQL."
msgstr ""

#: serverguide/C/web-servers.xml:500(para) 
msgid "This section assumes you have installed and configured Apache 2 Web Server and MySQL Database Server. You can refer to Apache 2 section and MySQL sections in this document to install and configure Apache 2 and MySQL respectively."
msgstr ""

#: serverguide/C/web-servers.xml:507(para) 
msgid "The PHP5 is available in Ubuntu Linux."
msgstr ""

#: serverguide/C/web-servers.xml:509(para) 
msgid "To install PHP5 you can enter the following command in the terminal prompt: <screen>\n<command>sudo apt-get install php5 libapache2-mod-php5</command>\n</screen>"
msgstr ""

#: serverguide/C/web-servers.xml:518(para) 
msgid "You can run PHP5 scripts from command line. To run PHP5 scripts from command line you should install <application>php5-cli</application> package. To install <application>php5-cli</application> you can enter the following command in the terminal prompt: <screen>\n<command>sudo apt-get install php5-cli</command>\n</screen>"
msgstr ""

#: serverguide/C/web-servers.xml:527(para) 
msgid "You can also execute PHP5 scripts without installing PHP5 Apache module. To accomplish this, you should install <application>php5-cgi</application> package. You can run the following command in a terminal prompt to install <application>php5-cgi</application> package: <screen>\n<command>sudo apt-get install php5-cgi</command>\n</screen>"
msgstr ""

#: serverguide/C/web-servers.xml:537(para) 
msgid "To use <application>MySQL</application> with PHP5 you should install <application>php5-mysql</application> package. To install <application>php5-mysql</application> you can enter the following command in the terminal prompt: <screen>\n<command>sudo apt-get install php5-mysql</command>\n</screen>"
msgstr ""

#: serverguide/C/web-servers.xml:545(para) 
msgid "Similarly, to use <application>PostgreSQL</application> with PHP5 you should install <application>php5-pgsql</application> package. To install <application>php5-pgsql</application> you can enter the following command in the terminal prompt: <screen>\n<command>sudo apt-get install php5-pgsql</command>\n</screen>"
msgstr ""

#: serverguide/C/web-servers.xml:558(para) 
msgid "Once you install PHP5, you can run PHP5 scripts from your web browser. If you have installed <application>php5-cli</application> package, you can run PHP5 scripts from your command prompt."
msgstr ""

#: serverguide/C/web-servers.xml:565(para) 
msgid "By default, the Apache 2 Web server is configured to run PHP5 scripts. In other words, the PHP5 module is enabled in Apache2 Web server automatically when you install the module. Please verify if the files <filename>/etc/apache2/mods-enabled/php5.conf</filename> and <filename>/etc/apache2/mods-enabled/php5.load</filename> exist. If they do not exists, you can enable the module using <command>a2enmod</command> command."
msgstr ""

#: serverguide/C/web-servers.xml:576(para) 
msgid "Once you install PHP5 related packages and enabled PHP5 Apache 2 module, you should restart Apache2 Web server to run PHP5 scripts. You can run the following command at a terminal prompt to restart your web server: <screen><command>sudo /etc/init.d/apache2 restart</command> </screen>"
msgstr ""

#: serverguide/C/web-servers.xml:584(title) serverguide/C/mail.xml:248(title) serverguide/C/mail.xml:1356(title) serverguide/C/dns.xml:333(title) 
msgid "Testing"
msgstr ""

#: serverguide/C/web-servers.xml:585(para) 
msgid "To verify your installation, you can run following PHP5 phpinfo script:"
msgstr ""

#: serverguide/C/web-servers.xml:588(programlisting) 
#, no-wrap
msgid "\n&lt;?php\nprint_r (phpinfo());\n?&gt;\n"
msgstr ""

#: serverguide/C/web-servers.xml:593(para) 
msgid "You can save the content in a file <filename>phpinfo.php</filename> and place it under <command>DocumentRoot</command> directory of Apache2 Web server. When point your browser to <filename>http://hostname/phpinfo.php</filename>, it would display values of various PHP5 configuration parameters."
msgstr ""

#: serverguide/C/web-servers.xml:605(title) 
msgid "Squid - Proxy Server"
msgstr ""

#: serverguide/C/web-servers.xml:606(para) 
msgid "Squid is a full-featured web proxy cache server application which provides proxy and cache services for Hyper Text Transport Protocol (HTTP), File Transfer Protocol (FTP), and other popular network protocols. Squid can implement caching and proxying of Secure Sockets Layer (SSL) requests and caching of Domain Name Server (DNS) lookups, and perform transparent caching. Squid also supports a wide variety of caching protocols, such as Internet Cache Protocol, (ICP) the Hyper Text Caching Protocol, (HTCP) the Cache Array Routing Protocol (CARP), and the Web Cache Coordination Protocol. (WCCP)"
msgstr ""

#: serverguide/C/web-servers.xml:614(para) 
msgid "The Squid proxy cache server is an excellent solution to a variety of proxy and caching server needs, and scales from the branch office to enterprise level networks while providing extensive, granular access control mechanisms and monitoring of critical parameters via the Simple Network Management Protocol (SNMP). When selecting a computer system for use as a dedicated Squid proxy, or caching servers, ensure your system is configured with a large amount of physical memory, as Squid maintains an in-memory cache for increased performance."
msgstr ""

#: serverguide/C/web-servers.xml:623(para) 
msgid "At a terminal prompt, enter the following command to install the Squid server:"
msgstr ""

#: serverguide/C/web-servers.xml:628(command) 
msgid "sudo apt-get install squid"
msgstr ""

#: serverguide/C/web-servers.xml:634(para) 
msgid "Squid is configured by editing the directives contained within the <filename>/etc/squid/squid.conf</filename> configuration file. The following examples illustrate some of the directives which may be modified to affect the behavior of the Squid server. For more in-depth configuration of Squid, see the References section."
msgstr ""

#: serverguide/C/web-servers.xml:640(para) 
msgid "Prior to editing the configuration file, you should make a copy of the original file and protect it from writing so you will have the original settings as a reference, and to re-use as necessary."
msgstr ""

#: serverguide/C/web-servers.xml:643(para) 
msgid "Copy the <filename>/etc/squid/squid.conf</filename> file and protect it from writing with the following commands entered at a terminal prompt:"
msgstr ""

#: serverguide/C/web-servers.xml:648(command) 
msgid "sudo cp /etc/squid/squid.conf /etc/squid/squid.conf.original"
msgstr ""

#: serverguide/C/web-servers.xml:649(command) 
msgid "sudo chmod a-w /etc/squid/squid.conf.original"
msgstr ""

#: serverguide/C/web-servers.xml:655(para) 
msgid "To set your Squid server to listen on TCP port 8888 instead of the default TCP port 3128, change the http_port directive as such:"
msgstr ""

#: serverguide/C/web-servers.xml:659(programlisting) 
#, no-wrap
msgid "\nhttp_port 8888\n"
msgstr ""

#: serverguide/C/web-servers.xml:664(para) 
msgid "Change the visible_hostname directive in order to give the Squid server a specific hostname. This hostname does not necessarily need to be the computer's hostname. In this example it is set to <emphasis>weezie</emphasis>"
msgstr ""

#: serverguide/C/web-servers.xml:668(programlisting) 
#, no-wrap
msgid "\nvisible_hostname weezie\n"
msgstr ""

#: serverguide/C/web-servers.xml:673(para) 
msgid "Again, Using Squid's access control, you may configure use of Internet services proxied by Squid to be available only users with certain Internet Protocol (IP) addresses. For example, we will illustrate access by users of the 192.168.42.0/24 subnetwork only:"
msgstr ""

#: serverguide/C/web-servers.xml:678(para) serverguide/C/web-servers.xml:698(para) 
msgid "Add the following to the <emphasis role=\"bold\">bottom</emphasis> of the ACL section of your <filename>/etc/squid/squid.conf</filename> file:"
msgstr ""

#: serverguide/C/web-servers.xml:681(programlisting) 
#, no-wrap
msgid "\nacl fortytwo_network src 192.168.42.0/24\n"
msgstr ""

#: serverguide/C/web-servers.xml:684(para) serverguide/C/web-servers.xml:705(para) 
msgid "Then, add the following to the <emphasis role=\"bold\">top</emphasis> of the http_access section of your <filename>/etc/squid/squid.conf</filename> file:"
msgstr ""

#: serverguide/C/web-servers.xml:688(programlisting) 
#, no-wrap
msgid "\nhttp_access allow fortytwo_network\n"
msgstr ""

#: serverguide/C/web-servers.xml:693(para) 
msgid "Using the excellent access control features of Squid, you may configure use of Internet services proxied by Squid to be available only during normal business hours. For example, we'll illustrate access by employees of a business which is operating between 9:00AM and 5:00PM, Monday through Friday, and which uses the 10.1.42.0/42 subnetwork:"
msgstr ""

#: serverguide/C/web-servers.xml:701(programlisting) 
#, no-wrap
msgid "\nacl biz_network src 10.1.42.0/24\nacl biz_hours time M T W T F 9:00-17:00\n"
msgstr ""

#: serverguide/C/web-servers.xml:709(programlisting) 
#, no-wrap
msgid "\nhttp_access allow biz_network biz_hours\n"
msgstr ""

#: serverguide/C/web-servers.xml:716(para) 
msgid "After making changes to the <filename>/etc/squid/squid.conf</filename> file, save the file and restart the <application>squid</application> server application to effect the changes using the following command entered at a terminal prompt:"
msgstr ""

#: serverguide/C/web-servers.xml:723(command) 
msgid "sudo /etc/init.d/squid restart"
msgstr ""

#: serverguide/C/web-servers.xml:730(ulink) 
msgid "Squid Website"
msgstr ""

#: serverguide/C/web-servers.xml:736(title) 
msgid "Ruby on Rails"
msgstr ""

#: serverguide/C/web-servers.xml:737(para) 
msgid "Ruby on Rails is an open source web framework for developing database backed web applications. It is optimized for sustainable productivity of the programmer since it lets the programmer to write code by favouring convention over configuration."
msgstr ""

#: serverguide/C/web-servers.xml:744(para) 
msgid "Before installing <application>Rails</application> you should install <application>Apache</application> and <application>MySQL</application>. To install the <application>Apache</application> package, please refer to <xref linkend=\"httpd\"/>. For instructions on installing <application>MySQL</application> refer to <xref linkend=\"mysql\"/>."
msgstr ""

#: serverguide/C/web-servers.xml:752(para) 
msgid "Once you have <application>Apache</application> and <application>MySQL</application> packages installed, you are ready to install <application>Ruby on Rails</application> package."
msgstr ""

#: serverguide/C/web-servers.xml:759(para) 
msgid "To install the <application>Ruby</application> base packages and <application>Ruby on Rails</application>, you can enter the following command in the terminal prompt:"
msgstr ""

#: serverguide/C/web-servers.xml:765(command) 
msgid "sudo apt-get install rails"
msgstr ""

#: serverguide/C/web-servers.xml:771(para) 
msgid "Modify the <filename>/etc/apache2/sites-available/default</filename> configuration file to setup your domains."
msgstr ""

#: serverguide/C/web-servers.xml:775(para) 
msgid "The first thing to change is the <emphasis>DocumentRoot</emphasis> directive:"
msgstr ""

#: serverguide/C/web-servers.xml:779(programlisting) 
#, no-wrap
msgid "\nDocumentRoot /path/to/rails/application/public\n"
msgstr ""

#: serverguide/C/web-servers.xml:782(para) 
msgid "Next, change the &lt;Directory \"/path/to/rails/application/public\"&gt; directive:"
msgstr ""

#: serverguide/C/web-servers.xml:786(programlisting) 
#, no-wrap
msgid "\n&lt;Directory \"/path/to/rails/application/public\"&gt;\n        Options Indexes FollowSymLinks MultiViews ExecCGI\n        AllowOverride All\n        Order allow,deny\n        allow from all\n        AddHandler cgi-script .cgi\n&lt;/Directory&gt;\n"
msgstr ""

#: serverguide/C/web-servers.xml:796(para) 
msgid "You should also enable the <application>mod_rewrite</application> module for Apache. To enable <application>mod_rewrite</application> module, please enter the following command in a terminal prompt:"
msgstr ""

#: serverguide/C/web-servers.xml:802(command) 
msgid "sudo a2enmod rewrite"
msgstr ""

#: serverguide/C/web-servers.xml:805(para) 
msgid "Finally you will need to change the ownership of the <filename>/path/to/rails/application/public</filename> and <filename>/path/to/rails/application/tmp</filename> directories to the user used to run the <application>Apache</application> process:"
msgstr ""

#: serverguide/C/web-servers.xml:811(command) 
msgid "sudo chown -R www-data:www-data /path/to/rails/application/public"
msgstr ""

#: serverguide/C/web-servers.xml:812(command) 
msgid "sudo chown -R www-data:www-data /path/to/rails/application/tmp"
msgstr ""

#: serverguide/C/web-servers.xml:815(para) 
msgid "That's it! Now you have your Server ready for your <application>Ruby on Rails</application> applications."
msgstr ""

#: serverguide/C/virtualization.xml:13(title) 
msgid "Virtualization"
msgstr ""

#: serverguide/C/virtualization.xml:14(para) 
msgid "Virtualization is being adopted in many different environments and situations. If you are a developer, virtualization can provide you with a contained environment where you can safely do almost any sort of development safe from messing up your main working environment. If you are a systems administrator, you can use virtualization to more easily separate your services and move them around based on demand."
msgstr ""

#: serverguide/C/virtualization.xml:20(para) 
msgid "The default virtualization technology supported in Ubuntu is <application>KVM</application>, a technology that takes advantage of virtualization extensions built into Intel and AMD hardware. For hardware without virtualization extensions <application>Xen</application> and <application>Qemu</application> are popular solutions."
msgstr ""

#: serverguide/C/virtualization.xml:27(title) 
msgid "libvirt"
msgstr ""

#: serverguide/C/virtualization.xml:28(para) 
msgid "The <application>libvirt</application> library is used to interface with different virtualization technologies. Before getting started with <application>libvirt</application> it is best to make sure your hardware supports the necessary virtualization extensions for <application>KVM</application>. Enter the following from a terminal prompt:"
msgstr ""

#: serverguide/C/virtualization.xml:34(command) 
msgid "egrep '(vmx|svm)' /proc/cpuinfo"
msgstr ""

#: serverguide/C/virtualization.xml:36(para) 
msgid "If nothing is printed, it means that your cpu does <emphasis>not</emphasis> support hardware virtualization."
msgstr ""

#: serverguide/C/virtualization.xml:40(para) 
msgid "On most computer whose processor supports virtualization, it is necessary to activate an option in the bios to enable it. The method described above does not show the status of it's activation."
msgstr ""

#: serverguide/C/virtualization.xml:47(title) 
msgid "Virtual Networking"
msgstr ""

#: serverguide/C/virtualization.xml:48(para) 
msgid "There are a few different ways to allow a virtual machine access to the external network. The default virtual network configuration is <emphasis>usermode</emphasis> networking, which uses the SLIRP protocol and traffic is NATed through the host interface to the outside network."
msgstr ""

#: serverguide/C/virtualization.xml:52(para) 
msgid "To enable external hosts to directly access services on virtual machines a <emphasis>bridge</emphasis> needs to be configured. This allows the virtual interfaces to connect to the outside network through the physical interface, making them appear as normal hosts to the rest of the network. To setup a bridge interface edit <filename>/etc/network/interfaces</filename> and either comment or replace the existing config with:"
msgstr ""

#: serverguide/C/virtualization.xml:58(programlisting) 
#, no-wrap
msgid "\nauto lo\niface lo inet loopback\n\nauto br0\niface br0 inet static\n        address 192.168.0.10\n        network 192.168.0.0\n        netmask 255.255.255.0\n        broadcast 192.168.0.255\n        gateway 192.168.0.1\n        bridge_ports eth0\n        bridge_fd 9\n        bridge_hello 2\n        bridge_maxage 12\n        bridge_stp off\n"
msgstr ""

#: serverguide/C/virtualization.xml:76(para) 
msgid "Enter the appropriate values for your physical interface and network."
msgstr ""

#: serverguide/C/virtualization.xml:80(para) 
msgid "Now restart networking and your virtual machines that are managed by <application>libvirt</application> will appear on the network the same as physical hosts:"
msgstr ""

#: serverguide/C/virtualization.xml:85(command) 
msgid "sudo /etc/init.d/networking restart"
msgstr ""

#: serverguide/C/virtualization.xml:87(para) 
msgid "If setting up a bridge interface using Ubuntu Desktop Edition, or if <application>dhcdbd</application> is installed, the <application>dhcdbd</application> daemon will need to be stopped and disabled."
msgstr ""

#: serverguide/C/virtualization.xml:91(para) 
msgid "After configuring the bridge in <filename>/etc/network/interfaces</filename>, shutdown <application>dhcdbd</application> by:"
msgstr ""

#: serverguide/C/virtualization.xml:95(command) 
msgid "sudo /etc/init.d/dhcdbd stop"
msgstr ""

#: serverguide/C/virtualization.xml:97(para) 
msgid "Now to disable it from starting on boot enter:"
msgstr ""

#: serverguide/C/virtualization.xml:101(command) 
msgid "sudo update-rc.d -f dhcdbd remove"
msgstr ""

#: serverguide/C/virtualization.xml:106(para) 
msgid "To install the necessary packages, from a terminal prompt enter:"
msgstr ""

#: serverguide/C/virtualization.xml:110(command) 
msgid "sudo apt-get install kvm libvirt-bin"
msgstr ""

#: serverguide/C/virtualization.xml:112(para) 
msgid "After installing <application>libvirt-bin</application>, the user used to manage virtual machines will need to be added to the <emphasis>libvirtd</emphasis> group. Doing so will grant the user access to the advanced networking options."
msgstr ""

#: serverguide/C/virtualization.xml:116(para) 
msgid "In a terminal enter:"
msgstr ""

#: serverguide/C/virtualization.xml:120(command) 
msgid "sudo adduser $USERNAME libvirtd"
msgstr ""

#: serverguide/C/virtualization.xml:123(para) 
msgid "If the user chosen is the current user, you will need to log out and back in for the new group membership to take effect."
msgstr ""

#: serverguide/C/virtualization.xml:127(para) 
msgid "You are now ready to install a <emphasis>Guest</emphasis> operating system. Installing a virtual machine follows the same process as installing the operating system directly on the hardware. You either need a way to automate the installation, or a keyboard and monitor will need to be attached to the physical machine."
msgstr ""

#: serverguide/C/virtualization.xml:132(para) 
msgid "In the case of virtual machines a Graphical User Interface (GUI) is analogous to using a physical keyboard and mouse. Instead of installing a GUI the <application>virt-viewer</application> application can be used to connect to a virtual machine's console using <application>VNC</application>. See <xref linkend=\"libvirt-virt-viewer\"/> for more information."
msgstr ""

#: serverguide/C/virtualization.xml:137(para) 
msgid "There are several ways to automate the Ubuntu installation process, for example using preseeds, kickstart, etc. Refer to the <ulink url=\"https://help.ubuntu.com/8.10/installation-guide/\">Ubuntu Installation Guide</ulink> for details."
msgstr ""

#: serverguide/C/virtualization.xml:141(para) 
msgid "Yet another way to install an Ubuntu virtual machine is to use <application>ubuntu-vm-builder</application>. <application>ubuntu-vm-builder</application> allows you to setup advanced partitions, execute custom post-install scripts, etc. For details see <xref linkend=\"ubuntu-vm-builder\"/>"
msgstr ""

#: serverguide/C/virtualization.xml:147(title) 
msgid "virt-install"
msgstr ""

#: serverguide/C/virtualization.xml:148(para) 
msgid "<application>virt-install</application> is part of the <application>python-virtinst</application> package. To install it, from a terminal prompt enter:"
msgstr ""

#: serverguide/C/virtualization.xml:152(command) 
msgid "sudo apt-get install python-virtinst"
msgstr ""

#: serverguide/C/virtualization.xml:154(para) 
msgid "There are several options available when using <application>virt-install</application>. For example:"
msgstr ""

#: serverguide/C/virtualization.xml:158(command) 
msgid "sudo virt-install -n web_devel -r 256 -f web_devel.img -s 4 -c jeos.iso --accelerate --vnc --noautoconsole"
msgstr ""

#: serverguide/C/virtualization.xml:162(para) 
msgid "<emphasis>-n web_devel:</emphasis> the name of the new virtual machine will be <emphasis>web_devel</emphasis> in this example."
msgstr ""

#: serverguide/C/virtualization.xml:167(para) 
msgid "<emphasis>-r 256:</emphasis> specifies the amount of memory the virtual machine will use."
msgstr ""

#: serverguide/C/virtualization.xml:172(para) 
msgid "<emphasis>-f web_devel.img:</emphasis> indicates the path to the virtual disk which can be a file, partition, or logical volume. In this example a file named <filename>web_devel.img</filename>."
msgstr ""

#: serverguide/C/virtualization.xml:178(para) 
msgid "<emphasis>-s 4:</emphasis> the size of the virtual disk."
msgstr ""

#: serverguide/C/virtualization.xml:183(para) 
msgid "<emphasis>-c jeos.iso:</emphasis> file to be used as a virtual CDROM. The file can be either an ISO file or the path to the host's CDROM device."
msgstr ""

#: serverguide/C/virtualization.xml:189(para) 
msgid "<emphasis>--accelerate:</emphasis> enables the kernel's acceleration technologies."
msgstr ""

#: serverguide/C/virtualization.xml:194(para) 
msgid "<emphasis>--vnc:</emphasis> exports the guest's virtual console using VNC."
msgstr ""

#: serverguide/C/virtualization.xml:199(para) 
msgid "<emphasis>--noautoconsole:</emphasis> will not automatically connect to the virtual machine's console."
msgstr ""

#: serverguide/C/virtualization.xml:204(para) 
msgid "After launching <application>virt-install</application> you can connect to the virtual machine's console either locally using a GUI or with the <application>virt-viewer</application> utility."
msgstr ""

#: serverguide/C/virtualization.xml:210(title) 
msgid "virt-clone"
msgstr ""

#: serverguide/C/virtualization.xml:211(para) 
msgid "The <application>virt-clone</application> application can be used to copy one virtual machine to another. For example:"
msgstr ""

#: serverguide/C/virtualization.xml:215(command) 
msgid "sudo virt-clone -o web_devel -n database_devel -f /path/to/database_devel.img --connect=qemu:///system"
msgstr ""

#: serverguide/C/virtualization.xml:219(para) 
msgid "<emphasis>-o:</emphasis> original virtual machine."
msgstr ""

#: serverguide/C/virtualization.xml:224(para) 
msgid "<emphasis>-n:</emphasis> name of the new virtual machine."
msgstr ""

#: serverguide/C/virtualization.xml:229(para) 
msgid "<emphasis>-f:</emphasis> path to the file, logical volume, or partition to be used by the new virtual machine."
msgstr ""

#: serverguide/C/virtualization.xml:234(para) 
msgid "<emphasis>--connect:</emphasis> specifies which hypervisor to connect to."
msgstr ""

#: serverguide/C/virtualization.xml:239(para) 
msgid "Also, use <emphasis>-d</emphasis> or <emphasis>--debug</emphasis> option to help troubleshoot problems with <application>virt-clone</application>."
msgstr ""

#: serverguide/C/virtualization.xml:244(para) 
msgid "Replace <emphasis>web_devel</emphasis> and <emphasis>database_devel</emphasis> with appropriate virtual machine names."
msgstr ""

#: serverguide/C/virtualization.xml:250(title) 
msgid "Virtual Machine Management"
msgstr ""

#: serverguide/C/virtualization.xml:252(title) 
msgid "virsh"
msgstr ""

#: serverguide/C/virtualization.xml:253(para) 
msgid "There are several utilities available to manage virtual machines and <application>libvirt</application>. The <application>virsh</application> utility can be used from the command line. Some examples:"
msgstr ""

#: serverguide/C/virtualization.xml:259(para) 
msgid "To list running virtual machines:"
msgstr ""

#: serverguide/C/virtualization.xml:263(command) 
msgid "virsh -c qemu:///system list"
msgstr ""

#: serverguide/C/virtualization.xml:267(para) 
msgid "To start a virtual machine:"
msgstr ""

#: serverguide/C/virtualization.xml:271(command) 
msgid "virsh -c qemu:///system start web_devel"
msgstr ""

#: serverguide/C/virtualization.xml:275(para) 
msgid "Similarly, to start a virtual machine at boot:"
msgstr ""

#: serverguide/C/virtualization.xml:279(command) 
msgid "virsh -c qemu:///system autostart web_devel"
msgstr ""

#: serverguide/C/virtualization.xml:283(para) 
msgid "Reboot a virtual machine with:"
msgstr ""

#: serverguide/C/virtualization.xml:287(command) 
msgid "virsh -c qemu:///system reboot web_devel"
msgstr ""

#: serverguide/C/virtualization.xml:291(para) 
msgid "The <emphasis>state</emphasis> of virtual machines can be saved to a file in order to be restored later. The following will save the virtual machine state into a file named according to the date:"
msgstr ""

#: serverguide/C/virtualization.xml:296(command) 
msgid "virsh -c qemu:///system save web_devel web_devel-022708.state"
msgstr ""

#: serverguide/C/virtualization.xml:298(para) 
msgid "Once saved the virtual machine will no longer be running."
msgstr ""

#: serverguide/C/virtualization.xml:303(para) 
msgid "A saved virtual machine can be restored using:"
msgstr ""

#: serverguide/C/virtualization.xml:307(command) 
msgid "virsh -c qemu:///system restore web_devel-022708.state"
msgstr ""

#: serverguide/C/virtualization.xml:311(para) 
msgid "To shutdown a virtual machine do:"
msgstr ""

#: serverguide/C/virtualization.xml:315(command) 
msgid "virsh -c qemu:///system shutdown web_devel"
msgstr ""

#: serverguide/C/virtualization.xml:319(para) 
msgid "A CDROM device can be mounted in a virtual machine by entering:"
msgstr ""

#: serverguide/C/virtualization.xml:323(command) 
msgid "virsh -c qemu:///system attach-disk web_devel /dev/cdrom /media/cdrom"
msgstr ""

#: serverguide/C/virtualization.xml:328(para) 
msgid "In the above examples replace <emphasis>web_devel</emphasis> with the appropriate virtual machine name, and <filename>web_devel-022708.state</filename> with a descriptive file name."
msgstr ""

#: serverguide/C/virtualization.xml:335(title) 
msgid "Virtual Machine Manager"
msgstr ""

#: serverguide/C/virtualization.xml:336(para) 
msgid "The <application>virt-manager</application> package contains a graphical utility to manage local and remote virtual machines. To install virt-manager enter:"
msgstr ""

#: serverguide/C/virtualization.xml:341(command) 
msgid "sudo apt-get install virt-manager"
msgstr ""

#: serverguide/C/virtualization.xml:343(para) 
msgid "Since <application>virt-manager</application> requires a Graphical User Interface (GUI) environment it is recommended to be installed on a workstation or test machine instead of a production server. To connect to the local <application>libvirt</application> service enter:"
msgstr ""

#: serverguide/C/virtualization.xml:349(command) 
msgid "virt-manager -c qemu:///system"
msgstr ""

#: serverguide/C/virtualization.xml:351(para) 
msgid "You can connect to the <application>libvirt</application> service running on another host by entering the following in a terminal prompt:"
msgstr ""

#: serverguide/C/virtualization.xml:355(command) 
msgid "virt-manager -c qemu+ssh://virtnode1.mydomain.com/system"
msgstr ""

#: serverguide/C/virtualization.xml:358(para) 
msgid "The above example assumes that <application>SSH</application> connectivity between the management system and virtnode1.mydomain.com has already been configured, and uses SSH keys for authentication. SSH <emphasis>keys</emphasis> are needed because <application>libvirt</application> sends the password prompt to another process. For details on configuring <application>SSH</application> see <xref linkend=\"openssh-server\"/>"
msgstr ""

#: serverguide/C/virtualization.xml:368(title) 
msgid "Virtual Machine Viewer"
msgstr ""

#: serverguide/C/virtualization.xml:369(para) 
msgid "The <application>virt-viewer</application> application allows you to connect to a virtual machine's console. <application>virt-viewer</application> does require a Graphical User Interface (GUI) to interface with the virtual machine."
msgstr ""

#: serverguide/C/virtualization.xml:373(para) 
msgid "To install <application>virt-viewer</application> from a terminal enter:"
msgstr ""

#: serverguide/C/virtualization.xml:377(command) 
msgid "sudo apt-get install virt-viewer"
msgstr ""

#: serverguide/C/virtualization.xml:379(para) 
msgid "Once a virtual machine is installed and running you can connect to the virtual machine's console by using:"
msgstr ""

#: serverguide/C/virtualization.xml:383(command) 
msgid "virt-viewer qemu:///system web_devel"
msgstr ""

#: serverguide/C/virtualization.xml:385(para) 
msgid "Similar to <application>virt-manager</application>, <application>virt-viewer</application> can connect to a remote host using <emphasis>SSH</emphasis> with key authentication, as well:"
msgstr ""

#: serverguide/C/virtualization.xml:390(command) 
msgid "virt-viewer -c qemu+ssh://virtnode1.mydomain.com/system web_devel"
msgstr ""

#: serverguide/C/virtualization.xml:392(para) 
msgid "Be sure to replace <emphasis role=\"italic\">web_devel</emphasis> with the appropriate virtual machine name."
msgstr ""

#: serverguide/C/virtualization.xml:395(para) 
msgid "If configured to use a <emphasis>bridged</emphasis> network interface you can also setup <application>SSH</application> access to the virtual machine. See <xref linkend=\"openssh-server\"/> and <xref linkend=\"libvirt-network\"/> for more details."
msgstr ""

#: serverguide/C/virtualization.xml:404(para) 
msgid "See the <ulink url=\"http://kvm.qumranet.com/kvmwiki\">KVM</ulink> home page for more details."
msgstr ""

#: serverguide/C/virtualization.xml:409(para) 
msgid "For more information on <application>libvirt</application> see the <ulink url=\"http://libvirt.org/\">libvirt home page</ulink>"
msgstr ""

#: serverguide/C/virtualization.xml:414(para) 
msgid "The <ulink url=\"http://virt-manager.et.redhat.com/\">Virtual Machine Manager</ulink> site has more information on <application>virt-manager</application> development."
msgstr ""

#: serverguide/C/virtualization.xml:420(para) 
msgid "Also, stop by the <emphasis>#ubuntu-virt</emphasis> IRC channel on <ulink url=\"http://freenode.net/\">freenode</ulink> to discuss virtualization technology in Ubuntu."
msgstr ""

#: serverguide/C/virtualization.xml:429(title) 
msgid "ubuntu-vm-builder"
msgstr ""

#: serverguide/C/virtualization.xml:430(para) 
msgid "Originally developed to create the <emphasis>JeOS</emphasis> variant of Ubuntu Server Edition, <application>ubuntu-vm-builder</application> can be used to create customized virtual machines."
msgstr ""

#: serverguide/C/virtualization.xml:434(para) 
msgid "<application>ubuntu-vm-builder</application> provides a method to quickly create a clean testing environment, a way to automate the virtual machine installation process, and for software developers, the ability to integrate the creation of a virtual machine into the build process of an application. If using a local mirror the virtual machine creation process can take less than two minutes from start to finish."
msgstr ""

#: serverguide/C/virtualization.xml:440(para) 
msgid "To create a custom virtual machine, enter the following:"
msgstr ""

#: serverguide/C/virtualization.xml:444(command) 
msgid "sudo ubuntu-vm-builder kvm hardy --addpkg vim"
msgstr ""

#: serverguide/C/virtualization.xml:446(para) 
msgid "The above command will create a KVM image adding the <application>vim</application> package to the virtual machine. The default virtual machine image is <application>KVM</application>, but vmw6, vmserver, vbox, and qemu image options are also available."
msgstr ""

#: serverguide/C/virtualization.xml:450(para) 
msgid "By adding additional <emphasis>--addpkg</emphasis> options any number of applications can be included in the image. For example:"
msgstr ""

#: serverguide/C/virtualization.xml:454(command) 
msgid "sudo ubuntu-vm-builder kvm hardy --addpkg vim --addpkg screen --mem 256"
msgstr ""

#: serverguide/C/virtualization.xml:456(para) 
msgid "Also notice that the <emphasis>--mem 256</emphasis> option increases the virtual machines memory from the default 128M."
msgstr ""

#: serverguide/C/virtualization.xml:459(para) 
msgid "At the end of the image creation you will be prompted to confirm the additional package installation. After the image creation process has finished a directory named <filename role=\"directory\">ubuntu-vm-hardy-i386</filename> or <filename role=\"directory\">ubuntu-vm-hardy-amd64</filename> is created, and inside is the virtual machine image file named <filename>root.qcow2</filename> and a shell script, used to start the virtual machine, named according to the image type."
msgstr ""

#: serverguide/C/virtualization.xml:465(para) 
msgid "Refer to the <application>ubuntu-vm-builder</application> man page for more customization options."
msgstr ""

#: serverguide/C/virtualization.xml:469(title) 
msgid "Using ubuntu-vm-builder with libvirt"
msgstr ""

#: serverguide/C/virtualization.xml:470(para) 
msgid "Combining <application>ubuntu-vm-builder</application> with <application>libvirt</application> provides a great environment for virtual machine creation and management."
msgstr ""

#: serverguide/C/virtualization.xml:474(para) 
msgid "Use the <emphasis>--libvirt &lt;uri&gt;</emphasis> option to automatically add the newly created virtual machine to a libvirt domain. For example:"
msgstr ""

#: serverguide/C/virtualization.xml:479(command) 
msgid "sudo ubuntu-vm-builder kvm hardy --addpkg vim --mem 256 --libvirt qemu:///system"
msgstr ""

#: serverguide/C/virtualization.xml:481(para) 
msgid "Once the process has finished use <application>virsh</application> to start the virtual machine:"
msgstr ""

#: serverguide/C/virtualization.xml:485(command) 
msgid "virsh -c qemu:///system start ubuntu"
msgstr ""

#: serverguide/C/virtualization.xml:487(para) 
msgid "The default virtual machine name is <emphasis>ubuntu</emphasis> use the <emphasis>--hostname</emphasis> option to change it. See <xref linkend=\"virsh\"/> for more details."
msgstr ""

#: serverguide/C/vcs.xml:13(title) 
msgid "Version Control System"
msgstr ""

#: serverguide/C/vcs.xml:14(para) 
msgid "Version control is the art of managing changes to information. It has long been a critical tool for programmers, who typically spend their time making small changes to software and then undoing those changes the next day. But the usefulness of version control software extends far beyond the bounds of the software development world. Anywhere you can find people using computers to manage information that changes often, there is room for version control."
msgstr ""

#: serverguide/C/vcs.xml:17(title) 
msgid "Bazaar"
msgstr ""

#: serverguide/C/vcs.xml:18(para) 
msgid "Bazaar is a new version control system sponsored by Canonical, the commercial company behind Ubuntu. Unlike Subversion and CVS that only support a central repository model, Bazaar also supports <emphasis>distributed version control</emphasis>, giving people the ability to collaborate more efficiently. In particular, Bazaar is designed to maximize the level of community participation in open source projects."
msgstr ""

#: serverguide/C/vcs.xml:29(para) 
msgid "At a terminal prompt, enter the following command to install <application>bzr</application>: <screen>\n<command>sudo apt-get install bzr</command>\n</screen>"
msgstr ""

#: serverguide/C/vcs.xml:40(para) 
msgid "To introduce yourself to <application>bzr</application>, use the <emphasis>whoami</emphasis> command like this: <screen>\n<command>$ bzr whoami 'Joe Doe &lt;joe.doe@gmail.com&gt;'</command>\n</screen>"
msgstr ""

#: serverguide/C/vcs.xml:49(title) 
msgid "Learning Bazaar"
msgstr ""

#: serverguide/C/vcs.xml:50(para) 
msgid "Bazaar comes with bundled documentation installed into <application>/usr/share/doc/bzr/html</application> by default. The tutorial is a good place to start. The <application>bzr</application> command also comes with built-in help: <screen>\n<command>$ bzr help</command>\n</screen>"
msgstr ""

#: serverguide/C/vcs.xml:60(para) 
msgid "To learn more about the <emphasis>foo</emphasis> command: <screen>\n<command>$ bzr help foo</command>\n</screen>"
msgstr ""

#: serverguide/C/vcs.xml:68(title) 
msgid "Launchpad Integration"
msgstr ""

#: serverguide/C/vcs.xml:69(para) 
msgid "While highly useful as a stand-alone system, Bazaar has good, optional integration with <ulink url=\"https://launchpad.net/\">Launchpad</ulink>, the collaborative development system used by Canonical and the broader open source community to manage and extend Ubuntu itself. For information on how Bazaar can be used with Launchpad to collaborate on open source projects, see <ulink url=\"http://bazaar-vcs.org/LaunchpadIntegration/\"> http://bazaar-vcs.org/LaunchpadIntegration</ulink>."
msgstr ""

#: serverguide/C/vcs.xml:81(title) 
msgid "Subversion"
msgstr ""

#: serverguide/C/vcs.xml:82(para) 
msgid "Subversion is an open source version control system. Using Subversion, you can record the history of source files and documents. It manages files and directories over time. A tree of files is placed into a central repository. The repository is much like an ordinary file server, except that it remembers every change ever made to files and directories."
msgstr ""

#: serverguide/C/vcs.xml:87(para) 
msgid "To access Subversion repository using the HTTP protocol, you must install and configure a web server. Apache2 is proven to work with Subversion. Please refer to the HTTP subsection in the Apache2 section to install and configure Apache2. To access the Subversion repository using the HTTPS protocol, you must install and configure a digital certificate in your Apache 2 web server. Please refer to the HTTPS subsection in the Apache2 section to install and configure the digital certificate."
msgstr ""

#: serverguide/C/vcs.xml:96(para) 
msgid "To install Subversion, run the following command from a terminal prompt:"
msgstr ""

#: serverguide/C/vcs.xml:101(command) 
msgid "sudo apt-get install subversion libapache2-svn"
msgstr ""

#: serverguide/C/vcs.xml:107(title) 
msgid "Server Configuration"
msgstr ""

#: serverguide/C/vcs.xml:108(para) 
msgid "This step assumes you have installed above mentioned packages on your system. This section explains how to create a Subversion repository and access the project."
msgstr ""

#: serverguide/C/vcs.xml:111(title) 
msgid "Create Subversion Repository"
msgstr ""

#: serverguide/C/vcs.xml:112(para) 
msgid "The Subversion repository can be created using the following command from a terminal prompt:"
msgstr ""

#: serverguide/C/vcs.xml:116(command) 
msgid "svnadmin create /path/to/repos/project"
msgstr ""

#: serverguide/C/vcs.xml:121(title) 
msgid "Importing Files"
msgstr ""

#: serverguide/C/vcs.xml:122(para) 
msgid "Once you create the repository you can <emphasis>import</emphasis> files into the repository. To import a directory, enter the following from a terminal prompt: <screen>\n<command>svn import /path/to/import/directory file:///path/to/repos/project</command>\n</screen>"
msgstr ""

#: serverguide/C/vcs.xml:134(title) serverguide/C/vcs.xml:139(title) 
msgid "Access Methods"
msgstr ""

#: serverguide/C/vcs.xml:135(para) 
msgid "Subversion repositories can be accessed (checked out) through many different methods --on local disk, or through various network protocols. A repository location, however, is always a URL. The table describes how different URL schemes map to the available access methods."
msgstr ""

#: serverguide/C/vcs.xml:146(para) 
msgid "Schema"
msgstr ""

#: serverguide/C/vcs.xml:147(para) 
msgid "Access Method"
msgstr ""

#: serverguide/C/vcs.xml:152(para) 
msgid "file://"
msgstr ""

#: serverguide/C/vcs.xml:153(para) 
msgid "direct repository access (on local disk)"
msgstr ""

#: serverguide/C/vcs.xml:156(para) 
msgid "http://"
msgstr ""

#: serverguide/C/vcs.xml:157(para) 
msgid "Access via WebDAV protocol to Subversion-aware Apache2 web server"
msgstr ""

#: serverguide/C/vcs.xml:160(para) 
msgid "https://"
msgstr ""

#: serverguide/C/vcs.xml:161(para) 
msgid "Same as http://, but with SSL encryption"
msgstr ""

#: serverguide/C/vcs.xml:164(para) 
msgid "svn://"
msgstr ""

#: serverguide/C/vcs.xml:165(para) 
msgid "Access via custom protocol to an svnserve server"
msgstr ""

#: serverguide/C/vcs.xml:168(para) 
msgid "svn+ssh://"
msgstr ""

#: serverguide/C/vcs.xml:169(para) 
msgid "Same as svn://, but through an SSH tunnel"
msgstr ""

#: serverguide/C/vcs.xml:175(para) 
msgid "In this section, we will see how to configure Subversion for all these access methods. Here, we cover the basics. For more advanced usage details, refer to the <ulink url=\"http://svnbook.red-bean.com/\">svn book</ulink>."
msgstr ""

#: serverguide/C/vcs.xml:182(title) 
msgid "Direct repository access (file://)"
msgstr ""

#: serverguide/C/vcs.xml:183(para) 
msgid "This is the simplest of all access methods. It does not require any Subversion server process to be running. This access method is used to access Subversion from the same machine. The syntax of the command, entered at a terminal prompt, is as follows:"
msgstr ""

#: serverguide/C/vcs.xml:190(command) 
msgid "svn co file:///path/to/repos/project"
msgstr ""

#: serverguide/C/vcs.xml:193(para) 
msgid "or"
msgstr ""

#: serverguide/C/vcs.xml:196(command) 
msgid "svn co file://localhost/path/to/repos/project"
msgstr ""

#: serverguide/C/vcs.xml:200(para) 
msgid "If you do not specify the hostname, there are three forward slashes (///) -- two for the protocol (file, in this case) plus the leading slash in the path. If you specify the hostname, you must use two forward slashes (//)."
msgstr ""

#: serverguide/C/vcs.xml:202(para) 
msgid "The repository permissions depend on filesystem permissions. If the user has read/write permission, he can checkout from and commit to the repository."
msgstr ""

#: serverguide/C/vcs.xml:205(title) 
msgid "Access via WebDAV protocol (http://)"
msgstr ""

#: serverguide/C/vcs.xml:206(para) 
msgid "To access the Subversion repository via WebDAV protocol, you must configure your Apache 2 web server. You must add the following snippet in your <filename>/etc/apache2/apache2.conf</filename> file:"
msgstr ""

#: serverguide/C/vcs.xml:208(programlisting) 
#, no-wrap
msgid " &lt;Location /svn&gt;\n  DAV svn\n  SVNParentPath /home/svn\n  AuthType Basic\n  AuthName \"Your repository name\"\n  AuthUserFile /etc/subversion/passwd\n  &lt;LimitExcept GET PROPFIND OPTIONS REPORT&gt;\n  Require valid-user\n  &lt;/LimitExcept&gt;\n  &lt;/Location&gt; "
msgstr ""

#: serverguide/C/vcs.xml:219(para) 
msgid "The above configuration snippet assumes that Subversion repositories are created under <filename>/home/svn/</filename> directory using <command>svnadmin</command> command. They can be accessible using <command>htpp://hostname/svn/repos_name</command> url."
msgstr ""

#: serverguide/C/vcs.xml:225(para) 
msgid "To import or commit files to your Subversion repository over HTTP, the repository should be owned by the HTTP user. In Ubuntu systems, normally the HTTP user is <command>www-data</command>. To change the ownership of the repository files enter the following command from terminal prompt:"
msgstr ""

#: serverguide/C/vcs.xml:234(command) 
msgid "sudo chown -R www-data:www-data /path/to/repos"
msgstr ""

#: serverguide/C/vcs.xml:237(para) 
msgid "By changing the ownership of repository as <command>www-data</command> you will not be able to import or commit files into the repository by running <command>svn import file:///</command> command as any user other than <command>www-data</command>."
msgstr ""

#: serverguide/C/vcs.xml:245(para) 
msgid "Next, you must create the <filename>/etc/subversion/passwd</filename> file. This file contains user authentication details. To add an entry, i.e. to add a user, you can run the following command from a terminal prompt:"
msgstr ""

#: serverguide/C/vcs.xml:250(command) 
msgid "sudo htpasswd -c /etc/subversion/passwd user_name"
msgstr ""

#: serverguide/C/vcs.xml:253(para) 
msgid "This command will prompt you to enter the password. Once you enter the password, the user is added. Now, to access the repository you can run the following command:"
msgstr ""

#: serverguide/C/vcs.xml:254(command) 
msgid "svn co http://servername/svn"
msgstr ""

#: serverguide/C/vcs.xml:256(para) 
msgid "The password is transmitted as plain text. If you are worried about password snooping, you are advised to use SSL encryption. For details, please refer next section."
msgstr ""

#: serverguide/C/vcs.xml:262(title) 
msgid "Access via WebDAV protocol with SSL encryption (https://)"
msgstr ""

#: serverguide/C/vcs.xml:263(para) 
msgid "Accessing Subversion repository via WebDAV protocol with SSL encryption (https://) is similar to http:// except that you must install and configure the digital certificate in your Apache2 web server."
msgstr ""

#: serverguide/C/vcs.xml:270(para) 
msgid "You can install a digital certificate issued by a signing authority like Verisign. Alternatively, you can install your own self-signed certificate."
msgstr ""

#: serverguide/C/vcs.xml:275(para) 
msgid "This step assumes you have installed and configured a digital certificate in your Apache 2 web server. Now, to access the Subversion repository, please refer to the above section! The access methods are exactly the same, except the protocol. You must use https:// to access the Subversion repository."
msgstr ""

#: serverguide/C/vcs.xml:285(title) 
msgid "Access via custom protocol (svn://)"
msgstr ""

#: serverguide/C/vcs.xml:286(para) 
msgid "Once the Subversion repository is created, you can configure the access control. You can edit the <filename> /path/to/repos/project/conf/svnserve.conf</filename> file to configure the access control. For example, to set up authentication, you can uncomment the following lines in the configuration file:"
msgstr ""

#: serverguide/C/vcs.xml:293(programlisting) 
#, no-wrap
msgid "# [general]\n# password-db = passwd"
msgstr ""

#: serverguide/C/vcs.xml:296(para) 
msgid "After uncommenting the above lines, you can maintain the user list in the passwd file. So, edit the file <filename>passwd </filename> in the same directory and add the new user. The syntax is as follows:"
msgstr ""

#: serverguide/C/vcs.xml:302(programlisting) 
#, no-wrap
msgid "username = password"
msgstr ""

#: serverguide/C/vcs.xml:303(para) 
msgid "For more details, please refer to the file."
msgstr ""

#: serverguide/C/vcs.xml:307(para) 
msgid "Now, to access Subversion via the svn:// custom protocol, either from the same machine or a different machine, you can run svnserver using svnserve command. The syntax is as follows:"
msgstr ""

#: serverguide/C/vcs.xml:312(programlisting) 
#, no-wrap
msgid "$ svnserve -d --foreground -r /path/to/repos\n# -d -- daemon mode\n# --foreground -- run in foreground (useful for debugging)\n# -r -- root of directory to serve\n\nFor more usage details, please refer to:\n$ svnserve --help"
msgstr ""

#: serverguide/C/vcs.xml:320(para) 
msgid "Once you run this command, Subversion starts listening on default port (3690). To access the project repository, you must run the following command from a terminal prompt:"
msgstr ""

#: serverguide/C/vcs.xml:323(command) 
msgid "svn co svn://hostname/project project --username user_name"
msgstr ""

#: serverguide/C/vcs.xml:326(para) 
msgid "Based on server configuration, it prompts for password. Once you are authenticated, it checks out the code from Subversion repository. To synchronize the project repository with the local copy, you can run the <command>update</command> sub-command. The syntax of the command, entered at a terminal prompt, is as follows:"
msgstr ""

#: serverguide/C/vcs.xml:334(command) 
msgid "cd project_dir ; svn update"
msgstr ""

#: serverguide/C/vcs.xml:337(para) 
msgid "For more details about using each Subversion sub-command, you can refer to the manual. For example, to learn more about the co (checkout) command, please run the following command from a terminal prompt:"
msgstr ""

#: serverguide/C/vcs.xml:341(command) 
msgid "svn co help"
msgstr ""

#: serverguide/C/vcs.xml:345(title) 
msgid "Access via custom protocol with SSL encryption (svn+ssh://)"
msgstr ""

#: serverguide/C/vcs.xml:346(para) 
msgid "The configuration and server process is same as in the svn:// method. For details, please refer to the above section. This step assumes you have followed the above step and started the Subversion server using <application>svnserve</application> command."
msgstr ""

#: serverguide/C/vcs.xml:352(para) 
msgid "It is also assumed that the ssh server is running on that machine and that it is allowing incoming connections. To confirm, please try to login to that machine using ssh. If you can login, everything is perfect. If you cannot login, please address it before continuing further."
msgstr ""

#: serverguide/C/vcs.xml:358(para) 
msgid "The svn+ssh:// protocol is used to access the Subversion repository using SSL encryption. The data transfer is encrypted using this method. To access the project repository (for example with a checkout), you must use the following command syntax:"
msgstr ""

#: serverguide/C/vcs.xml:365(command) 
msgid "svn co svn+ssh://hostname/var/svn/repos/project"
msgstr ""

#: serverguide/C/vcs.xml:369(para) 
msgid "You must use the full path (/path/to/repos/project) to access the Subversion repository using this access method."
msgstr ""

#: serverguide/C/vcs.xml:372(para) 
msgid "Based on server configuration, it prompts for password. You must enter the password you use to login via ssh. Once you are authenticated, it checks out the code from the Subversion repository."
msgstr ""

#: serverguide/C/vcs.xml:383(title) 
msgid "CVS Server"
msgstr ""

#: serverguide/C/vcs.xml:384(para) 
msgid "CVS is a version control system. You can use it to record the history of source files."
msgstr ""

#: serverguide/C/vcs.xml:390(para) 
msgid "At a terminal prompt, enter the following command to install <application>cvs</application>: <screen>\n<command>sudo apt-get install cvs</command>\n</screen> After you install <application>cvs</application>, you should install <application>xinetd</application> to start/stop the cvs server. At the prompt, enter the following command to install <application>xinetd</application>: <screen>\n<command>sudo apt-get install xinetd</command>\n</screen>"
msgstr ""

#: serverguide/C/vcs.xml:425(programlisting) 
#, no-wrap
msgid "\nservice cvspserver\n{\n     port = 2401\n     socket_type = stream\n     protocol = tcp\n     user = root\n     wait = no\n     type = UNLISTED\n     server = /usr/bin/cvs\n     server_args = -f --allow-root /var/lib/cvs pserver\n     disable = no\n}\n"
msgstr ""

#: serverguide/C/vcs.xml:441(para) 
msgid "Be sure to edit the repository if you have changed the default repository (<application>/var/lib/cvs</application>) directory."
msgstr ""

#: serverguide/C/vcs.xml:410(para) 
msgid "Once you install cvs, the repository will be automatically initialized. By default, the repository resides under the <application>/var/lib/cvs</application> directory. You can change this path by running following command: <screen>\n<command>cvs -d /your/new/cvs/repo init</command>\n</screen> Once the initial repository is set up, you can configure <application>xinetd</application> to start the CVS server. You can copy the following lines to the <filename> /etc/xinetd.d/cvspserver</filename> file. <placeholder-1/><placeholder-2/> Once you have configured <application>xinetd</application> you can start the cvs server by running following command: <screen>\n<command>sudo /etc/init.d/xinetd start</command>\n</screen>"
msgstr ""

#: serverguide/C/vcs.xml:454(para) 
msgid "You can confirm that the CVS server is running by issuing the following command:"
msgstr ""

#: serverguide/C/vcs.xml:461(command) 
msgid "sudo netstat -tap | grep cvs"
msgstr ""

#: serverguide/C/vcs.xml:465(para) serverguide/C/databases.xml:65(para) 
msgid "When you run this command, you should see the following line or something similar:"
msgstr ""

#: serverguide/C/vcs.xml:470(programlisting) 
#, no-wrap
msgid "\ntcp        0      0 *:cvspserver            *:* LISTEN \n"
msgstr ""

#: serverguide/C/vcs.xml:474(para) 
msgid "From here you can continue to add users, add new projects, and manage the CVS server."
msgstr ""

#: serverguide/C/vcs.xml:479(para) 
msgid "CVS allows the user to add users independently of the underlying OS installation. Probably the easiest way is to use the Linux Users for CVS, although it has potential security issues. Please refer to the CVS manual for details."
msgstr ""

#: serverguide/C/vcs.xml:489(title) 
msgid "Add Projects"
msgstr ""

#: serverguide/C/vcs.xml:501(para) 
msgid "You can use the CVSROOT environment variable to store the CVS root directory. Once you export the CVSROOT environment variable, you can avoid using -d option in the above cvs command."
msgstr ""

#: serverguide/C/vcs.xml:513(para) 
msgid "When you add a new project, the CVS user you use must have write access to the CVS repository (<application>/var/lib/cvs</application>). By default, the <application>src</application> group has write access to the CVS repository. So, you can add the user to this group, and he can then add and manage projects in the CVS repository."
msgstr ""

#: serverguide/C/vcs.xml:490(para) 
msgid "This section explains how to add new project to the CVS repository. Create the directory and add necessary document and source files to the directory. Now, run the following command to add this project to CVS repository: <screen>\n<command>cd your/project</command>\n<command>cvs -d :pserver:username@hostname.com:/var/lib/cvs import -m \"Importing my project to CVS repository\" . new_project start</command>\n</screen><placeholder-1/> The string <emphasis>new_project</emphasis> is a vendor tag, and <emphasis>start</emphasis> is a release tag. They serve no purpose in this context, but since CVS requires them, they must be present. <placeholder-2/>"
msgstr ""

#: serverguide/C/vcs.xml:526(ulink) 
msgid "Bazaar Home Page"
msgstr ""

#: serverguide/C/vcs.xml:527(ulink) 
msgid "Launchpad"
msgstr ""

#: serverguide/C/vcs.xml:528(ulink) 
msgid "Subversion Home Page"
msgstr ""

#: serverguide/C/vcs.xml:529(ulink) 
msgid "Subversion Book"
msgstr ""

#: serverguide/C/vcs.xml:531(ulink) 
msgid "CVS Manual"
msgstr ""

#: serverguide/C/serverguide.xml:3(title) serverguide/C/bookinfo.xml:3(title) 
msgid "Credits and License"
msgstr ""

#: serverguide/C/serverguide.xml:4(para) serverguide/C/bookinfo.xml:4(para) 
msgid "This document is maintained by the Ubuntu documentation team (https://wiki.ubuntu.com/DocumentationTeam). For a list of contributors, see the <ulink url=\"../../libs/C/contributors.xml\">contributors page</ulink>"
msgstr ""

#: serverguide/C/serverguide.xml:5(para) serverguide/C/bookinfo.xml:5(para) 
msgid "This document is made available under the Creative Commons ShareAlike 2.5 License (CC-BY-SA)."
msgstr ""

#: serverguide/C/serverguide.xml:6(para) serverguide/C/bookinfo.xml:6(para) 
msgid "You are free to modify, extend, and improve the Ubuntu documentation source code under the terms of this license. All derivative works must be released under this license."
msgstr ""

#: serverguide/C/serverguide.xml:8(para) serverguide/C/bookinfo.xml:8(para) 
msgid "This documentation is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE AS DESCRIBED IN THE DISCLAIMER."
msgstr ""

#: serverguide/C/serverguide.xml:11(para) serverguide/C/bookinfo.xml:11(para) 
msgid "A copy of the license is available here: <ulink url=\"/usr/share/ubuntu-docs/libs/C/ccbysa.xml\">Creative Commons ShareAlike License</ulink>."
msgstr ""

#: serverguide/C/serverguide.xml:14(year) serverguide/C/bookinfo.xml:14(year) 
msgid "2008"
msgstr ""

#: serverguide/C/serverguide.xml:15(ulink) serverguide/C/bookinfo.xml:15(ulink) 
msgid "Ubuntu Documentation Project"
msgstr ""

#: serverguide/C/serverguide.xml:15(holder) serverguide/C/bookinfo.xml:15(holder) 
msgid "Canonical Ltd. and members of the <placeholder-1/>"
msgstr ""

#: serverguide/C/serverguide.xml:18(publishername) serverguide/C/bookinfo.xml:18(publishername) 
msgid "The Ubuntu Documentation Project"
msgstr ""

#: serverguide/C/serverguide.xml:17(para) 
msgid "Welcome to the <emphasis>Ubuntu Server Guide</emphasis>! It contains information on how to install and configure various server applications on your Ubuntu system to fit your needs. It is a step-by-step, task-oriented guide for configuring and customizing your system."
msgstr ""

#: serverguide/C/security.xml:13(title) 
msgid "Security"
msgstr ""

#: serverguide/C/security.xml:14(para) 
msgid "Security should always be considered when installing, deploying, and using any type of computer system. Although a fresh installation of Ubuntu is relatively safe for immediate use on the Internet, it is important to have a balanced understanding of your systems security posture based on how it will be used after deployment."
msgstr ""

#: serverguide/C/security.xml:17(para) 
msgid "This chapter provides an overview of security related topics as they pertain to Ubuntu 8.10 Server Edition, and outlines simple measures you may use to protect your server and network from any number of potential security threats."
msgstr ""

#: serverguide/C/security.xml:21(title) 
msgid "User Management"
msgstr ""

#: serverguide/C/security.xml:22(para) 
msgid "User management is a critical part of maintaining a secure system. Ineffective user and privilege management often lead many systems into being compromised. Therefore, it is important that you understand how you can protect your server through simple and effective user account management techniques."
msgstr ""

#: serverguide/C/security.xml:26(title) 
msgid "Where is root?"
msgstr ""

#: serverguide/C/security.xml:27(para) 
msgid "Ubuntu developers made a conscientious decision to disable the administrative root account by default in all Ubuntu installations. This does not mean that the root account has been deleted or that it may not be accessed. It merely has been given a password which matches no possible encrypted value, therefore may not log in directly by itself."
msgstr ""

#: serverguide/C/security.xml:30(para) 
msgid "Instead, users are encouraged to make use of a tool by the name of <application>sudo</application> to carry out system administrative duties. <application>Sudo</application> allows an authorized user to temporarily elevate their privileges using their own password instead of having to know the password belonging to the root account. This simple yet effective methodology provides accountability for all user actions, and gives the administrator granular control over which actions a user can perform with said privileges."
msgstr ""

#: serverguide/C/security.xml:35(para) 
msgid "If for some reason you wish to enable the root account, simply give it a password:"
msgstr ""

#: serverguide/C/security.xml:39(command) 
msgid "sudo passwd"
msgstr ""

#: serverguide/C/security.xml:41(para) 
msgid "Sudo will prompt you for your password, and then ask you to supply a new password for root as shown below:"
msgstr ""

#: serverguide/C/security.xml:44(userinput) 
#, no-wrap
msgid "(enter your own password)"
msgstr ""

#: serverguide/C/security.xml:45(userinput) 
#, no-wrap
msgid "(enter a new password for root)"
msgstr ""

#: serverguide/C/security.xml:46(userinput) 
#, no-wrap
msgid "(repeat new password for root)"
msgstr ""

#: serverguide/C/security.xml:44(computeroutput) 
#, no-wrap
msgid "[sudo] password for username: <placeholder-1/>\nEnter new UNIX password: <placeholder-2/>\nRetype new UNIX password: <placeholder-3/>\npasswd: password updated successfully"
msgstr ""

#: serverguide/C/security.xml:51(para) 
msgid "To disable the root account, use the following passwd syntax:"
msgstr ""

#: serverguide/C/security.xml:55(command) 
msgid "sudo passwd -l root"
msgstr ""

#: serverguide/C/security.xml:59(para) 
msgid "You should read more on <application>Sudo</application> by checking out it's man page:"
msgstr ""

#: serverguide/C/security.xml:63(command) 
msgid "man sudo"
msgstr ""

#: serverguide/C/security.xml:67(para) 
msgid "By default, the initial user created by the Ubuntu installer is a member of the group \"admin\" which is added to the file <filename>/etc/sudoers</filename> as an authorized sudo user. If you wish to give any other account full root access through <application>sudo</application>, simply add them to the admin group."
msgstr ""

#: serverguide/C/security.xml:73(title) 
msgid "Adding and Deleting Users"
msgstr ""

#: serverguide/C/security.xml:74(para) 
msgid "The process for managing local users and groups is straight forward and differs very little from most other GNU/Linux operating systems. Ubuntu and other Debian based distributions, encourage the use of the \"adduser\" package for account management."
msgstr ""

#: serverguide/C/security.xml:79(para) 
msgid "To add a user account, use the following syntax, and follow the prompts to give the account a password and identifiable characteristics such as a full name, phone number, etc."
msgstr ""

#: serverguide/C/security.xml:83(command) 
msgid "sudo adduser username"
msgstr ""

#: serverguide/C/security.xml:87(para) 
msgid "To delete a user account and its primary group, use the following syntax:"
msgstr ""

#: serverguide/C/security.xml:91(command) 
msgid "sudo deluser username"
msgstr ""

#: serverguide/C/security.xml:93(para) 
msgid "Deleting an account does not remove their respective home folder. It is up to you whether or not you wish to delete the folder manually or keep it according to your desired retention policies."
msgstr ""

#: serverguide/C/security.xml:96(para) 
msgid "Remember, any user added later on with the same UID/GID as the previous owner will now have access to this folder if you have not taken the necessary precautions."
msgstr ""

#: serverguide/C/security.xml:99(para) 
msgid "You may want to change these UID/GID values to something more appropriate, such as the root account, and perhaps even relocate the folder to avoid future conflicts:"
msgstr ""

#: serverguide/C/security.xml:103(command) 
msgid "sudo chown -R root:root /home/username/"
msgstr ""

#: serverguide/C/security.xml:104(command) 
msgid "sudo mkdir /home/archived_users/"
msgstr ""

#: serverguide/C/security.xml:105(command) 
msgid "sudo mv /home/username /home/archived_users/"
msgstr ""

#: serverguide/C/security.xml:109(para) 
msgid "To temporarily lock or unlock a user account, use the following syntax, respectively:"
msgstr ""

#: serverguide/C/security.xml:113(command) 
msgid "sudo passwd -l username"
msgstr ""

#: serverguide/C/security.xml:114(command) 
msgid "sudo passwd -u username"
msgstr ""

#: serverguide/C/security.xml:118(para) 
msgid "To add or delete a personalized group, use the following syntax, respectively:"
msgstr ""

#: serverguide/C/security.xml:122(command) 
msgid "sudo addgroup groupname"
msgstr ""

#: serverguide/C/security.xml:123(command) 
msgid "sudo delgroup groupname"
msgstr ""

#: serverguide/C/security.xml:127(para) 
msgid "To add a user to a group, use the following syntax:"
msgstr ""

#: serverguide/C/security.xml:131(command) 
msgid "sudo adduser username groupname"
msgstr ""

#: serverguide/C/security.xml:138(title) 
msgid "User Profile Security"
msgstr ""

#: serverguide/C/security.xml:139(para) 
msgid "When a new user is created, the adduser utility creates a brand new home directory named <filename class=\"directory\">/home/username</filename>, respectively. The default profile is modeled after the contents found in the directory of <filename class=\"directory\">/etc/skel</filename>, which includes all profile basics."
msgstr ""

#: serverguide/C/security.xml:142(para) 
msgid "If your server will be home to multiple users, you should pay close attention to the user home directory permissions to ensure confidentiality. By default, user home directories in Ubuntu are created with world read/execute permissions. This means that all users can browse and access the contents of other users home directories. This may not be suitable for your environment."
msgstr ""

#: serverguide/C/security.xml:147(para) 
msgid "To verify your current users home directory permissions, use the following syntax:"
msgstr ""

#: serverguide/C/security.xml:151(command) serverguide/C/security.xml:183(command) 
msgid "ls -ld /home/username"
msgstr ""

#: serverguide/C/security.xml:153(para) 
msgid "The following output shows that the directory <filename class=\"directory\">/home/username</filename> has world readable permissions:"
msgstr ""

#: serverguide/C/security.xml:156(computeroutput) 
#, no-wrap
msgid "drwxr-xr-x  2 username username    4096 2007-10-02 20:03 username"
msgstr ""

#: serverguide/C/security.xml:160(para) 
msgid "You can remove the world readable permissions using the following syntax:"
msgstr ""

#: serverguide/C/security.xml:164(command) 
msgid "sudo chmod 0750 /home/username"
msgstr ""

#: serverguide/C/security.xml:167(para) 
msgid "Some people tend to use the recursive option (-R) indiscriminately which modifies all child folders and files, but this is not necessary, and may yield other undesirable results. The parent directory alone is sufficient for preventing unauthorized access to anything below the parent."
msgstr ""

#: serverguide/C/security.xml:171(para) 
msgid "A much more efficient approach to the matter would be to modify the <application>adduser</application> global default permissions when creating user home folders. Simply edit the file <filename>/etc/adduser.conf</filename> and modify the <varname>DIR_MODE</varname> variable to something appropriate, so that all new home directories will receive the correct permissions."
msgstr ""

#: serverguide/C/security.xml:174(programlisting) 
#, no-wrap
msgid "\nDIR_MODE=0750\n"
msgstr ""

#: serverguide/C/security.xml:179(para) 
msgid "After correcting the directory permissions using any of the previously mentioned techniques, verify the results using the following syntax:"
msgstr ""

#: serverguide/C/security.xml:185(para) 
msgid "The results below show that world readable permissions have been removed:"
msgstr ""

#: serverguide/C/security.xml:188(computeroutput) 
#, no-wrap
msgid "drwxr-x---   2 username username    4096 2007-10-02 20:03 username"
msgstr ""

#: serverguide/C/security.xml:195(title) 
msgid "Password Policy"
msgstr ""

#: serverguide/C/security.xml:196(para) 
msgid "A strong password policy is one of the most important aspects of your security posture. Many successful security breaches involve simple brute force and dictionary attacks against weak passwords. If you intend to offer any form of remote access involving your local password system, make sure you adequately address minimum password complexity requirements, maximum password lifetimes, and frequent audits of your authentication systems."
msgstr ""

#: serverguide/C/security.xml:200(title) 
msgid "Minimum Password Length"
msgstr ""

#: serverguide/C/security.xml:201(para) 
msgid "By default, Ubuntu requires a minimum password length of 4 characters, as well as some basic entropy checks. These values are controlled in the file <filename>/etc/pam.d/common-password</filename>, which is outlined below."
msgstr ""

#: serverguide/C/security.xml:204(programlisting) 
#, no-wrap
msgid "\npassword   required   pam_unix.so nullok obscure min=4 max=8 md5\n"
msgstr ""

#: serverguide/C/security.xml:207(para) 
msgid "If you would like to adjust the minimum length to 6 characters, change the appropriate variable to min=6. The modification is outlined below."
msgstr ""

#: serverguide/C/security.xml:210(programlisting) 
#, no-wrap
msgid "\npassword   required   pam_unix.so nullok obscure min=6 max=8 md5\n"
msgstr ""

#: serverguide/C/security.xml:214(para) 
msgid "The <varname>max=8</varname> variable does not represent the maximum length of a password. It only means that complexity requirements will not be checked on passwords over 8 characters. You may want to look at the <application>libpam-cracklib</application> package for additional password entropy assistance."
msgstr ""

#: serverguide/C/security.xml:220(title) 
msgid "Password Expiration"
msgstr ""

#: serverguide/C/security.xml:221(para) 
msgid "When creating user accounts, you should make it a policy to have a minimum and maximum password age forcing users to change their passwords when they expire."
msgstr ""

#: serverguide/C/security.xml:226(para) 
msgid "To easily view the current status of a user account, use the following syntax:"
msgstr ""

#: serverguide/C/security.xml:230(command) serverguide/C/security.xml:263(command) 
msgid "sudo chage -l username"
msgstr ""

#: serverguide/C/security.xml:232(para) 
msgid "The output below shows interesting facts about the user account, namely that there are no policies applied:"
msgstr ""

#: serverguide/C/security.xml:235(computeroutput) 
#, no-wrap
msgid "Last password change                                    : Jan 20, 2008\nPassword expires                                        : never\nPassword inactive                                       : never\nAccount expires                                         : never\nMinimum number of days between password change          : 0\nMaximum number of days between password change          : 99999\nNumber of days of warning before password expires       : 7"
msgstr ""

#: serverguide/C/security.xml:245(para) 
msgid "To set any of these values, simply use the following syntax, and follow the interactive prompts:"
msgstr ""

#: serverguide/C/security.xml:249(command) 
msgid "sudo chage username"
msgstr ""

#: serverguide/C/security.xml:251(para) 
msgid "The following is also an example of how you can manually change the explicit expiration date (-E) to 01/31/2008, minimum password age (-m) of 5 days, maximum password age (-M) of 90 days, inactivity period (-I) of 5 days after password expiration, and a warning time period (-W) of 14 days before password expiration."
msgstr ""

#: serverguide/C/security.xml:255(command) 
msgid "sudo chage -E 01/31/2008 -m 5 -M 90 -I 30 -W 14 username"
msgstr ""

#: serverguide/C/security.xml:259(para) 
msgid "To verify changes, use the same syntax as mentioned previously:"
msgstr ""

#: serverguide/C/security.xml:265(para) 
msgid "The output below shows the new policies that have been established for the account:"
msgstr ""

#: serverguide/C/security.xml:268(computeroutput) 
#, no-wrap
msgid "Last password change                                    : Jan 20, 2008\nPassword expires                                        : Apr 19, 2008\nPassword inactive                                       : May 19, 2008\nAccount expires                                         : Jan 31, 2008\nMinimum number of days between password change          : 5\nMaximum number of days between password change          : 90\nNumber of days of warning before password expires       : 14"
msgstr ""

#: serverguide/C/security.xml:284(title) 
msgid "Other Security Considerations"
msgstr ""

#: serverguide/C/security.xml:285(para) 
msgid "Many applications use alternate authentication mechanisms that can be easily overlooked by even experienced system administrators. Therefore, it is important to understand and control how users authenticate and gain access to services and applications on your server."
msgstr ""

#: serverguide/C/security.xml:290(title) 
msgid "SSH Access by Disabled Users"
msgstr ""

#: serverguide/C/security.xml:291(para) 
msgid "Simply disabling/locking a user account will not prevent a user from logging into your server remotely if they have previously set up RSA public key authentication. They will still be able to gain shell access to the server, without the need for any password. Remember to check the users home directory for files that will allow for this type of authenticated SSH access. e.g. <filename>/home/username/.ssh/authorized_keys</filename>."
msgstr ""

#: serverguide/C/security.xml:294(para) 
msgid "Remove or rename the directory <filename class=\"directory\">.ssh/</filename> in the user's home folder to prevent further SSH authentication capabilities."
msgstr ""

#: serverguide/C/security.xml:297(para) 
msgid "Be sure to check for any established SSH connections by the disabled user, as it is possible they may have existing inbound or outbound connections. Kill any that are found."
msgstr ""

#: serverguide/C/security.xml:300(para) 
msgid "Restrict SSH access to only user accounts that should have it. For example, you may create a group called \"sshlogin\" and add the group name as the value associated with the <varname>AllowGroups</varname> variable located in the file <filename>/etc/ssh/sshd_config</filename>."
msgstr ""

#: serverguide/C/security.xml:303(programlisting) 
#, no-wrap
msgid "\nAllowGroups sshlogin\n"
msgstr ""

#: serverguide/C/security.xml:306(para) 
msgid "Then add your permitted SSH users to the group \"sshlogin\", and restart the SSH service."
msgstr ""

#: serverguide/C/security.xml:310(command) 
msgid "sudo adduser username sshlogin"
msgstr ""

#: serverguide/C/security.xml:311(command) serverguide/C/remote-administration.xml:150(command) 
msgid "sudo /etc/init.d/ssh restart"
msgstr ""

#: serverguide/C/security.xml:315(title) 
msgid "External User Database Authentication"
msgstr ""

#: serverguide/C/security.xml:316(para) 
msgid "Most enterprise networks require centralized authentication and access controls for all system resources. If you have configured your server to authenticate users against external databases, be sure to disable the user accounts both externally and locally, this way you ensure that local fallback authentication is not possible."
msgstr ""

#: serverguide/C/security.xml:325(title) 
msgid "Console Security"
msgstr ""

#: serverguide/C/security.xml:326(para) 
msgid "As with any other security barrier you put in place to protect your server, it is pretty tough to defend against untold damage caused by someone with physical access to your environment, for example, theft of hard drives, power or service disruption and so on. Therefore, console security should be addressed merely as one component of your overall physical security strategy. A locked \"screen door\" may deter a casual criminal, or at the very least slow down a determined one, so it is still advisable to perform basic precautions with regard to console security."
msgstr ""

#: serverguide/C/security.xml:329(para) 
msgid "The following instructions will help defend your server against issues that could otherwise yield very serious consequences."
msgstr ""

#: serverguide/C/security.xml:334(title) 
msgid "Disable Ctrl+Alt+Delete"
msgstr ""

#: serverguide/C/security.xml:335(para) 
msgid "First and foremost, anyone that has physical access to the keyboard can simply use the <keycombo><keycap>Ctrl</keycap><keycap>Alt</keycap><keycap>Delete</keycap></keycombo> key combination to reboot the server without having to log on. Sure, someone could simply unplug the power source, but you should still prevent the use of this key combination on a production server. This forces an attacker to take more drastic measures to reboot the server, and will prevent accidental reboots at the same time."
msgstr ""

#: serverguide/C/security.xml:340(para) 
msgid "To disable the reboot action taken by pressing the <keycombo><keycap>Ctrl</keycap><keycap>Alt</keycap><keycap>Delete</keycap></keycombo> key combination, comment out the following line in the file <filename>/etc/event.d/control-alt-delete</filename>."
msgstr ""

#: serverguide/C/security.xml:343(programlisting) 
#, no-wrap
msgid "\n#exec /sbin/shutdown -r now \"Control-Alt-Delete pressed\"\n"
msgstr ""

#: serverguide/C/security.xml:350(title) 
msgid "GRUB Password Security"
msgstr ""

#: serverguide/C/security.xml:351(para) 
msgid "Ubuntu installs GNU GRUB as its default boot loader, which allows for great flexibility and recovery options. For example, when you install additional kernel images, these are automatically added as available boot options in the <application>grub</application> menu. Also, by default, alternate boot options are available for each kernel entry that may be used for system recovery, aptly labeled (recovery mode). Recovery mode simply boots the corresponding kernel image into single user mode (init 1), which lands the administrator at a root prompt without the need for any password."
msgstr ""

#: serverguide/C/security.xml:354(para) 
msgid "Therefore, it is important to control who may edit the <application>grub</application> menu items which, would otherwise allow for someone to perform the following dangerous actions:"
msgstr ""

#: serverguide/C/security.xml:359(para) 
msgid "Pass kernel options at boot up."
msgstr ""

#: serverguide/C/security.xml:364(para) 
msgid "Boot the server into single user mode."
msgstr ""

#: serverguide/C/security.xml:369(para) 
msgid "You can prevent these actions by adding a password to GRUB's configuration file of <filename>/boot/grub/menu.lst</filename>, which will be required to unlock GRUB's more advanced features prior to use."
msgstr ""

#: serverguide/C/security.xml:374(para) 
msgid "To add a password for use with <application>grub</application>, first you must generate an md5 password hash using the <application>grub-md5-crypt</application> utility:"
msgstr ""

#: serverguide/C/security.xml:378(command) 
msgid "grub-md5-crypt"
msgstr ""

#: serverguide/C/security.xml:380(para) 
msgid "The command will ask you to enter a password and offer a resulting hash value as shown below:"
msgstr ""

#: serverguide/C/security.xml:383(userinput) 
#, no-wrap
msgid "(enter new password)"
msgstr ""

#: serverguide/C/security.xml:384(userinput) 
#, no-wrap
msgid "(repeat password)"
msgstr ""

#: serverguide/C/security.xml:383(computeroutput) 
#, no-wrap
msgid "Password: <placeholder-1/>\nRetype password: <placeholder-2/>\n$1$s3YiK$M3lxAbqA6JLm2FbDWnClQ0"
msgstr ""

#: serverguide/C/security.xml:389(para) 
msgid "Add the resulting hash value to the file <filename>/boot/grub/menu.lst</filename> in the following format:"
msgstr ""

#: serverguide/C/security.xml:392(programlisting) 
#, no-wrap
msgid "password --md5 $1$s3YiK$M3lxAbqA6JLm2FbDWnClQ0"
msgstr ""

#: serverguide/C/security.xml:395(para) 
msgid "To require use of the password for entering single user mode, change the value of the <varname>lockalternative</varname> variable in the file <filename>/boot/grub/menu.lst</filename> to <varname>true</varname>, as shown in the following example."
msgstr ""

#: serverguide/C/security.xml:398(programlisting) 
#, no-wrap
msgid "# lockalternative=true"
msgstr ""

#: serverguide/C/security.xml:402(para) 
msgid "This does not prevent someone from booting the server from alternate media. A determined attacker would simply boot into an alternate environment, overwrite your master boot record, mount or copy your physical volumes, destroy your data, or anything else they can imagine. Please explore other countermeasures that may help you with these types of attacks."
msgstr ""

#: serverguide/C/security.xml:410(title) 
msgid "Firewall"
msgstr ""

#: serverguide/C/security.xml:413(para) 
msgid "The Linux kernel includes the <emphasis>Netfilter</emphasis> subsystem, which is used to manipulate or decide the fate of network traffic headed into or through your server. All modern Linux firewall solutions use this system for packet filtering."
msgstr ""

#: serverguide/C/security.xml:418(para) 
msgid "The kernel's packet filtering system would be of little use to administrators without a userspace interface to manage it. This is the purpose of iptables. When a packet reaches your server, it will be handed off to the Netfilter subsystem for acceptance, manipulation, or rejection based on the rules supplied to it from userspace via iptables. Thus, iptables is all you need to manage your firewall if you're familiar with it, but many frontends are available to simplify the task."
msgstr ""

#: serverguide/C/security.xml:428(title) 
msgid "ufw - Uncomplicated Firewall"
msgstr ""

#: serverguide/C/security.xml:429(para) 
msgid "The default firewall configuration tool for Ubuntu is <application>ufw</application>. Developed to ease iptables firewall configuration, <application>ufw</application> provides a user friendly way to create an IPv4 or IPv6 host-based firewall."
msgstr ""

#: serverguide/C/security.xml:433(para) 
msgid "<application>ufw</application> by default is initially disabled. From the <application>ufw</application> man page:"
msgstr ""

#: serverguide/C/security.xml:437(quote) 
msgid "ufw is not intended to provide complete firewall functionality via its command interface, but instead provides an easy way to add or remove simple rules. It is currently mainly used for host-based firewalls."
msgstr ""

#: serverguide/C/security.xml:441(para) 
msgid "The following are some examples of how to use <application>ufw</application>:"
msgstr ""

#: serverguide/C/security.xml:446(para) 
msgid "First, <application>ufw</application> needs to be enabled. From a terminal prompt enter:"
msgstr ""

#: serverguide/C/security.xml:450(command) 
msgid "sudo ufw enable"
msgstr ""

#: serverguide/C/security.xml:454(para) 
msgid "To open a port (ssh in this example):"
msgstr ""

#: serverguide/C/security.xml:458(command) 
msgid "sudo ufw allow 22"
msgstr ""

#: serverguide/C/security.xml:462(para) 
msgid "Similarly, to close an opened port:"
msgstr ""

#: serverguide/C/security.xml:466(command) 
msgid "sudo ufw deny 22"
msgstr ""

#: serverguide/C/security.xml:470(para) 
msgid "To remove a rule, use delete followed by the rule:"
msgstr ""

#: serverguide/C/security.xml:474(command) 
msgid "sudo ufw delete deny 22"
msgstr ""

#: serverguide/C/security.xml:478(para) 
msgid "It is also possible to allow access from specific hosts or networks to a port. The following example allows ssh access from host 192.168.0.2 to any ip address on this host:"
msgstr ""

#: serverguide/C/security.xml:483(command) 
msgid "sudo ufw allow proto tcp from 192.168.0.2 to any port 22"
msgstr ""

#: serverguide/C/security.xml:485(para) 
msgid "Replace 192.168.0.2 with 192.168.0.0/24 to allow ssh access from the entire subnet."
msgstr ""

#: serverguide/C/security.xml:490(para) 
msgid "<application>ufw</application> can be disabled by:"
msgstr ""

#: serverguide/C/security.xml:494(command) 
msgid "sudo ufw disable"
msgstr ""

#: serverguide/C/security.xml:499(para) 
msgid "If the port you want to open or close is defined in <filename>/etc/services</filename>, you can use the port name instead of the number. In the above examples, replace <emphasis>22</emphasis> with <emphasis>ssh</emphasis>."
msgstr ""

#: serverguide/C/security.xml:504(para) 
msgid "This is a quick introduction to using <application>ufw</application>. Please refer to the <application>ufw</application> man page for more information."
msgstr ""

#: serverguide/C/security.xml:509(title) 
msgid "IP Masquerading"
msgstr ""

#: serverguide/C/security.xml:510(para) 
msgid "The purpose of IP Masquerading is to allow machines with private, non-routable IP addresses on your network to access the Internet through the machine doing the masquerading. Traffic from your private network destined for the Internet must be manipulated for replies to be routable back to the machine that made the request. To do this, the kernel must modify the <emphasis>source</emphasis> IP address of each packet so that replies will be routed back to it, rather than to the private IP address that made the request, which is impossible over the Internet. Linux uses <emphasis>Connection Tracking</emphasis> (conntrack) to keep track of which connections belong to which machines and reroute each return packet accordingly. Traffic leaving your private network is thus \"masqueraded\" as having originated from your Ubuntu gateway machine. This process is referred to in Microsoft documentation as Internet Connection Sharing."
msgstr ""

#: serverguide/C/security.xml:526(title) 
msgid "ufw Masquerading"
msgstr ""

#: serverguide/C/security.xml:527(para) 
msgid "IP Masquerading can be achieved using custom <application>ufw</application> rules. This is possible because the current back-end for <application>ufw</application> is <application>iptables-restore</application> with the rules files located in <filename>/etc/ufw/*.rules</filename>. These files are a great place to add legacy iptables rules used without <application>ufw</application>, and rules that are more network gateway or bridge related."
msgstr ""

#: serverguide/C/security.xml:533(para) 
msgid "The rules are split into two different files, rules that should be executed before <application>ufw</application> command line rules, and rules that are executed after <application>ufw</application> command line rules."
msgstr ""

#: serverguide/C/security.xml:539(para) 
msgid "First, packet forwarding needs to be enabled in <application>ufw</application>. Two configuration files will need to be adjusted, in <filename>/etc/default/ufw</filename> change the <emphasis>DEFAULT_FORWARD_POLICY</emphasis> to <quote>ACCEPT</quote>:"
msgstr ""

#: serverguide/C/security.xml:543(programlisting) 
#, no-wrap
msgid "\nDEFAULT_FORWARD_POLICY=\"ACCEPT\"\n"
msgstr ""

#: serverguide/C/security.xml:546(para) 
msgid "Then edit <filename>/etc/ufw/sysctl.conf</filename> and uncomment:"
msgstr ""

#: serverguide/C/security.xml:549(programlisting) serverguide/C/security.xml:613(programlisting) 
#, no-wrap
msgid "\nnet.ipv4.ip_forward=1\n"
msgstr ""

#: serverguide/C/security.xml:552(para) 
msgid "Similarly, for IPv6 forwarding uncomment:"
msgstr ""

#: serverguide/C/security.xml:555(programlisting) serverguide/C/security.xml:619(programlisting) 
#, no-wrap
msgid "\nnet.ipv6.conf.default.forwarding=1\n"
msgstr ""

#: serverguide/C/security.xml:560(para) 
msgid "Now we will add rules to the <filename>/etc/ufw/before.rules</filename> file. The default rules only configure the <emphasis>filter</emphasis> table, and to enable masquerading the <emphasis>nat</emphasis> table will need to be configured. Add the following to the top of the file just after the header comments:"
msgstr ""

#: serverguide/C/security.xml:565(programlisting) 
#, no-wrap
msgid "\n# nat Table rules\n*nat\n:POSTROUTING ACCEPT [0:0]\n\n# Forward traffic from eth1 through eth0.\n-A POSTROUTING -s 192.168.0.0/24 -o eth0 -j MASQUERADE\n\n# don't delete the 'COMMIT' line or these nat table rules won't be processed\nCOMMIT\n"
msgstr ""

#: serverguide/C/security.xml:576(para) 
msgid "The comments are not strictly necessary, but it is considered good practice to document your configuration. Also, when modifying any of the <emphasis>rules</emphasis> files in <filename class=\"directory\">/etc/ufw</filename>, make sure these lines are the last line for each table modified:"
msgstr ""

#: serverguide/C/security.xml:582(programlisting) 
#, no-wrap
msgid "\n# don't delete the 'COMMIT' line or these rules won't be processed\nCOMMIT\n"
msgstr ""

#: serverguide/C/security.xml:588(para) 
msgid "Finally, disable and re-enable <application>ufw</application> to apply the changes:"
msgstr ""

#: serverguide/C/security.xml:592(command) 
msgid "sudo ufw disable &amp;&amp; sudo ufw enable"
msgstr ""

#: serverguide/C/security.xml:596(para) 
msgid "IP Masquerading should now be enabled. You can also add any additional FORWARD rules to the <filename>/etc/ufw/before.rules</filename>. It is recommended that these additional rules be added to the <emphasis>ufw-before-forward</emphasis> chain."
msgstr ""

#: serverguide/C/security.xml:603(title) 
msgid "iptables Masquerading"
msgstr ""

#: serverguide/C/security.xml:604(para) 
msgid "<application>iptables</application> can also be used to enable masquerading."
msgstr ""

#: serverguide/C/security.xml:609(para) 
msgid "Similar to <application>ufw</application>, the first step is to enable IPv4 packet forwarding by editing <filename>/etc/sysctl.conf</filename> and uncomment the following line"
msgstr ""

#: serverguide/C/security.xml:616(para) 
msgid "If you wish to enable IPv6 forwarding also uncomment:"
msgstr ""

#: serverguide/C/security.xml:624(para) 
msgid "Next, execute the <application>sysctl</application> command to enable the new settings in the configuration file:"
msgstr ""

#: serverguide/C/security.xml:628(command) 
msgid "sudo sysctl -p"
msgstr ""

#: serverguide/C/security.xml:632(para) 
msgid "IP Masquerading can now be accomplished with a single iptables rule, which may differ slightly based on your network configuration:"
msgstr ""

#: serverguide/C/security.xml:635(screen) 
#, no-wrap
msgid "\nsudo iptables -t nat -A POSTROUTING -s 192.168.0.0/16 -o ppp0 -j MASQUERADE\n"
msgstr ""

#: serverguide/C/security.xml:638(para) 
msgid "The above command assumes that your private address space is 192.168.0.0/16 and that your Internet-facing device is ppp0. The syntax is broken down as follows:"
msgstr ""

#: serverguide/C/security.xml:643(para) 
msgid "-t nat -- the rule is to go into the nat table"
msgstr ""

#: serverguide/C/security.xml:644(para) 
msgid "-A POSTROUTING -- the rule is to be appended (-A) to the POSTROUTING chain"
msgstr ""

#: serverguide/C/security.xml:645(para) 
msgid "-s 192.168.0.0/16 -- the rule applies to traffic originating from the specified address space"
msgstr ""

#: serverguide/C/security.xml:646(para) 
msgid "-o ppp0 -- the rule applies to traffic scheduled to be routed through the specified network device"
msgstr ""

#: serverguide/C/security.xml:648(para) 
msgid "-j MASQUERADE -- traffic matching this rule is to \"jump\" (-j) to the MASQUERADE target to be manipulated as described above"
msgstr ""

#: serverguide/C/security.xml:656(para) 
msgid "Also, each chain in the filter table (the default table, and where most or all packet filtering occurs) has a default <emphasis>policy</emphasis> of ACCEPT, but if you are creating a firewall in addition to a gateway device, you may have set the policies to DROP or REJECT, in which case your masqueraded traffic needs to be allowed through the FORWARD chain for the above rule to work:"
msgstr ""

#: serverguide/C/security.xml:663(screen) 
#, no-wrap
msgid "\nsudo iptables -A FORWARD -s 192.168.0.0/16 -o ppp0 -j ACCEPT\nsudo iptables -A FORWARD -d 192.168.0.0/16 -m state --state ESTABLISHED,RELATED -i ppp0 -j ACCEPT\n"
msgstr ""

#: serverguide/C/security.xml:667(para) 
msgid "The above commands will allow all connections from your local network to the Internet and all traffic related to those connections to return to the machine that initiated them."
msgstr ""

#: serverguide/C/security.xml:674(para) 
msgid "If you want masquerading to be enabled on reboot, which you probably do, edit <filename>/etc/rc.local</filename> and add any commands used above. For example add the first command with no filtering:"
msgstr ""

#: serverguide/C/security.xml:678(screen) 
#, no-wrap
msgid "\niptables -t nat -A POSTROUTING -s 192.168.0.0/16 -o ppp0 -j MASQUERADE\n"
msgstr ""

#: serverguide/C/security.xml:686(title) 
msgid "Logs"
msgstr ""

#: serverguide/C/security.xml:687(para) 
msgid "Firewall logs are essential for recognizing attacks, troubleshooting your firewall rules, and noticing unusual activity on your network. You must include logging rules in your firewall for them to be generated, though, and logging rules must come before any applicable terminating rule (a rule with a target that decides the fate of the packet, such as ACCEPT, DROP, or REJECT)."
msgstr ""

#: serverguide/C/security.xml:694(para) 
msgid "If you are using <application>ufw</application>, you can turn on logging by entering the following in a terminal:"
msgstr ""

#: serverguide/C/security.xml:698(command) 
msgid "sudo ufw logging on"
msgstr ""

#: serverguide/C/security.xml:700(para) 
msgid "To turn logging off in <application>ufw</application>, simply replace <emphasis role=\"italic\">on</emphasis> with <emphasis role=\"italic\">off</emphasis> in the above command."
msgstr ""

#: serverguide/C/security.xml:703(para) 
msgid "If using <application>iptables</application> instead of <application>ufw</application>, enter:"
msgstr ""

#: serverguide/C/security.xml:706(screen) 
#, no-wrap
msgid "\nsudo iptables -A INPUT -m state --state NEW -p tcp --dport 80 -j LOG --log-prefix \"NEW_HTTP_CONN: \"\n"
msgstr ""

#: serverguide/C/security.xml:709(para) 
msgid "A request on port 80 from the local machine, then, would generate a log in dmesg that looks like this:"
msgstr ""

#: serverguide/C/security.xml:714(programlisting) 
#, no-wrap
msgid "[4304885.870000] NEW_HTTP_CONN: IN=lo OUT= MAC=00:00:00:00:00:00:00:00:00:00:00:00:08:00 SRC=127.0.0.1 DST=127.0.0.1 LEN=60 TOS=0x00 PREC=0x00 TTL=64 ID=58288 DF PROTO=TCP SPT=53981 DPT=80 WINDOW=32767 RES=0x00 SYN URGP=0"
msgstr ""

#: serverguide/C/security.xml:716(para) 
msgid "The above log will also appear in <filename>/var/log/messages</filename>, <filename>/var/log/syslog</filename>, and <filename>/var/log/kern.log</filename>. This behavior can be modified by editing <filename>/etc/syslog.conf</filename> appropriately or by installing and configuring <application>ulogd</application> and using the ULOG target instead of LOG. The <application>ulogd</application> daemon is a userspace server that listens for logging instructions from the kernel specifically for firewalls, and can log to any file you like, or even to a <application>PostgreSQL</application> or <application>MySQL</application> database. Making sense of your firewall logs can be simplified by using a log analyzing tool such as <application>fwanalog</application>, <application> fwlogwatch</application>, or <application>lire</application>."
msgstr ""

#: serverguide/C/security.xml:731(title) 
msgid "Other Tools"
msgstr ""

#: serverguide/C/security.xml:732(para) 
msgid "There are many tools available to help you construct a complete firewall without intimate knowledge of iptables. For the GUI-inclined:"
msgstr ""

#: serverguide/C/security.xml:738(para) 
msgid "<ulink url=\"http://www.fs-security.com/\">Firestarter</ulink> is quite popular and easy to use."
msgstr ""

#: serverguide/C/security.xml:743(para) 
msgid "<ulink url=\"http://www.fwbuilder.org/\">fwbuilder</ulink> is very powerful and will look familiar to an administrator who has used a commercial firewall utility such as <application>Checkpoint FireWall-1</application>."
msgstr ""

#: serverguide/C/security.xml:749(para) 
msgid "If you prefer a command-line tool with plain-text configuration files:"
msgstr ""

#: serverguide/C/security.xml:754(para) 
msgid "<ulink url=\"http://www.shorewall.net/\">Shorewall</ulink> is a very powerful solution to help you configure an advanced firewall for any network."
msgstr ""

#: serverguide/C/security.xml:760(para) 
msgid "<ulink url=\"http://www.linuxkungfu.org/\">ipkungfu</ulink> should give you a working firewall \"out of the box\" with zero configuration, and will allow you to easily set up a more advanced firewall by editing simple, well-documented configuration files."
msgstr ""

#: serverguide/C/security.xml:767(para) 
msgid "<ulink url=\"http://fireflier.sourceforge.net/\">fireflier</ulink> is designed to be a desktop firewall application. It is made up of a server (fireflier-server) and your choice of GUI clients (GTK or QT), and behaves like many popular interactive firewall applications for Windows."
msgstr ""

#: serverguide/C/security.xml:779(para) 
msgid "The <ulink url=\"https://wiki.ubuntu.com/UbuntuFirewall\">Ubuntu Firewall</ulink> wiki page contains information on the development of <application>ufw</application>."
msgstr ""

#: serverguide/C/security.xml:785(para) 
msgid "See the <ulink url=\"http://www.netfilter.org/documentation/HOWTO/packet-filtering-HOWTO.html\">packet-filtering-HOWTO</ulink> for more information on using <application>iptables</application>."
msgstr ""

#: serverguide/C/security.xml:791(para) 
msgid "The <ulink url=\"http://www.netfilter.org/documentation/HOWTO/NAT-HOWTO.html\">nat-HOWTO</ulink> contains further details on masquerading."
msgstr ""

#: serverguide/C/security.xml:800(title) 
msgid "AppArmor"
msgstr ""

#: serverguide/C/security.xml:801(para) 
msgid "<application>AppArmor</application> is a Linux Security Module implementation of name-based mandatory access controls. AppArmor confines individual programs to a set of listed files and posix 1003.1e draft capabilities."
msgstr ""

#: serverguide/C/security.xml:805(para) 
msgid "<application>AppArmor</application> is installed and loaded by default. It uses <emphasis>profiles</emphasis> of an application to determine what files and permissions the application requires. Some packages will install their own profiles, and additional profiles can be found in the <application>apparmor-profiles</application> package."
msgstr ""

#: serverguide/C/security.xml:810(para) 
msgid "To install the <application>apparmor-profiles</application> package from a terminal prompt:"
msgstr ""

#: serverguide/C/security.xml:816(para) 
msgid "AppArmor profiles have two modes of execution:"
msgstr ""

#: serverguide/C/security.xml:821(para) 
msgid "Complaining/Learning: profile violations are permitted and logged. Useful for testing and developing new profiles."
msgstr ""

#: serverguide/C/security.xml:826(para) 
msgid "Enforced/Confined: enforces profile policy as well as logging the violation."
msgstr ""

#: serverguide/C/security.xml:832(title) 
msgid "Using AppArmor"
msgstr ""

#: serverguide/C/security.xml:833(para) 
msgid "The <application>apparmor-utils</application> package contains command line utilities that you can use to change the <application>AppArmor</application> execution mode, find the status of a profile, create new profiles, etc."
msgstr ""

#: serverguide/C/security.xml:839(para) 
msgid "<application>apparmor_status</application> is used to view the current status of AppArmor profiles."
msgstr ""

#: serverguide/C/security.xml:843(command) 
msgid "sudo apparmor_status"
msgstr ""

#: serverguide/C/security.xml:847(para) 
msgid "<application>aa-complain</application> places a profile into <emphasis>complain</emphasis> mode."
msgstr ""

#: serverguide/C/security.xml:851(command) 
msgid "sudo aa-complain /path/to/bin"
msgstr ""

#: serverguide/C/security.xml:855(para) 
msgid "<application>aa-enforce</application> places a profile into <emphasis>enforce</emphasis> mode."
msgstr ""

#: serverguide/C/security.xml:859(command) 
msgid "sudo aa-enforce /path/to/bin"
msgstr ""

#: serverguide/C/security.xml:863(para) 
msgid "The <filename>/etc/apparmor.d</filename> directory is where the AppArmor profiles are located. It can be used to manipulate the <emphasis>mode</emphasis> of all profiles."
msgstr ""

#: serverguide/C/security.xml:867(para) 
msgid "Enter the following to place all profiles into complain mode:"
msgstr ""

#: serverguide/C/security.xml:871(command) 
msgid "sudo aa-complain /etc/apparmor.d/*"
msgstr ""

#: serverguide/C/security.xml:873(para) 
msgid "To place all profiles in enforce mode:"
msgstr ""

#: serverguide/C/security.xml:877(command) 
msgid "sudo aa-enforce /etc/apparmor.d/*"
msgstr ""

#: serverguide/C/security.xml:881(para) 
msgid "<application>apparmor_parser</application> is used to load a profile into the kernel. It can also be used to reload a currently loaded profile using the <emphasis>-r</emphasis> option. To load a profile:"
msgstr ""

#: serverguide/C/security.xml:886(command) serverguide/C/security.xml:918(command) 
msgid "cat /etc/apparmor.d/profile.name | sudo apparmor_parser -a"
msgstr ""

#: serverguide/C/security.xml:888(para) 
msgid "To reload a profile:"
msgstr ""

#: serverguide/C/security.xml:892(command) 
msgid "cat /etc/apparmor.d/profile.name | sudo apparmor_parser -r"
msgstr ""

#: serverguide/C/security.xml:896(para) 
msgid "<filename>/etc/init.d/apparmor</filename> can be used to <emphasis>reload</emphasis> all profiles:"
msgstr ""

#: serverguide/C/security.xml:900(command) 
msgid "sudo /etc/init.d/apparmor reload"
msgstr ""

#: serverguide/C/security.xml:904(para) 
msgid "The <filename>/etc/apparmor.d/disable</filename> directory can be used along with the <application>apparmor_parser -R</application> option to <emphasis>disable</emphasis> a profile."
msgstr ""

#: serverguide/C/security.xml:909(command) 
msgid "sudo ln -s /etc/apparmor.d/profile.name /etc/apparmor.d/disable/"
msgstr ""

#: serverguide/C/security.xml:910(command) 
msgid "sudo apparmor_parser -R /etc/apparmor.d/profile.name"
msgstr ""

#: serverguide/C/security.xml:912(para) 
msgid "To <emphasis>re-enable</emphasis> a disabled profile remove the symbolic link to the profile in <filename>/etc/apparmor.d/disable/</filename>. Then load the profile using the <emphasis>-a</emphasis> option."
msgstr ""

#: serverguide/C/security.xml:917(command) 
msgid "sudo rm /etc/apparmor.d/disable/profile.name"
msgstr ""

#: serverguide/C/security.xml:922(para) 
msgid "<application>AppArmor</application> can be disabled, and the kernel module unloaded by entering the following:"
msgstr ""

#: serverguide/C/security.xml:926(command) 
msgid "sudo /etc/init.d/apparmor stop"
msgstr ""

#: serverguide/C/security.xml:927(command) 
msgid "sudo update-rc.d -f apparmor remove"
msgstr ""

#: serverguide/C/security.xml:931(para) 
msgid "To re-enable <application>AppArmor</application> enter:"
msgstr ""

#: serverguide/C/security.xml:935(command) 
msgid "sudo /etc/init.d/apparmor start"
msgstr ""

#: serverguide/C/security.xml:936(command) 
msgid "sudo update-rc.d apparmor defaults"
msgstr ""

#: serverguide/C/security.xml:941(para) 
msgid "Replace <emphasis>profile.name</emphasis> with the name of the profile you want to manipulate. Also, replace <filename>/path/to/bin/</filename> with the actual executable file path. For example for the <application>ping</application> command use <filename>/bin/ping</filename>"
msgstr ""

#: serverguide/C/security.xml:949(title) 
msgid "Profiles"
msgstr ""

#: serverguide/C/security.xml:950(para) 
msgid "<application>AppArmor</application> profiles are simple text files located in <filename>/etc/apparmor.d/</filename>. The files are named after the full path to the executable they profile replacing the \"/\" with \".\". For example <filename>/etc/apparmor.d/bin.ping</filename> is the AppArmor profile for the <filename>/bin/ping</filename> command."
msgstr ""

#: serverguide/C/security.xml:956(para) 
msgid "There are two main type of rules used in profiles:"
msgstr ""

#: serverguide/C/security.xml:961(para) 
msgid "<emphasis>Path entries:</emphasis> which detail which files an application can access in the file system."
msgstr ""

#: serverguide/C/security.xml:966(para) 
msgid "<emphasis>Capability entries:</emphasis> determine what privileges a confined process is allowed to use."
msgstr ""

#: serverguide/C/security.xml:971(para) 
msgid "As an example take a look at <filename>/etc/apparmor.d/bin.ping</filename>:"
msgstr ""

#: serverguide/C/security.xml:974(programlisting) 
#, no-wrap
msgid "\n#include &lt;tunables/global&gt;\n/bin/ping flags=(complain) {\n  #include &lt;abstractions/base&gt;\n  #include &lt;abstractions/consoles&gt;\n  #include &lt;abstractions/nameservice&gt;\n\n  capability net_raw,\n  capability setuid,\n  network inet raw,\n  \n  /bin/ping mixr,\n  /etc/modules.conf r,\n}\n"
msgstr ""

#: serverguide/C/security.xml:991(para) 
msgid "<emphasis>#include &lt;tunables/global&gt;:</emphasis> include statements from other files. This allows statements pertaining to multiple applications to be placed in a common file."
msgstr ""

#: serverguide/C/security.xml:997(para) 
msgid "<emphasis>/bin/ping flags=(complain):</emphasis> path to the profiled program, also setting the mode to <emphasis>complain</emphasis>."
msgstr ""

#: serverguide/C/security.xml:1003(para) 
msgid "<emphasis>capability net_raw,:</emphasis> allows the application access to the CAP_NET_RAW Posix.1e capability."
msgstr ""

#: serverguide/C/security.xml:1008(para) 
msgid "<emphasis>/bin/ping mixr,:</emphasis> allows the application read and execute access to the file."
msgstr ""

#: serverguide/C/security.xml:1014(para) 
msgid "After editing a profile file the profile must be reloaded. See <xref linkend=\"apparmor-usage\"/> for details."
msgstr ""

#: serverguide/C/security.xml:1019(title) 
msgid "Creating a Profile"
msgstr ""

#: serverguide/C/security.xml:1022(para) 
msgid "<emphasis>Design a test plan:</emphasis> Try to think about how the application should be exercised. The test plan should be divided into small test cases. Each test case should have a small description and list the steps to follow."
msgstr ""

#: serverguide/C/security.xml:1026(para) 
msgid "Some standard test cases are:"
msgstr ""

#: serverguide/C/security.xml:1031(para) 
msgid "Starting the program."
msgstr ""

#: serverguide/C/security.xml:1036(para) 
msgid "Stopping the program."
msgstr ""

#: serverguide/C/security.xml:1041(para) 
msgid "Reloading the program."
msgstr ""

#: serverguide/C/security.xml:1046(para) 
msgid "Testing all the commands supported by the init script."
msgstr ""

#: serverguide/C/security.xml:1053(para) 
msgid "<emphasis>Generate the new profile:</emphasis> Use <application>aa-genprof</application> to generate a new profile. From a terminal:"
msgstr ""

#: serverguide/C/security.xml:1058(command) 
msgid "sudo aa-genprof executable"
msgstr ""

#: serverguide/C/security.xml:1060(para) 
msgid "For example:"
msgstr ""

#: serverguide/C/security.xml:1064(command) 
msgid "sudo aa-genprof slapd"
msgstr ""

#: serverguide/C/security.xml:1068(para) 
msgid "To get your new profile included in the <application>apparmor-profiles</application> package, file a bug in <emphasis>Launchpad</emphasis> against the <ulink url=\"https://bugs.launchpad.net/ubuntu/+source/apparmor/+filebug\">AppArmor</ulink> package:"
msgstr ""

#: serverguide/C/security.xml:1075(para) 
msgid "Include your test plan and test cases."
msgstr ""

#: serverguide/C/security.xml:1080(para) 
msgid "Attach your new profile to the bug."
msgstr ""

#: serverguide/C/security.xml:1089(title) 
msgid "Updating Profiles"
msgstr ""

#: serverguide/C/security.xml:1090(para) 
msgid "When the program is misbehaving, audit messages are sent to the log files. The program <application>aa-logprof</application> can be used to scan log files for <application>AppArmor</application> audit messages, review them and update the profiles. From a terminal:"
msgstr ""

#: serverguide/C/security.xml:1095(command) 
msgid "sudo aa-logprof"
msgstr ""

#: serverguide/C/security.xml:1103(para) 
msgid "See the <ulink url=\"http://www.novell.com/documentation/apparmor/apparmor201_sp10_admin/index.html?page=/documentation/apparmor/apparmor201_sp10_admin/data/book_apparmor_admin.html\">AppArmor Administration Guide</ulink> for advanced configuration options."
msgstr ""

#: serverguide/C/security.xml:1110(para) 
msgid "For details using AppArmor with other Ubuntu releases see the <ulink url=\"https://help.ubuntu.com/community/AppArmor\"> AppArmor Community Wiki</ulink> page."
msgstr ""

#: serverguide/C/security.xml:1118(para) 
msgid "The <ulink url=\"http://en.opensuse.org/AppArmor\">OpenSUSE AppArmor</ulink> page is another introduction to AppArmor."
msgstr ""

#: serverguide/C/security.xml:1125(para) 
msgid "A great place to ask for <application>AppArmor</application> assistance, and get involved with the Ubuntu Server community, is the <emphasis>#ubuntu-server</emphasis> IRC channel on <ulink url=\"http://freenode.net\">freenode</ulink>."
msgstr ""

#: serverguide/C/security.xml:1135(title) 
msgid "Certificates"
msgstr ""

#: serverguide/C/security.xml:1136(para) 
msgid "One of the most common forms of cryptography today is <emphasis>public-key</emphasis> cryptography. Public-key cryptography utilizes a <emphasis>public key</emphasis> and a <emphasis>private key</emphasis>. The system works by <emphasis>encrypting</emphasis> information using the public key. The information can then only be <emphasis>decrypted</emphasis> using the private key."
msgstr ""

#: serverguide/C/security.xml:1142(para) 
msgid "A common use for public-key cryptography is encrypting application traffic using a Secure Socket Layer (SSL) or Transport Layer Security (TLS) connection. For example, configuring Apache to provide <emphasis>HTTPS</emphasis>, the HTTP protocol over SSL. This allows a way to encrypt traffic using a protocol that does not itself provide encryption."
msgstr ""

#: serverguide/C/security.xml:1147(para) 
msgid "A <emphasis>Certificate</emphasis> is a method used to distribute a <emphasis>public key</emphasis> and other information about a server and the organization who is responsible for it. Certificates can be digitally signed by a <emphasis>Certificate Authority</emphasis> or CA. A CA is a trusted third party that has confirmed that the information contained in the certificate is accurate."
msgstr ""

#: serverguide/C/security.xml:1154(title) 
msgid "Types of Certificates"
msgstr ""

#: serverguide/C/security.xml:1155(para) 
msgid "To set up a secure server using public-key cryptography, in most cases, you send your certificate request (including your public key), proof of your company's identity, and payment to a CA. The CA verifies the certificate request and your identity, and then sends back a certificate for your secure server. Alternatively, you can create your own <emphasis>self-signed</emphasis> certificate."
msgstr ""

#: serverguide/C/security.xml:1165(para) 
msgid "Note, that self-signed certificates should not be used in most production environments."
msgstr ""

#: serverguide/C/security.xml:1169(para) 
msgid "Continuing the HTTPS example, a CA-signed certificate provides two important capabilities that a self-signed certificate does not:"
msgstr ""

#: serverguide/C/security.xml:1176(para) 
msgid "Browsers (usually) automatically recognize the certificate and allow a secure connection to be made without prompting the user."
msgstr ""

#: serverguide/C/security.xml:1183(para) 
msgid "When a CA issues a signed certificate, it is guaranteeing the identity of the organization that is providing the web pages to the browser."
msgstr ""

#: serverguide/C/security.xml:1191(para) 
msgid "Most Web browsers, and computers, that support SSL have a list of CAs whose certificates they automatically accept. If a browser encounters a certificate whose authorizing CA is not in the list, the browser asks the user to either accept or decline the connection. Also, other applications may generate an error message when using a self-singed certificate."
msgstr ""

#: serverguide/C/security.xml:1199(para) 
msgid "The process of getting a certificate from a CA is fairly easy. A quick overview is as follows:"
msgstr ""

#: serverguide/C/security.xml:1206(para) 
msgid "Create a private and public encryption key pair."
msgstr ""

#: serverguide/C/security.xml:1209(para) 
msgid "Create a certificate request based on the public key. The certificate request contains information about your server and the company hosting it."
msgstr ""

#: serverguide/C/security.xml:1214(para) 
msgid "Send the certificate request, along with documents proving your identity, to a CA. We cannot tell you which certificate authority to choose. Your decision may be based on your past experiences, or on the experiences of your friends or colleagues, or purely on monetary factors."
msgstr ""

#: serverguide/C/security.xml:1220(para) 
msgid "Once you have decided upon a CA, you need to follow the instructions they provide on how to obtain a certificate from them."
msgstr ""

#: serverguide/C/security.xml:1225(para) 
msgid "When the CA is satisfied that you are indeed who you claim to be, they send you a digital certificate."
msgstr ""

#: serverguide/C/security.xml:1229(para) 
msgid "Install this certificate on your secure server, and configure the appropriate applications to use the certificate."
msgstr ""

#: serverguide/C/security.xml:1238(title) 
msgid "Generating a Certificate Signing Request (CSR)"
msgstr ""

#: serverguide/C/security.xml:1239(para) 
msgid "Whether you are getting a certificate from a CA or generating your own self-signed certificate, the first step is to generate a key."
msgstr ""

#: serverguide/C/security.xml:1242(para) 
msgid "To generate the <emphasis>keys</emphasis> for the Certificate Signing Request (CSR) run the following command from a terminal prompt:"
msgstr ""

#: serverguide/C/security.xml:1247(command) 
msgid "openssl genrsa -des3 -out server.key 1024"
msgstr ""

#: serverguide/C/security.xml:1250(programlisting) 
#, no-wrap
msgid "\nGenerating RSA private key, 1024 bit long modulus\n.....................++++++\n.................++++++\nunable to write 'random state'\ne is 65537 (0x10001)\nEnter pass phrase for server.key:\n"
msgstr ""

#: serverguide/C/security.xml:1259(para) 
msgid "You can now enter your passphrase. For best security, it should at least contain eight characters. The minimum length when specifying -des3 is four characters. It should include numbers and/or punctuation and not be a word in a dictionary. Also remember that your passphrase is case-sensitive."
msgstr ""

#: serverguide/C/security.xml:1267(para) 
msgid "Re-type the passphrase to verify. Once you have re-typed it correctly, the server key is generated and stored in the <filename>server.key</filename> file."
msgstr ""

#: serverguide/C/security.xml:1274(para) 
msgid "You can also run your secure service without a passphrase. This is convenient because you will not need to enter the passphrase every time you start your secure service. But it is highly insecure and a compromise of the key means a compromise of the server as well."
msgstr ""

#: serverguide/C/security.xml:1283(para) 
msgid "In any case, you can choose to run your secure service without a passphrase by leaving out the -des3 switch in the generation phase or by issuing the following command at a terminal prompt:"
msgstr ""

#: serverguide/C/security.xml:1290(command) 
msgid "openssl rsa -in server.key -out server.key.insecure"
msgstr ""

#: serverguide/C/security.xml:1292(para) 
msgid "Once you run the above command, the insecure key will be stored in the <filename>server.key.insecure</filename> file. You can use this file to generate the CSR without passphrase."
msgstr ""

#: serverguide/C/security.xml:1298(para) 
msgid "To create the CSR, run the following command at a terminal prompt:"
msgstr ""

#: serverguide/C/security.xml:1302(command) 
msgid "openssl req -new -key server.key -out server.csr"
msgstr ""

#: serverguide/C/security.xml:1305(para) 
msgid "It will prompt you enter the passphrase. If you enter the correct passphrase, it will prompt you to enter Company Name, Once you enter all these details, your CSR will be created and it will be stored in the <filename>server.csr</filename> file. Site Name, Email Id, etc."
msgstr ""

#: serverguide/C/security.xml:1313(para) 
msgid "You can now submit this CSR file to a CA for processing. The CA will use this CSR file and issue the certificate. On the other hand, you can create self-signed certificate using this CSR."
msgstr ""

#: serverguide/C/security.xml:1321(title) 
msgid "Creating a Self-Signed Certificate"
msgstr ""

#: serverguide/C/security.xml:1322(para) 
msgid "To create the self-signed certificate, run the following command at a terminal prompt:"
msgstr ""

#: serverguide/C/security.xml:1327(command) 
msgid "openssl x509 -req -days 365 -in server.csr -signkey server.key -out server.crt"
msgstr ""

#: serverguide/C/security.xml:1330(para) 
msgid "The above command will prompt you to enter the passphrase. Once you enter the correct passphrase, your certificate will be created and it will be stored in the <filename>server.crt</filename> file."
msgstr ""

#: serverguide/C/security.xml:1335(para) 
msgid "If your secure server is to be used in a production environment, you probably need a CA-signed certificate. It is not recommended to use self-signed certificate."
msgstr ""

#: serverguide/C/security.xml:1343(title) 
msgid "Installing the Certificate"
msgstr ""

#: serverguide/C/security.xml:1345(para) 
msgid "You can install the key file <filename>server.key</filename> and certificate file <filename>server.crt</filename>, or the certificate file issued by your CA, by running following commands at a terminal prompt:"
msgstr ""

#: serverguide/C/security.xml:1351(command) 
msgid "sudo cp server.crt /etc/ssl/certs"
msgstr ""

#: serverguide/C/security.xml:1352(command) 
msgid "sudo cp server.key /etc/ssl/private"
msgstr ""

#: serverguide/C/security.xml:1354(para) 
msgid "Now simply configure any applications, with the ability to use public-key cryptography, to use the <emphasis>certificate</emphasis> and <emphasis>key</emphasis> files. For example, <application>Apache</application> can provide HTTPS, <application>Dovecot</application> can provide IMAPS and POP3S, etc."
msgstr ""

#: serverguide/C/security.xml:1364(para) 
msgid "For more detailed instructions on using cryptography see the <ulink url=\"http://tldp.org/HOWTO/SSL-Certificates-HOWTO/index.html\">SSL Certificates HOWTO</ulink> by tlpd.org"
msgstr ""

#: serverguide/C/security.xml:1370(para) 
msgid "<ulink url=\"http://www.pki-page.org/\">The PKI Page</ulink> contains a list of Certificate Authorities."
msgstr ""

#: serverguide/C/security.xml:1375(para) 
msgid "The Wikipedia <ulink url=\"http://en.wikipedia.org/wiki/Https\">HTTPS</ulink> page has more information regarding HTTPS."
msgstr ""

#: serverguide/C/security.xml:1380(para) 
msgid "For more information on <emphasis>OpenSSL</emphasis> see the <ulink url=\"http://www.openssl.org/\">OpenSSL Home Page</ulink>."
msgstr ""

#: serverguide/C/remote-administration.xml:13(title) 
msgid "Remote Administration"
msgstr ""

#: serverguide/C/remote-administration.xml:14(para) 
msgid "There are many ways to remotely administer a Linux server. This chapter will cover one of the most popular <application>SSH</application> as well as <application>eBox</application>, a web based administration framework."
msgstr ""

#: serverguide/C/remote-administration.xml:20(title) 
msgid "OpenSSH Server"
msgstr ""

#: serverguide/C/remote-administration.xml:23(para) 
msgid "This section of the Ubuntu Server Guide introduces a powerful collection of tools for the remote control of networked computers and transfer of data between networked computers, called <emphasis>OpenSSH</emphasis>. You will also learn about some of the configuration settings possible with the OpenSSH server application and how to change them on your Ubuntu system."
msgstr ""

#: serverguide/C/remote-administration.xml:30(para) 
msgid "OpenSSH is a freely available version of the Secure Shell (SSH) protocol family of tools for remotely controlling a computer or transferring files between computers. Traditional tools used to accomplish these functions, such as <application>telnet</application> or <application>rcp</application>, are insecure and transmit the user's password in cleartext when used. OpenSSH provides a server daemon and client tools to facilitate secure, encrypted remote control and file transfer operations, effectively replacing the legacy tools."
msgstr ""

#: serverguide/C/remote-administration.xml:39(para) 
msgid "The OpenSSH server component, <application>sshd</application>, listens continuously for client connections from any of the client tools. When a connection request occurs, <application>sshd</application> sets up the correct connection depending on the type of client tool connecting. For example, if the remote computer is connecting with the <application>ssh</application> client application, the OpenSSH server sets up a remote control session after authentication. If a remote user connects to an OpenSSH server with <application>scp</application>, the OpenSSH server daemon initiates a secure copy of files between the server and client after authentication. OpenSSH can use many authentication methods, including plain password, public key, and <application>Kerberos</application> tickets."
msgstr ""

#: serverguide/C/remote-administration.xml:53(para) 
msgid "Installation of the OpenSSH client and server applications is simple. To install the OpenSSH client applications on your Ubuntu system, use this command at a terminal prompt:"
msgstr ""

#: serverguide/C/remote-administration.xml:59(command) 
msgid "sudo apt-get install openssh-client"
msgstr ""

#: serverguide/C/remote-administration.xml:61(para) 
msgid "To install the OpenSSH server application, and related support files, use this command at a terminal prompt:"
msgstr ""

#: serverguide/C/remote-administration.xml:66(command) serverguide/C/jeos.xml:351(command) 
msgid "sudo apt-get install openssh-server"
msgstr ""

#: serverguide/C/remote-administration.xml:68(para) 
msgid "The <application>openssh-server</application> package can also be selected to install during the Server Edition installation process."
msgstr ""

#: serverguide/C/remote-administration.xml:75(para) 
msgid "You may configure the default behavior of the OpenSSH server application, <application>sshd</application>, by editing the file <filename>/etc/ssh/sshd_config</filename>. For information about the configuration directives used in this file, you may view the appropriate manual page with the following command, issued at a terminal prompt:"
msgstr ""

#: serverguide/C/remote-administration.xml:83(command) 
msgid "man sshd_config"
msgstr ""

#: serverguide/C/remote-administration.xml:85(para) 
msgid "There are many directives in the <application>sshd</application> configuration file controlling such things as communications settings and authentication modes. The following are examples of configuration directives that can be changed by editing the <filename>/etc/ssh/ssh_config</filename> file."
msgstr ""

#: serverguide/C/remote-administration.xml:92(para) 
msgid "Prior to editing the configuration file, you should make a copy of the original file and protect it from writing so you will have the original settings as a reference and to reuse as necessary."
msgstr ""

#: serverguide/C/remote-administration.xml:96(para) 
msgid "Copy the <filename>/etc/ssh/sshd_config</filename> file and protect it from writing with the following commands, issued at a terminal prompt:"
msgstr ""

#: serverguide/C/remote-administration.xml:101(command) 
msgid "sudo cp /etc/ssh/sshd_config /etc/ssh/sshd_config.original"
msgstr ""

#: serverguide/C/remote-administration.xml:102(command) 
msgid "sudo chmod a-w /etc/ssh/sshd_config.original"
msgstr ""

#: serverguide/C/remote-administration.xml:104(para) 
msgid "The following are examples of configuration directives you may change:"
msgstr ""

#: serverguide/C/remote-administration.xml:109(para) 
msgid "To set your OpenSSH to listen on TCP port 2222 instead of the default TCP port 22, change the Port directive as such:"
msgstr ""

#: serverguide/C/remote-administration.xml:113(para) 
msgid "Port 2222"
msgstr ""

#: serverguide/C/remote-administration.xml:118(para) 
msgid "To have <application>sshd</application> allow public key-based login credentials, simply add or modify the line:"
msgstr ""

#: serverguide/C/remote-administration.xml:122(para) 
msgid "PubkeyAuthentication yes"
msgstr ""

#: serverguide/C/remote-administration.xml:125(para) 
msgid "In the <filename>/etc/ssh/sshd_config</filename> file, or if already present, ensure the line is not commented out."
msgstr ""

#: serverguide/C/remote-administration.xml:131(para) 
msgid "To make your OpenSSH server display the contents of the <filename>/etc/issue.net</filename> file as a pre-login banner, simply add or modify the line:"
msgstr ""

#: serverguide/C/remote-administration.xml:136(para) 
msgid "Banner /etc/issue.net"
msgstr ""

#: serverguide/C/remote-administration.xml:139(para) 
msgid "In the <filename>/etc/ssh/sshd_config</filename> file."
msgstr ""

#: serverguide/C/remote-administration.xml:144(para) 
msgid "After making changes to the <filename>/etc/ssh/sshd_config</filename> file, save the file, and restart the <application>sshd</application> server application to effect the changes using the following command at a terminal prompt:"
msgstr ""

#: serverguide/C/remote-administration.xml:153(para) 
msgid "Many other configuration directives for <application>sshd</application> are available for changing the server application's behavior to fit your needs. Be advised, however, if your only method of access to a server is <application>ssh</application>, and you make a mistake in configuring <application>sshd</application> via the <filename>/etc/ssh/sshd_config</filename> file, you may find you are locked out of the server upon restarting it, or that the <application>sshd</application> server refuses to start due to an incorrect configuration directive, so be extra careful when editing this file on a remote server."
msgstr ""

#: serverguide/C/remote-administration.xml:168(title) 
msgid "SSH Keys"
msgstr ""

#: serverguide/C/remote-administration.xml:169(para) 
msgid "SSH <emphasis>keys</emphasis> allow authentication between two hosts without the need of a password. SSH key authentication uses two keys a <emphasis>private</emphasis> key and a <emphasis>public</emphasis> key."
msgstr ""

#: serverguide/C/remote-administration.xml:173(para) 
msgid "To generate the keys, from a terminal prompt enter:"
msgstr ""

#: serverguide/C/remote-administration.xml:177(command) 
msgid "ssh-keygen -t dsa"
msgstr ""

#: serverguide/C/remote-administration.xml:179(para) 
msgid "This will generate the keys using a <emphasis>DSA</emphasis> authentication identity of the user. During the process you will be prompted for a password. Simply hit <emphasis>Enter</emphasis> when prompted to create the key."
msgstr ""

#: serverguide/C/remote-administration.xml:183(para) 
msgid "By default the <emphasis>public</emphasis> key is saved in the file <filename>~/.ssh/id_dsa.pub</filename>, while <filename>~/.ssh/id_dsa</filename> is the <emphasis>private</emphasis> key. Now copy the <filename>id_dsa.pub</filename> file to the remote host and appended it to <filename>~/.ssh/authorized_keys2</filename>:"
msgstr ""

#: serverguide/C/remote-administration.xml:189(command) 
msgid "cat id_dsa.pub &gt;&gt; .ssh/authorized_keys2"
msgstr ""

#: serverguide/C/remote-administration.xml:191(para) 
msgid "Finally, double check the permissions on the <filename>authorized_keys2</filename> file, only the authenticated user should have read and write permissions. If the permissions are not correct change them by:"
msgstr ""

#: serverguide/C/remote-administration.xml:196(command) 
msgid "chmod 644 .ssh/authorized_keys2"
msgstr ""

#: serverguide/C/remote-administration.xml:198(para) 
msgid "You should now be able to SSH to the host without being prompted for a password."
msgstr ""

#: serverguide/C/remote-administration.xml:205(ulink) 
msgid "OpenSSH Website"
msgstr ""

#: serverguide/C/remote-administration.xml:208(ulink) 
msgid "Advanced OpenSSH Wiki Page"
msgstr ""

#: serverguide/C/remote-administration.xml:213(title) 
msgid "eBox"
msgstr ""

#: serverguide/C/remote-administration.xml:214(para) 
msgid "<application>eBox</application> is a web framework used to manager server application configuration. The modular design of eBox allows you to pick and choose which services you want to configure using eBox."
msgstr ""

#: serverguide/C/remote-administration.xml:221(para) 
msgid "The different <application>eBox</application> modules are split into different packages, allowing you to only install those necessary. One way to view the available packages is to enter the following from a terminal:"
msgstr ""

#: serverguide/C/remote-administration.xml:227(command) 
msgid "apt-cache rdepends ebox | uniq"
msgstr ""

#: serverguide/C/remote-administration.xml:229(para) 
msgid "To install the <application>ebox</application> package, which contains the default modules, enter the following:"
msgstr ""

#: serverguide/C/remote-administration.xml:234(command) 
msgid "sudo apt-get install ebox"
msgstr ""

#: serverguide/C/remote-administration.xml:236(para) 
msgid "If you want to install all the available modules, the <application>ebox-all</application> meta package will install all the modules."
msgstr ""

#: serverguide/C/remote-administration.xml:240(para) 
msgid "During the installation you will be asked to supply a password for the ebox user. After installing eBox the web interface can be accessed from: <emphasis>https://yourserver/ebox</emphasis>."
msgstr ""

#: serverguide/C/remote-administration.xml:248(para) 
msgid "An important thing to remember when using <application>eBox</application> is that when configuring most modules there is a <emphasis>Change</emphasis> button that implements the new configuration. After clicking the Change button most, but not all, modules will then need to be <emphasis>Saved</emphasis>. To save the new configuration click on the <quote>Save changes</quote> link in the top right hand corner."
msgstr ""

#: serverguide/C/remote-administration.xml:256(para) 
msgid "Once you make a change that requires a Save, the link will change from green to red."
msgstr ""

#: serverguide/C/remote-administration.xml:262(title) 
msgid "eBox Modules"
msgstr ""

#: serverguide/C/remote-administration.xml:263(para) 
msgid "By default all eBox <emphasis>Modules</emphasis> are not enabled, and when a new module is installed it will not be automatically enabled."
msgstr ""

#: serverguide/C/remote-administration.xml:267(para) 
msgid "To enable a disabled module click on the <emphasis>Module status</emphasis> link in the left hand menu. Then <emphasis role=\"italic\">check</emphasis> which modules you would like to enable and click the <quote>Save</quote> link."
msgstr ""

#: serverguide/C/remote-administration.xml:273(title) 
msgid "Default Modules"
msgstr ""

#: serverguide/C/remote-administration.xml:274(para) 
msgid "This section provides a quick summary of the default <application>eBox</application> modules."
msgstr ""

#: serverguide/C/remote-administration.xml:280(para) 
msgid "<emphasis>System:</emphasis> contains options allowing configuration of general eBox items."
msgstr ""

#: serverguide/C/remote-administration.xml:286(para) 
msgid "<emphasis>General:</emphasis> allows you to set the language, port number, and contains a change password form."
msgstr ""

#: serverguide/C/remote-administration.xml:292(para) 
msgid "<emphasis>Disk Usage:</emphasis> displays a graph detailing information about disk usage."
msgstr ""

#: serverguide/C/remote-administration.xml:298(para) 
msgid "<emphasis>Backup:</emphasis> is used to backup <application>eBox</application> configuration information, and the <emphasis>Full Backup</emphasis> option allows you to save all eBox information not included in the <emphasis>Configuration</emphasis> option such as log files."
msgstr ""

#: serverguide/C/remote-administration.xml:306(para) 
msgid "<emphasis>Halt/Reboot:</emphasis> will shutdown the system or reboot it."
msgstr ""

#: serverguide/C/remote-administration.xml:311(para) 
msgid "<emphasis>Bug Report:</emphasis> creates a file containing details helpful when reporting bugs to the eBox developers."
msgstr ""

#: serverguide/C/remote-administration.xml:319(para) 
msgid "<emphasis>Logs:</emphasis> allows <application>eBox</application> logs to be queried depending on the purge time configured."
msgstr ""

#: serverguide/C/remote-administration.xml:325(para) 
msgid "<emphasis>Events:</emphasis> this module has the ability to send alerts through rss, jabber, and log file."
msgstr ""

#: serverguide/C/remote-administration.xml:332(emphasis) 
msgid "Available Events:"
msgstr ""

#: serverguide/C/remote-administration.xml:336(para) 
msgid "<emphasis>Free Storage Space:</emphasis> will send alert if free disk space drops below a configured percentage, 10% by default."
msgstr ""

#: serverguide/C/remote-administration.xml:342(para) 
msgid "<emphasis>Log Observer:</emphasis> unfortunately this event does not work with the <application>eBox</application> version shipped with Ubuntu 7.10."
msgstr ""

#: serverguide/C/remote-administration.xml:348(para) 
msgid "<emphasis>RAID:</emphasis> will monitor the RAID system and send alerts if any issues arise."
msgstr ""

#: serverguide/C/remote-administration.xml:354(para) 
msgid "<emphasis>Service:</emphasis> sends alerts if a service restarts multiple times in a short time period."
msgstr ""

#: serverguide/C/remote-administration.xml:360(para) 
msgid "<emphasis>State:</emphasis> alerts on the state of <application>eBox</application>, either up or down."
msgstr ""

#: serverguide/C/remote-administration.xml:369(emphasis) 
msgid "Dispatchers:"
msgstr ""

#: serverguide/C/remote-administration.xml:373(para) 
msgid "<emphasis>Log:</emphasis> this dispatcher will send event messages to the <application>eBox</application> log file <filename>/var/log/ebox/ebox.log</filename>."
msgstr ""

#: serverguide/C/remote-administration.xml:380(para) 
msgid "<emphasis>Jabber:</emphasis> before enabling this dispatcher you must first configure it by clicking on the <quote>Configure</quote> icon."
msgstr ""

#: serverguide/C/remote-administration.xml:386(para) 
msgid "<emphasis>RSS:</emphasis> once this dispatcher is configured you can subscribe to the link in order to view event alerts."
msgstr ""

#: serverguide/C/remote-administration.xml:399(title) 
msgid "Additional Modules"
msgstr ""

#: serverguide/C/remote-administration.xml:400(para) 
msgid "Here is a quick description of other available <application>eBox</application> modules:"
msgstr ""

#: serverguide/C/remote-administration.xml:405(para) 
msgid "<emphasis>Network:</emphasis> allows configuration of the server's network options through eBox."
msgstr ""

#: serverguide/C/remote-administration.xml:411(para) 
msgid "<emphasis>Firewall:</emphasis> configures firewall options for the eBox host."
msgstr ""

#: serverguide/C/remote-administration.xml:416(para) 
msgid "<emphasis>UsersandGroups:</emphasis> this module will manage users and groups contained in an <application>OpenLDAP</application> LDAP directory."
msgstr ""

#: serverguide/C/remote-administration.xml:422(para) 
msgid "<emphasis>DHCP:</emphasis> provides an interface for configuring a DHCP server."
msgstr ""

#: serverguide/C/remote-administration.xml:427(para) 
msgid "<emphasis>DNS:</emphasis> provides <application>BIND9</application> DNS server configuration options."
msgstr ""

#: serverguide/C/remote-administration.xml:433(para) 
msgid "<emphasis>Objects:</emphasis> allow configuration of eBox <emphasis>Network Objects</emphasis>, which allow you to assign a name to an IP address or group of IPs."
msgstr ""

#: serverguide/C/remote-administration.xml:440(para) 
msgid "<emphasis>Services:</emphasis> displays configuration information for services that are available to the network."
msgstr ""

#: serverguide/C/remote-administration.xml:446(para) 
msgid "<emphasis>Squid:</emphasis> configuration options for the <application>Squid</application> proxy server."
msgstr ""

#: serverguide/C/remote-administration.xml:452(para) 
msgid "<emphasis>CA:</emphasis> configures a Certificate Authority for the server."
msgstr ""

#: serverguide/C/remote-administration.xml:457(para) 
msgid "<emphasis>NTP:</emphasis> set Network Time Protocol options."
msgstr ""

#: serverguide/C/remote-administration.xml:462(para) 
msgid "<emphasis>Printers:</emphasis> allows the configuration of printers."
msgstr ""

#: serverguide/C/remote-administration.xml:467(para) 
msgid "<emphasis>Samba:</emphasis> configuration options for Samba."
msgstr ""

#: serverguide/C/remote-administration.xml:472(para) 
msgid "<emphasis>OpenVPN:</emphasis> setup options for OpenVPN Virtual Private Network application."
msgstr ""

#: serverguide/C/remote-administration.xml:483(para) 
msgid "For more information see the <ulink url=\"http://ebox-platform.com/\">eBox Home Page</ulink>."
msgstr ""

#: serverguide/C/package-management.xml:13(title) 
msgid "Package Management"
msgstr ""

#: serverguide/C/package-management.xml:14(para) 
msgid "Ubuntu features a comprehensive package management system for the installation, upgrade, configuration, and removal of software. In addition to providing access to an organized base of over 24,000 software packages for your Ubuntu computer, the package management facilities also feature dependency resolution capabilities and software update checking."
msgstr ""

#: serverguide/C/package-management.xml:16(para) 
msgid "Several tools are available for interacting with Ubuntu's package management system, from simple command-line utilities which may be easily automated by system administrators, to a simple graphical interface which is easy to use by those new to Ubuntu."
msgstr ""

#: serverguide/C/package-management.xml:21(para) 
msgid "Ubuntu's package management system is derived from the same system used by the Debian GNU/Linux distribution. The package files contain all of the necessary files, meta-data, and instructions to implement a particular functionality or software application on your Ubuntu computer."
msgstr ""

#: serverguide/C/package-management.xml:24(para) 
msgid "Debian package files typically have the extension '.deb', and typically exist in <emphasis role=\"italics\">repositories</emphasis> which are collections of packages found on various media, such as CD-ROM discs, or online. Packages are normally of the pre-compiled binary format; thus installation is quick and requires no compiling of software."
msgstr ""

#: serverguide/C/package-management.xml:27(para) 
msgid "Many complex packages use the concept of <emphasis role=\"italics\">dependencies</emphasis>. Dependencies are additional packages required by the principal package in order to function properly. For example, the speech synthesis package <application>Festival</application> depends upon the package <application>libasound2</application>, which is a package supplying the <application>ALSA</application> sound library needed for audio playback. In order for <application>Festival</application> to function, it and all of it's dependencies must be installed. The software management tools in Ubuntu will do this automatically."
msgstr ""

#: serverguide/C/package-management.xml:32(title) 
msgid "Apt-Get"
msgstr ""

#: serverguide/C/package-management.xml:33(para) 
msgid "The <application>apt-get</application> command is a powerful command-line tool used to work with Ubuntu's <emphasis>Advanced Packaging Tool</emphasis> (APT) performing such functions as installation of new software packages, upgrade of existing software packages, updating of the package list index, and even upgrading the entire Ubuntu system."
msgstr ""

#: serverguide/C/package-management.xml:36(para) 
msgid "Being a simple command-line tool, <application>apt-get</application> has numerous advantages over other package management tools available in Ubuntu for server administrators. Some of these advantages include ease of use over simple terminal connections (SSH) and the ability to be used in system administration scripts, which can in turn be automated by the <application>cron</application> scheduling utility."
msgstr ""

#: serverguide/C/package-management.xml:43(para) 
msgid "<emphasis role=\"bold\">Install a Package</emphasis>: Installation of packages using the <application>apt-get</application> tool is quite simple. For example, to install the network scanner <emphasis role=\"italics\">nmap</emphasis>, type the following: <screen>\n<command>sudo apt-get install nmap</command>\n</screen>"
msgstr ""

#: serverguide/C/package-management.xml:51(para) 
msgid "<emphasis role=\"bold\">Remove a Package</emphasis>: Removal of a package or packages is also a straightforward and simple process. To remove the nmap package installed in the previous example, type the following: <screen>\n<command>sudo apt-get remove nmap</command>\n</screen>"
msgstr ""

#: serverguide/C/package-management.xml:58(para) 
msgid "<emphasis role=\"bold\">Multiple Packages</emphasis>: You may specify multiple packages to be installed or removed, separated by spaces."
msgstr ""

#: serverguide/C/package-management.xml:61(para) 
msgid "Also, adding the <emphasis>--purge</emphasis> options to <command>apt-get remove</command> will remove the package configuration files as well. This may or may not be the desired effect so use with caution."
msgstr ""

#: serverguide/C/package-management.xml:67(para) 
msgid "<emphasis role=\"bold\">Update the Package Index</emphasis>: The APT package index is essentially a database of available packages from the repositories defined in the <filename>/etc/apt/sources.list</filename> file. To update the local package index with the latest changes made in repositories, type the following: <screen>\n<command>sudo apt-get update</command>\n</screen>"
msgstr ""

#: serverguide/C/package-management.xml:75(para) 
msgid "<emphasis role=\"bold\">Upgrade Packages</emphasis>: Over time, updated versions of packages currently installed on your computer may become available from the package repositories (for example security updates). To upgrade your system, first update your package index as outlined above, and then type: <screen>\n<command>sudo apt-get upgrade</command>\n</screen>"
msgstr ""

#: serverguide/C/package-management.xml:81(para) 
msgid "For information on upgrading to a new Ubuntu release see <xref linkend=\"installing-upgrading\"/>."
msgstr ""

#: serverguide/C/package-management.xml:39(para) 
msgid "Some examples of popular uses for the <application>apt-get</application> utility: <placeholder-1/>"
msgstr ""

#: serverguide/C/package-management.xml:87(para) 
msgid "Actions of the <application>apt-get</application> command, such as installation and removal of packages, are logged in the /var/log/dpkg.log log file."
msgstr ""

#: serverguide/C/package-management.xml:90(para) 
msgid "For further information about the use of <application>APT</application>, read the comprehensive <ulink url=\"http://www.debian.org/doc/user-manuals#apt-howto\">Debian APT User Manual</ulink> or type: <screen>apt-get help</screen>"
msgstr ""

#: serverguide/C/package-management.xml:94(title) 
msgid "Aptitude"
msgstr ""

#: serverguide/C/package-management.xml:95(para) 
msgid "<application>Aptitude</application> is a menu-driven, text-based front-end to the <emphasis>Advanced Packaging Tool</emphasis> (APT) system. Many of the common package management functions, such as installation, removal, and upgrade, are performed in <application>Aptitude</application> with single-key commands, which are typically lowercase letters."
msgstr ""

#: serverguide/C/package-management.xml:98(para) 
msgid "<application>Aptitude</application> is best suited for use in a non-graphical terminal environment to ensure proper functioning of the command keys. You may start <application>Aptitude</application> as a normal user with the following command at a terminal prompt: <screen>\n<command>sudo aptitude</command>\n</screen>"
msgstr ""

#: serverguide/C/package-management.xml:105(para) 
msgid "When <application>Aptitude</application> starts, you will see a menu bar at the top of the screen and two panes below the menu bar. The top pane contains package categories, such as <emphasis role=\"italics\">New Packages</emphasis> and <emphasis role=\"italics\">Not Installed Packages</emphasis>. The bottom pane contains information related to the packages and package categories."
msgstr ""

#: serverguide/C/package-management.xml:108(para) 
msgid "Using <application>Aptitude</application> for package management is relatively straightforward, and the user interface makes common tasks simple to perform. The following are examples of common package management functions as performed in <application>Aptitude</application>:"
msgstr ""

#: serverguide/C/package-management.xml:112(para) 
msgid "<emphasis role=\"bold\">Install Packages</emphasis>: To install a package, locate the package via the Not Installed Packages package category, for example, by using the keyboard arrow keys and the <keycap>ENTER</keycap> key, and highlight the package you wish to install. After highlighting the package you wish to install, press the <keycap>+</keycap> key, and the package entry should turn <emphasis role=\"italics\">green</emphasis>, indicating it has been marked for installation. Now press <keycap>g</keycap> to be presented with a summary of package actions. Press <keycap>g</keycap> again, and you will be prompted to become root to complete the installation. Press <keycap>ENTER</keycap> which will result in a Password: prompt. Enter your user password to become root. Finally, press <keycap>g</keycap> once more and you'll be prompted to download the package. Press <keycap>ENTER</keycap> on the <emphasis role=\"italics\">Continue</emphasis> prompt, and downloading and installation of the package will commence."
msgstr ""

#: serverguide/C/package-management.xml:116(para) 
msgid "<emphasis role=\"bold\">Remove Packages</emphasis>: To remove a package, locate the package via the Installed Packages package category, for example, by using the keyboard arrow keys and the <keycap>ENTER</keycap> key, and highlight the package you wish to remove. After highlighting the package you wish to install, press the <keycap>-</keycap> key, and the package entry should turn <emphasis role=\"italics\">pink</emphasis>, indicating it has been marked for removal. Now press <keycap>g</keycap> to be presented with a summary of package actions. Press <keycap>g</keycap> again, and you will be prompted to become root to complete the installation. Press <keycap>ENTER</keycap> which will result in a Password: prompt. Enter your user password to become root. Finally, press <keycap>g</keycap> once more, and you'll be prompted to download the package. Press <keycap>ENTER</keycap> on the <emphasis role=\"italics\">Continue</emphasis> prompt, and removal of the package will commence."
msgstr ""

#: serverguide/C/package-management.xml:120(para) 
msgid "<emphasis role=\"bold\">Update Package Index</emphasis>: To update the package index, simply press the <keycap>u</keycap> key and you will be prompted to become root to complete the update. Press <keycap>ENTER</keycap> which will result in a Password: prompt. Enter your user password to become root. Updating of the package index will commence. Press <keycap>ENTER</keycap> on the OK prompt when the download dialog is presented to complete the process."
msgstr ""

#: serverguide/C/package-management.xml:124(para) 
msgid "<emphasis role=\"bold\">Upgrade Packages</emphasis>: To upgrade packages, perform the update of the package index as detailed above, and then press the <keycap>U</keycap> key to mark all packages with updates. Now press <keycap>g</keycap> whereby you'll be presented with a summary of package actions. Press <keycap>g</keycap> again, and you will be prompted to become root to complete the installation. Press <keycap>ENTER</keycap> which will result in a Password: prompt. Enter your user password to become root. Finally, press <keycap>g</keycap> once more, and you'll be prompted to download the packages. Press <keycap>ENTER</keycap> on the <emphasis role=\"italics\">Continue</emphasis> prompt, and upgrade of the packages will commence."
msgstr ""

#: serverguide/C/package-management.xml:131(para) 
msgid "<emphasis role=\"bold\">i</emphasis>: Installed package"
msgstr ""

#: serverguide/C/package-management.xml:136(para) 
msgid "<emphasis role=\"bold\">c</emphasis>: Package not installed, but package configuration remains on system"
msgstr ""

#: serverguide/C/package-management.xml:140(para) 
msgid "<emphasis role=\"bold\">p</emphasis>: Purged from system"
msgstr ""

#: serverguide/C/package-management.xml:144(para) 
msgid "<emphasis role=\"bold\">v</emphasis>: Virtual package"
msgstr ""

#: serverguide/C/package-management.xml:148(para) 
msgid "<emphasis role=\"bold\">B</emphasis>: Broken package"
msgstr ""

#: serverguide/C/package-management.xml:152(para) 
msgid "<emphasis role=\"bold\">u</emphasis>: Unpacked files, but package not yet configured"
msgstr ""

#: serverguide/C/package-management.xml:156(para) 
msgid "<emphasis role=\"bold\">C</emphasis>: Half-configured - Configuration failed and requires fix"
msgstr ""

#: serverguide/C/package-management.xml:160(para) 
msgid "<emphasis role=\"bold\">H</emphasis>: Half-installed - Removal failed and requires fix"
msgstr ""

#: serverguide/C/package-management.xml:128(para) 
msgid "The first column of information displayed in the package list in the top pane, when actually viewing packages lists the current state of the package, and uses the following key to describe the state of the package: <placeholder-1/>"
msgstr ""

#: serverguide/C/package-management.xml:166(para) 
msgid "To exit Aptitude, simply press the <keycap>q</keycap> key and confirm you wish to exit. Many other functions are available from the Aptitude menu by pressing the <keycap>F10</keycap> key."
msgstr ""

#: serverguide/C/package-management.xml:171(para) 
msgid "Configuration of the <emphasis>Advanced Packaging Tool</emphasis> (APT) system repositories is stored in the /etc/apt/sources.list configuration file. An example of this file is referenced here, along with information on adding or removing repository references from the file."
msgstr ""

#: serverguide/C/package-management.xml:174(para) 
msgid "<ulink url=\"../sample/sources.list\">Here</ulink> is a simple example of a typical <filename>/etc/apt/sources.list</filename> file."
msgstr ""

#: serverguide/C/package-management.xml:177(para) 
msgid "You may edit the file to enable repositories or disable them. For example, to disable the requirement of inserting the Ubuntu CD-ROM whenever package operations occur, simply comment out the appropriate line for the CD-ROM, which appears at the top of the file:"
msgstr ""

#: serverguide/C/package-management.xml:181(screen) 
#, no-wrap
msgid "\n# no more prompting for CD-ROM please\n# deb cdrom:[Ubuntu 8.10_Intrepid_Ibex - Release i386 (20070419.1)]/ hardy main restricted\n"
msgstr ""

#: serverguide/C/package-management.xml:189(title) 
msgid "Extra Repositories"
msgstr ""

#: serverguide/C/package-management.xml:190(para) 
msgid "In addition to the officially supported package repositories available for Ubuntu, there exist additional community-maintained repositories which add thousands more potential packages for installation. Two of the most popular are the <emphasis>Universe</emphasis> and <emphasis>Multiverse</emphasis> repositories. These repositories are not officially supported by Ubuntu, but because they are maintained by the community they generally provide packages which are safe for use with your Ubuntu computer."
msgstr ""

#: serverguide/C/package-management.xml:193(para) 
msgid "Packages in the <emphasis>Multiverse</emphasis> repository often have licensing issues that prevent them from being distributed with a free operating system, and they may be illegal in your locality."
msgstr ""

#: serverguide/C/package-management.xml:195(para) 
msgid "Be advised that neither the <emphasis>Universe</emphasis> or <emphasis>Multiverse</emphasis> repositories contain officially supported packages. In particular, there may not be security updates for these packages."
msgstr ""

#: serverguide/C/package-management.xml:199(para) 
msgid "Many other package sources are available, sometimes even offering only one package, as in the case of package sources provided by the developer of a single application. You should always be very careful and cautious when using non-standard package sources, however. Research the source and packages carefully before performing any installation, as some package sources and their packages could render your system unstable or non-functional in some respects."
msgstr ""

#: serverguide/C/package-management.xml:202(para) 
msgid "By default, the <emphasis>Universe</emphasis> and <emphasis>Multiverse</emphasis> repositories are enabled but if you would like to disable them edit <filename>/etc/apt/sources.list</filename> and comment the following lines:"
msgstr ""

#: serverguide/C/package-management.xml:209(programlisting) 
#, no-wrap
msgid "\ndeb http://archive.ubuntu.com/ubuntu hardy universe multiverse\ndeb-src http://archive.ubuntu.com/ubuntu hardy universe multiverse\n\ndeb http://us.archive.ubuntu.com/ubuntu/ hardy universe\ndeb-src http://us.archive.ubuntu.com/ubuntu/ hardy universe\ndeb http://us.archive.ubuntu.com/ubuntu/ hardy-updates universe\ndeb-src http://us.archive.ubuntu.com/ubuntu/ hardy-updates universe\n\ndeb http://us.archive.ubuntu.com/ubuntu/ hardy multiverse\ndeb-src http://us.archive.ubuntu.com/ubuntu/ hardy multiverse\ndeb http://us.archive.ubuntu.com/ubuntu/ hardy-updates multiverse\ndeb-src http://us.archive.ubuntu.com/ubuntu/ hardy-updates multiverse\n\ndeb http://security.ubuntu.com/ubuntu hardy-security universe\ndeb-src http://security.ubuntu.com/ubuntu hardy-security universe\ndeb http://security.ubuntu.com/ubuntu hardy-security multiverse\ndeb-src http://security.ubuntu.com/ubuntu hardy-security multiverse\n"
msgstr ""

#: serverguide/C/package-management.xml:232(ulink) 
msgid "Adding Repositories HOWTO (Ubuntu Wiki)"
msgstr ""

#: serverguide/C/network-config.xml:13(title) 
msgid "Networking"
msgstr ""

#: serverguide/C/network-config.xml:14(para) 
msgid "Networks consist of two or more devices, such as computer systems, printers, and related equipment which are connected by either physical cabling or wireless links for the purpose of sharing and distributing information among the connected devices."
msgstr ""

#: serverguide/C/network-config.xml:20(para) 
msgid "This section provides general and specific information pertaining to networking, including an overview of network concepts and detailed discussion of popular network protocols."
msgstr ""

#: serverguide/C/network-config.xml:26(title) 
msgid "Network Configuration"
msgstr ""

#: serverguide/C/network-config.xml:27(para) 
msgid "Ubuntu ships with a number of graphical utilities to configure your network devices. This document is geared toward server administrators and will focus on managing your network on the command line."
msgstr ""

#: serverguide/C/network-config.xml:33(title) 
msgid "Ethernet"
msgstr ""

#: serverguide/C/network-config.xml:34(para) 
msgid "Most Ethernet configuration is centralized in a single file, <filename>/etc/network/interfaces</filename>. If you have no Ethernet devices, only the loopback interface will appear in this file, and it will look something like this:"
msgstr ""

#: serverguide/C/network-config.xml:40(programlisting) 
#, no-wrap
msgid "\n# This file describes the network interfaces available on your system\n# and how to activate them. For more information, see interfaces(5).\n\n# The loopback network interface\nauto lo\niface lo inet loopback\naddress 127.0.0.1\nnetmask 255.0.0.0\n"
msgstr ""

#: serverguide/C/network-config.xml:50(para) 
msgid "If you have only one Ethernet device, eth0, and it gets its configuration from a DHCP server, and it should come up automatically at boot, only two additional lines are required:"
msgstr ""

#: serverguide/C/network-config.xml:55(programlisting) 
#, no-wrap
msgid "\nauto eth0\niface eth0 inet dhcp\n"
msgstr ""

#: serverguide/C/network-config.xml:59(para) 
msgid "The first line specifies that the eth0 device should come up automatically when you boot. The second line means that interface (<quote>iface</quote>) eth0 should have an IPv4 address space (replace <quote>inet</quote> with <quote>inet6</quote> for an IPv6 device) and that it should get its configuration automatically from DHCP. Assuming your network and DHCP server are properly configured, this machine's network should need no further configuration to operate properly. The DHCP server will provide the default gateway (implemented via the <application>route</application> command), the device's IP address (implemented via the <application>ifconfig</application> command), and DNS servers used on the network (implemented in the <filename>/etc/resolv.conf</filename> file.)"
msgstr ""

#: serverguide/C/network-config.xml:72(para) 
msgid "To configure your Ethernet device with a static IP address and custom configuration, some more information will be required. Suppose you want to assign the IP address 192.168.0.2 to the device eth1, with the typical netmask of 255.255.255.0. Your default gateway's IP address is 192.168.0.1. You would enter something like this into <filename>/etc/network/interfaces</filename>:"
msgstr ""

#: serverguide/C/network-config.xml:79(programlisting) 
#, no-wrap
msgid "\niface eth1 inet static\n\taddress 192.168.0.2\n\tnetmask 255.255.255.0\n\tgateway 192.168.0.1\n"
msgstr ""

#: serverguide/C/network-config.xml:85(para) 
msgid "In this case, you will need to specify your DNS servers manually in <filename>/etc/resolv.conf</filename>, which should look something like this:"
msgstr ""

#: serverguide/C/network-config.xml:89(programlisting) 
#, no-wrap
msgid "\nsearch mydomain.example\nnameserver 192.168.0.1\nnameserver 4.2.2.2\n"
msgstr ""

#: serverguide/C/network-config.xml:94(para) 
msgid "The <emphasis role=\"italics\">search</emphasis> directive will append mydomain.example to hostname queries in an attempt to resolve names to your network. For example, if your network's domain is mydomain.example and you try to ping the host <quote>mybox</quote>, the DNS query will be modified to <quote>mybox.mydomain.example</quote> for resolution. The <emphasis role=\"italics\">nameserver</emphasis> directives specify DNS servers to be used to resolve hostnames to IP addresses. If you use your own nameserver, enter it here. Otherwise, ask your Internet Service Provider for the primary and secondary DNS servers to use, and enter them into <filename>/etc/resolv.conf</filename> as shown above."
msgstr ""

#: serverguide/C/network-config.xml:106(para) 
msgid "Many more configurations are possible, including dialup PPP interfaces, IPv6 networking, VPN devices, etc. Refer to <application>man 5 interfaces</application> for more information and supported options. Remember that <filename>/etc/network/interfaces</filename> is used by the <application>ifup</application>/<application>ifdown</application> scripts as a higher level configuration scheme than may be used in some other Linux distributions, and that the traditional, lower level utilities such as <application>ifconfig</application>, <application>route</application>, and <application>dhclient</application> are still available to you for ad hoc configurations."
msgstr ""

#: serverguide/C/network-config.xml:120(title) 
msgid "Managing DNS Entries"
msgstr ""

#: serverguide/C/network-config.xml:121(para) 
msgid "This section explains how to configure which nameserver to use when resolving IP addresses to hostnames and vice versa. It does not explain how to configure the system as a name server."
msgstr ""

#: serverguide/C/network-config.xml:126(para) 
msgid "To manage DNS entries, you can add, edit, or remove DNS names from the <filename>/etc/resolv.conf</filename> file. A sample file is given below:"
msgstr ""

#: serverguide/C/network-config.xml:130(programlisting) 
#, no-wrap
msgid "\nsearch com\nnameserver 204.11.126.131\nnameserver 64.125.134.133\nnameserver 64.125.134.132\nnameserver 208.185.179.218\n"
msgstr ""

#: serverguide/C/network-config.xml:138(para) 
msgid "The <application>search</application> key specifies the string which will be appended to an incomplete hostname. Here, we have configured it to <application>com</application>. So, when we run: <command>ping ubuntu</command> it would be interpreted as <command>ping ubuntu.com</command>."
msgstr ""

#: serverguide/C/network-config.xml:146(para) 
msgid "The <application>nameserver</application> key specifies the nameserver IP address. It will be used to resolve a given IP address or hostname. This file can have multiple nameserver entries. The nameservers will be used by the network query in the same order."
msgstr ""

#: serverguide/C/network-config.xml:155(para) 
msgid "If the DNS server names are retrieved dynamically from DHCP or PPPoE (retrieved from your ISP), do not add nameserver entries in this file. It will be overwritten."
msgstr ""

#: serverguide/C/network-config.xml:164(title) 
msgid "Managing Hosts"
msgstr ""

#: serverguide/C/network-config.xml:165(para) 
msgid "To manage hosts, you can add, edit, or remove hosts from <filename>/etc/hosts</filename> file. The file contains IP addresses and their corresponding hostnames. When your system tries to resolve a hostname to an IP address or determine the hostname for an IP address, it refers to the <filename>/etc/hosts</filename> file before using the name servers. If the IP address is listed in the <filename>/etc/hosts</filename> file, the name servers are not used. This behavior can be modified by editing <filename>/etc/nsswitch.conf</filename> at your peril."
msgstr ""

#: serverguide/C/network-config.xml:178(para) 
msgid "If your network contains computers whose IP addresses are not listed in DNS, it is recommended that you add them to the <filename>/etc/hosts</filename> file."
msgstr ""

#: serverguide/C/network-config.xml:186(title) 
msgid "TCP/IP"
msgstr ""

#: serverguide/C/network-config.xml:187(para) 
msgid "The Transmission Control Protocol and Internet Protocol (TCP/IP) is a standard set of protocols developed in the late 1970s by the Defense Advanced Research Projects Agency (DARPA) as a means of communication between different types of computers and computer networks. TCP/IP is the driving force of the Internet, and thus it is the most popular set of network protocols on Earth."
msgstr ""

#: serverguide/C/network-config.xml:195(title) 
msgid "TCP/IP Introduction"
msgstr ""

#: serverguide/C/network-config.xml:196(para) 
msgid "The two protocol components of TCP/IP deal with different aspects of computer networking. <emphasis>Internet Protocol</emphasis>, the \"IP\" of TCP/IP is a connectionless protocol which deals only with network packet routing using the <emphasis role=\"italics\">IP Datagram</emphasis> as the basic unit of networking information. The IP Datagram consists of a header followed by a message. The <emphasis> Transmission Control Protocol</emphasis> is the \"TCP\" of TCP/IP and enables network hosts to establish connections which may be used to exchange data streams. TCP also guarantees that the data between connections is delivered and that it arrives at one network host in the same order as sent from another network host."
msgstr ""

#: serverguide/C/network-config.xml:209(title) 
msgid "TCP/IP Configuration"
msgstr ""

#: serverguide/C/network-config.xml:210(para) 
msgid "The TCP/IP protocol configuration consists of several elements which must be set by editing the appropriate configuration files, or deploying solutions such as the Dynamic Host Configuration Protocol (DHCP) server which in turn, can be configured to provide the proper TCP/IP configuration settings to network clients automatically. These configuration values must be set correctly in order to facilitate the proper network operation of your Ubuntu system."
msgstr ""

#: serverguide/C/network-config.xml:222(para) 
msgid "<emphasis role=\"bold\">IP address</emphasis> The IP address is a unique identifying string expressed as four decimal numbers ranging from zero (0) to two-hundred and fifty-five (255), separated by periods, with each of the four numbers representing eight (8) bits of the address for a total length of thirty-two (32) bits for the whole address. This format is called <emphasis>dotted quad notation</emphasis>."
msgstr ""

#: serverguide/C/network-config.xml:232(para) 
msgid "<emphasis role=\"bold\">Netmask</emphasis> The Subnet Mask (or simply, <emphasis>netmask</emphasis>) is a local bit mask, or set of flags which separate the portions of an IP address significant to the network from the bits significant to the <emphasis>subnetwork</emphasis>. For example, in a Class C network, the standard netmask is 255.255.255.0 which masks the first three bytes of the IP address and allows the last byte of the IP address to remain available for specifying hosts on the subnetwork."
msgstr ""

#: serverguide/C/network-config.xml:243(para) 
msgid "<emphasis role=\"bold\">Network Address</emphasis> The Network Address represents the bytes comprising the network portion of an IP address. For example, the host 12.128.1.2 in a Class A network would use 12.0.0.0 as the network address, where twelve (12) represents the first byte of the IP address, (the network part) and zeroes (0) in all of the remaining three bytes to represent the potential host values. A network host using the private IP address 192.168.1.100 would in turn use a Network Address of 192.168.1.0, which specifies the first three bytes of the Class C 192.168.1 network and a zero (0) for all the possible hosts on the network."
msgstr ""

#: serverguide/C/network-config.xml:256(para) 
msgid "<emphasis role=\"bold\">Broadcast Address</emphasis> The Broadcast Address is an IP address which allows network data to be sent simultaneously to all hosts on a given subnetwork rather than specifying a particular host. The standard general broadcast address for IP networks is 255.255.255.255, but this broadcast address cannot be used to send a broadcast message to every host on the Internet because routers block it. A more appropriate broadcast address is set to match a specific subnetwork. For example, on the private Class C IP network, 192.168.1.0, the broadcast address is 192.168.1.255. Broadcast messages are typically produced by network protocols such as the Address Resolution Protocol (ARP) and the Routing Information Protocol (RIP)."
msgstr ""

#: serverguide/C/network-config.xml:269(para) 
msgid "<emphasis role=\"bold\">Gateway Address</emphasis> A Gateway Address is the IP address through which a particular network, or host on a network, may be reached. If one network host wishes to communicate with another network host, and that host is not located on the same network, then a <emphasis>gateway</emphasis> must be used. In many cases, the Gateway Address will be that of a router on the same network, which will in turn pass traffic on to other networks or hosts, such as Internet hosts. The value of the Gateway Address setting must be correct, or your system will not be able to reach any hosts beyond those on the same network."
msgstr ""

#: serverguide/C/network-config.xml:280(para) 
msgid "<emphasis role=\"bold\">Nameserver Address</emphasis> Nameserver Addresses represent the IP addresses of Domain Name Service (DNS) systems, which resolve network hostnames into IP addresses. There are three levels of Nameserver Addresses, which may be specified in order of precedence: The <emphasis>Primary</emphasis> Nameserver, the <emphasis>Secondary</emphasis> Nameserver, and the <emphasis>Tertiary</emphasis> Nameserver. In order for your system to be able to resolve network hostnames into their corresponding IP addresses, you must specify valid Nameserver Addresses which you are authorized to use in your system's TCP/IP configuration. In many cases these addresses can and will be provided by your network service provider, but many free and publicly accessible nameservers are available for use, such as the Level3 (Verizon) servers with IP addresses from 4.2.2.1 to 4.2.2.6."
msgstr ""

#: serverguide/C/network-config.xml:294(para) 
msgid "The IP address, Netmask, Network Address, Broadcast Address, and Gateway Address are typically specified via the appropriate directives in the file <filename>/etc/network/interfaces</filename>. The Nameserver Addresses are typically specified via <emphasis>nameserver</emphasis> directives in the file <filename>/etc/resolv.conf</filename>. For more information, view the system manual page for <filename>interfaces</filename> or <filename>resolv.conf</filename> respectively, with the following commands typed at a terminal prompt:"
msgstr ""

#: serverguide/C/network-config.xml:301(para) 
msgid "Access the system manual page for <filename>interfaces</filename> with the following command:"
msgstr ""

#: serverguide/C/network-config.xml:306(command) 
msgid "man interfaces"
msgstr ""

#: serverguide/C/network-config.xml:309(para) 
msgid "Access the system manual page for <filename>resolv.conf</filename> with the following command:"
msgstr ""

#: serverguide/C/network-config.xml:313(command) 
msgid "man resolv.conf"
msgstr ""

#: serverguide/C/network-config.xml:218(para) 
msgid "The common configuration elements of TCP/IP and their purposes are as follows: <placeholder-1/>"
msgstr ""

#: serverguide/C/network-config.xml:320(title) 
msgid "IP Routing"
msgstr ""

#: serverguide/C/network-config.xml:321(para) 
msgid "IP routing is a means of specifying and discovering paths in a TCP/IP network along which network data may be sent. Routing uses a set of <emphasis>routing tables</emphasis> to direct the forwarding of network data packets from their source to the destination, often via many intermediary network nodes known as <emphasis>routers</emphasis>. There are two primary forms of IP routing: <emphasis>Static Routing</emphasis> and <emphasis>Dynamic Routing.</emphasis>"
msgstr ""

#: serverguide/C/network-config.xml:330(para) 
msgid "Static routing involves manually adding IP routes to the system's routing table, and this is usually done by manipulating the routing table with the <application>route</application> command. Static routing enjoys many advantages over dynamic routing, such as simplicity of implementation on smaller networks, predictability (the routing table is always computed in advance, and thus the route is precisely the same each time it is used), and low overhead on other routers and network links due to the lack of a dynamic routing protocol. However, static routing does present some disadvantages as well. For example, static routing is limited to small networks and does not scale well. Static routing also fails completely to adapt to network outages and failures along the route due to the fixed nature of the route."
msgstr ""

#: serverguide/C/network-config.xml:340(para) 
msgid "Dynamic routing depends on large networks with multiple possible IP routes from a source to a destination and makes use of special routing protocols, such as the Router Information Protocol (RIP), which handle the automatic adjustments in routing tables that make dynamic routing possible. Dynamic routing has several advantages over static routing, such as superior scalability and the ability to adapt to failures and outages along network routes. Additionally, there is less manual configuration of the routing tables, since routers learn from one another about their existence and available routes. This trait also eliminates the possibility of introducing mistakes in the routing tables via human error. Dynamic routing is not perfect, however, and presents disadvantages such as heightened complexity and additional network overhead from router communications, which does not immediately benefit the end users, but still consumes network bandwidth."
msgstr ""

#: serverguide/C/network-config.xml:354(title) 
msgid "TCP and UDP"
msgstr ""

#: serverguide/C/network-config.xml:355(para) 
msgid "TCP is a connection-based protocol, offering error correction and guaranteed delivery of data via what is known as <emphasis>flow control</emphasis>. Flow control determines when the flow of a data stream needs to be stopped, and previously sent data packets should to be re-sent due to problems such as <emphasis>collisions</emphasis>, for example, thus ensuring complete and accurate delivery of the data. TCP is typically used in the exchange of important information such as database transactions."
msgstr ""

#: serverguide/C/network-config.xml:363(para) 
msgid "The User Datagram Protocol (UDP), on the other hand, is a <emphasis>connectionless</emphasis> protocol which seldom deals with the transmission of important data because it lacks flow control or any other method to ensure reliable delivery of the data. UDP is commonly used in such applications as audio and video streaming, where it is considerably faster than TCP due to the lack of error correction and flow control, and where the loss of a few packets is not generally catastrophic."
msgstr ""

#: serverguide/C/network-config.xml:373(title) 
msgid "ICMP"
msgstr ""

#: serverguide/C/network-config.xml:374(para) 
msgid "The Internet Control Messaging Protocol (ICMP) is an extension to the Internet Protocol (IP) as defined in the Request For Comments (RFC) #792 and supports network packets containing control, error, and informational messages. ICMP is used by such network applications as the <application>ping</application> utility, which can determine the availability of a network host or device. Examples of some error messages returned by ICMP which are useful to both network hosts and devices such as routers, include <emphasis>Destination Unreachable</emphasis> and <emphasis>Time Exceeded</emphasis>."
msgstr ""

#: serverguide/C/network-config.xml:384(title) 
msgid "Daemons"
msgstr ""

#: serverguide/C/network-config.xml:385(para) 
msgid "Daemons are special system applications which typically execute continuously in the background and await requests for the functions they provide from other applications. Many daemons are network-centric; that is, a large number of daemons executing in the background on an Ubuntu system may provide network-related functionality. Some examples of such network daemons include the <emphasis>Hyper Text Transport Protocol Daemon</emphasis> (httpd), which provides web server functionality; the <emphasis>Secure SHell Daemon</emphasis> (sshd), which provides secure remote login shell and file transfer capabilities; and the <emphasis>Internet Message Access Protocol Daemon</emphasis> (imapd), which provides E-Mail services."
msgstr ""

#: serverguide/C/network-config.xml:398(title) 
msgid "Dynamic Host Configuration Protocol (DHCP)"
msgstr ""

#: serverguide/C/network-config.xml:399(para) 
msgid "The Dynamic Host Configuration Protocol (DHCP) is a network service that enables host computers to be automatically assigned settings from a server as opposed to manually configuring each network host. Computers configured to be DHCP clients have no control over the settings they receive from the DHCP server, and the configuration is transparent to the computer's user."
msgstr ""

#: serverguide/C/network-config.xml:406(para) 
msgid "The most common settings provided by a DHCP server to DHCP clients include:"
msgstr ""

#: serverguide/C/network-config.xml:411(para) 
msgid "IP-Address and Netmask"
msgstr ""

#: serverguide/C/network-config.xml:414(para) 
msgid "DNS"
msgstr ""

#: serverguide/C/network-config.xml:417(para) 
msgid "WINS"
msgstr ""

#: serverguide/C/network-config.xml:420(para) 
msgid "However, a DHCP server can also supply configuration properties such as:"
msgstr ""

#: serverguide/C/network-config.xml:425(para) 
msgid "Host Name"
msgstr ""

#: serverguide/C/network-config.xml:428(para) 
msgid "Domain Name"
msgstr ""

#: serverguide/C/network-config.xml:431(para) 
msgid "Default Gateway"
msgstr ""

#: serverguide/C/network-config.xml:434(para) 
msgid "Time Server"
msgstr ""

#: serverguide/C/network-config.xml:437(para) 
msgid "Print Server"
msgstr ""

#: serverguide/C/network-config.xml:440(para) 
msgid "The advantage of using DHCP is that changes to the network, for example a change in the address of the DNS server, need only be changed at the DHCP server, and all network hosts will be reconfigured the next time their DHCP clients poll the DHCP server. As an added advantage, it is also easier to integrate new computers into the network, as there is no need to check for the availability of an IP address. Conflicts in IP address allocation are also reduced."
msgstr ""

#: serverguide/C/network-config.xml:448(para) 
msgid "A DHCP server can provide configuration settings using two methods:"
msgstr ""

#: serverguide/C/network-config.xml:453(term) 
msgid "MAC Address"
msgstr ""

#: serverguide/C/network-config.xml:455(para) 
msgid "This method entails using DHCP to identify the unique hardware address of each network card connected to the network and then continually supplying a constant configuration each time the DHCP client makes a request to the DHCP server using that network device."
msgstr ""

#: serverguide/C/network-config.xml:464(term) 
msgid "Address Pool"
msgstr ""

#: serverguide/C/network-config.xml:466(para) 
msgid "This method entails defining a pool (sometimes also called a range or scope) of IP addresses from which DHCP clients are supplied their configuration properties dynamically and on a fist come first serve basis. When a DHCP client is no longer on the network for a specified period, the configuration is expired and released back to the address pool for use by other DHCP Clients."
msgstr ""

#: serverguide/C/network-config.xml:477(para) 
msgid "Ubuntu is shipped with both DHCP server and client. The server is <application>dhcpd</application> (dynamic host configuration protocol daemon). The client provided with Ubuntu is <application>dhclient</application> and should be installed on all computers required to be automatically configured. Both programs are easy to install and configure and will be automatically started at system boot."
msgstr ""

#: serverguide/C/network-config.xml:487(para) 
msgid "At a terminal prompt, enter the following command to install <application>dhcpd</application>:"
msgstr ""

#: serverguide/C/network-config.xml:492(command) 
msgid "sudo apt-get install dhcp3-server"
msgstr ""

#: serverguide/C/network-config.xml:494(para) 
msgid "You will probably need to change the default configuration by editing /etc/dhcp3/dhcpd.conf to suit your needs and particular configuration."
msgstr ""

#: serverguide/C/network-config.xml:498(para) 
msgid "You also need to edit /etc/default/dhcp3-server to specify the interfaces dhcpd should listen to. By default it listens to eth0."
msgstr ""

#: serverguide/C/network-config.xml:502(para) 
msgid "NOTE: dhcpd's messages are being sent to syslog. Look there for diagnostics messages."
msgstr ""

#: serverguide/C/network-config.xml:509(para) 
msgid "The error message the installation ends with might be a little confusing, but the following steps will help you configure the service:"
msgstr ""

#: serverguide/C/network-config.xml:513(para) 
msgid "Most commonly, what you want to do is assign an IP address randomly. This can be done with settings as follows:"
msgstr ""

#: serverguide/C/network-config.xml:517(programlisting) 
#, no-wrap
msgid "\n# Sample /etc/dhcpd.conf\n# (add your comments here) \ndefault-lease-time 600;\nmax-lease-time 7200;\noption subnet-mask 255.255.255.0;\noption broadcast-address 192.168.1.255;\noption routers 192.168.1.254;\noption domain-name-servers 192.168.1.1, 192.168.1.2;\noption domain-name \"mydomain.example\";\n\nsubnet 192.168.1.0 netmask 255.255.255.0 {\nrange 192.168.1.10 192.168.1.100;\nrange 192.168.1.150 192.168.1.200;\n} \n"
msgstr ""

#: serverguide/C/network-config.xml:533(para) 
msgid "This will result in the DHCP server giving a client an IP address from the range 192.168.1.10-192.168.1.100 or 192.168.1.150-192.168.1.200. It will lease an IP address for 600 seconds if the client doesn't ask for a specific time frame. Otherwise the maximum (allowed) lease will be 7200 seconds. The server will also \"advise\" the client that it should use 255.255.255.0 as its subnet mask, 192.168.1.255 as its broadcast address, 192.168.1.254 as the router/gateway and 192.168.1.1 and 192.168.1.2 as its DNS servers."
msgstr ""

#: serverguide/C/network-config.xml:542(para) 
msgid "If you need to specify a WINS server for your Windows clients, you will need to include the netbios-name-servers option, e.g."
msgstr ""

#: serverguide/C/network-config.xml:546(programlisting) 
#, no-wrap
msgid "\noption netbios-name-servers 192.168.1.1; \n"
msgstr ""

#: serverguide/C/network-config.xml:549(para) 
msgid "Dhcpd configuration settings are taken from the DHCP mini-HOWTO, which can be found <ulink url=\"http://www.tldp.org/HOWTO/DHCP/index.html\">here</ulink>."
msgstr ""

#: serverguide/C/network-config.xml:557(ulink) 
msgid "DHCP FAQ"
msgstr ""

#: serverguide/C/network-config.xml:563(title) 
msgid "Time Synchronisation with NTP"
msgstr ""

#: serverguide/C/network-config.xml:564(para) 
msgid "This page describes methods for keeping your computer's time accurate. This is useful for servers, but is not necessary (or desirable) for desktop machines."
msgstr ""

#: serverguide/C/network-config.xml:567(para) 
msgid "NTP is a TCP/IP protocol for synchronising time over a network. Basically a client requests the current time from a server, and uses it to set its own clock."
msgstr ""

#: serverguide/C/network-config.xml:570(para) 
msgid "Behind this simple description, there is a lot of complexity - there are tiers of NTP servers, with the tier one NTP servers connected to atomic clocks (often via GPS), and tier two and three servers spreading the load of actually handling requests across the Internet. Also the client software is a lot more complex than you might think - it has to factor out communication delays, and adjust the time in a way that does not upset all the other processes that run on the server. But luckily all that complexity is hidden from you!"
msgstr ""

#: serverguide/C/network-config.xml:573(para) 
msgid "Ubuntu has two ways of automatically setting your time: ntpdate and ntpd."
msgstr ""

#: serverguide/C/network-config.xml:578(title) 
msgid "ntpdate"
msgstr ""

#: serverguide/C/network-config.xml:579(para) 
msgid "Ubuntu comes with ntpdate as standard, and will run it once at boot time to set up your time according to Ubuntu's NTP server. However, a server's clock is likely to drift considerably between reboots, so it makes sense to correct the time occasionally. The easiest way to do this is to get cron to run ntpdate every day. With your favourite editor, as root, create a file <code>/etc/cron.daily/ntpdate</code> containing:"
msgstr ""

#: serverguide/C/network-config.xml:584(screen) 
#, no-wrap
msgid "ntpdate ntp.ubuntu.com\n"
msgstr ""

#: serverguide/C/network-config.xml:586(para) 
msgid "The file <code>/etc/cron.daily/ntpdate</code> must also be executable."
msgstr ""

#: serverguide/C/network-config.xml:589(screen) 
#, no-wrap
msgid "sudo chmod 755 /etc/cron.daily/ntpdate\n"
msgstr ""

#: serverguide/C/network-config.xml:593(title) 
msgid "ntpd"
msgstr ""

#: serverguide/C/network-config.xml:594(para) 
msgid "ntpdate is a bit of a blunt instrument - it can only adjust the time once a day, in one big correction. The ntp daemon ntpd is far more subtle. It calculates the drift of your system clock and continuously adjusts it, so there are no large corrections that could lead to inconsistent logs for instance. The cost is a little processing power and memory, but for a modern server this is negligible."
msgstr ""

#: serverguide/C/network-config.xml:597(para) 
msgid "To set up ntpd:"
msgstr ""

#: serverguide/C/network-config.xml:598(screen) 
#, no-wrap
msgid "sudo apt-get install ntp\n"
msgstr ""

#: serverguide/C/network-config.xml:603(title) 
msgid "Changing Time Servers"
msgstr ""

#: serverguide/C/network-config.xml:604(para) 
msgid "In both cases above, your system will use Ubuntu's NTP server at <code>ntp.ubuntu.com</code> by default. This is OK, but you might want to use several servers to increase accuracy and resilience, and you may want to use time servers that are geographically closer to you. to do this for ntpdate, change the contents of <code>/etc/cron.daily/ntpdate</code> to:"
msgstr ""

#: serverguide/C/network-config.xml:611(screen) 
#, no-wrap
msgid "ntpdate ntp.ubuntu.com pool.ntp.org \n"
msgstr ""

#: serverguide/C/network-config.xml:613(para) 
msgid "And for ntpd edit <code>/etc/ntp.conf</code> to include additional server lines:"
msgstr ""

#: serverguide/C/network-config.xml:618(screen) 
#, no-wrap
msgid "server ntp.ubuntu.com\nserver pool.ntp.org\n"
msgstr ""

#: serverguide/C/network-config.xml:621(para) 
msgid "You may notice <code>pool.ntp.org</code> in the examples above. This is a really good idea which uses round-robin DNS to return an NTP server from a pool, spreading the load between several different servers. Even better, they have pools for different regions - for instance, if you are in New Zealand, so you could use <code>nz.pool.ntp.org</code> instead of <code>pool.ntp.org</code> . Look at <ulink url=\"http://www.pool.ntp.org/\">http://www.pool.ntp.org/</ulink> for more details."
msgstr ""

#: serverguide/C/network-config.xml:632(para) 
msgid "You can also Google for NTP servers in your region, and add these to your configuration. To test that a server works, just type <code>sudo ntpdate ntp.server.name</code> and see what happens."
msgstr ""

#: serverguide/C/network-config.xml:640(title) 
msgid "Related Pages"
msgstr ""

#: serverguide/C/network-config.xml:644(ulink) 
msgid "NTP Support"
msgstr ""

#: serverguide/C/network-config.xml:649(ulink) 
msgid "The NTP FAQ and HOWTO"
msgstr ""

#: serverguide/C/network-auth.xml:13(title) 
msgid "Network Authentication"
msgstr ""

#: serverguide/C/network-auth.xml:15(para) 
msgid "This section explains various Network Authentication protocols."
msgstr ""

#: serverguide/C/network-auth.xml:19(title) 
msgid "OpenLDAP Server"
msgstr ""

#: serverguide/C/network-auth.xml:20(para) 
msgid "LDAP is an acronym for Lightweight Directory Access Protocol, it is a simplified version of the X.500 protocol. The directory setup in this section will be used for authentication. Nevertheless, LDAP can be used in numerous ways: authentication, shared directory (for mail clients), address book, etc."
msgstr ""

#: serverguide/C/network-auth.xml:28(para) 
msgid "To describe LDAP quickly, all information is stored in a tree structure. With <application>OpenLDAP</application> you have freedom to determine the directory arborescence (the Directory Information Tree: the DIT) yourself. We will begin with a basic tree containing two nodes below the root:"
msgstr ""

#: serverguide/C/network-auth.xml:37(para) 
msgid "\"People\" node where your users will be stored"
msgstr ""

#: serverguide/C/network-auth.xml:40(para) 
msgid "\"Groups\" node where your groups will be stored"
msgstr ""

#: serverguide/C/network-auth.xml:44(para) 
msgid "Before beginning, you should determine what the root of your LDAP directory will be. By default, your tree will be determined by your Fully Qualified Domain Name (FQDN). If your domain is example.com (which we will use in this example), your root node will be dc=example,dc=com."
msgstr ""

#: serverguide/C/network-auth.xml:54(para) 
msgid "First, install the <application>OpenLDAP</application> server daemon <application>slapd</application> and <application>ldap-utils</application>, a package containing LDAP management utilities:"
msgstr ""

#: serverguide/C/network-auth.xml:60(command) 
msgid "sudo apt-get install slapd ldap-utils"
msgstr ""

#: serverguide/C/network-auth.xml:63(para) 
msgid "The installation process will prompt you for the LDAP directory admin password and confirmation."
msgstr ""

#: serverguide/C/network-auth.xml:68(para) 
msgid "After installing <application>slapd</application> the directory can be configured using <application>dpkg-reconfigure</application>:"
msgstr ""

#: serverguide/C/network-auth.xml:73(command) 
msgid "sudo dpkg-reconfigure slapd"
msgstr ""

#: serverguide/C/network-auth.xml:76(para) 
msgid "You will then be taken through a menu based configuration dialog allowing you to configure various <application>slapd</application> options. For the most part the defaults work well, but if your <emphasis>root</emphasis> node differs from the server's FQDN be sure to enter the correct name."
msgstr ""

#: serverguide/C/network-auth.xml:85(title) 
msgid "Populating LDAP"
msgstr ""

#: serverguide/C/network-auth.xml:87(para) 
msgid "The directory has been created during installation and reconfiguration, and now it is time to populate it. It will be populated with a \"classical\" scheme that will be compatible with address book applications and with Unix Posix accounts. Posix accounts will allow authentication to various applications, such as web applications, email Mail Transfer Agent (MTA) applications, etc."
msgstr ""

#: serverguide/C/network-auth.xml:96(para) 
msgid "For external applications to authenticate using LDAP they will each need to be specifically configured to do so. Refer to the individual application documentation for details."
msgstr ""

#: serverguide/C/network-auth.xml:103(para) 
msgid "LDAP directories can be populated with LDIF (LDAP Directory Interchange Format) files. Copy the following example LDIF file, naming it <filename>example.com.ldif</filename>, somewhere on your system:"
msgstr ""

#: serverguide/C/network-auth.xml:109(programlisting) 
#, no-wrap
msgid "\ndn: ou=people,dc=example,dc=com\nobjectClass: organizationalUnit\nou: people\n\ndn: ou=groups,dc=example,dc=com\nobjectClass: organizationalUnit\nou: groups\n\ndn: uid=john,ou=people,dc=example,dc=com\nobjectClass: inetOrgPerson\nobjectClass: posixAccount\nobjectClass: shadowAccount\nuid: john\nsn: Doe\ngivenName: John\ncn: John Doe\ndisplayName: John Doe\nuidNumber: 1000\ngidNumber: 10000\nuserPassword: password\ngecos: John Doe\nloginShell: /bin/bash\nhomeDirectory: /home/john\nshadowExpire: -1\nshadowFlag: 0\nshadowWarning: 7\nshadowMin: 8\nshadowMax: 999999\nshadowLastChange: 10877\nmail: john.doe@example.com\npostalCode: 31000\nl: Toulouse\no: Example\nmobile: +33 (0)6 xx xx xx xx\nhomePhone: +33 (0)5 xx xx xx xx\ntitle: System Administrator\npostalAddress: \ninitials: JD\n\ndn: cn=example,ou=groups,dc=example,dc=com\nobjectClass: posixGroup\ncn: example\ngidNumber: 10000\n"
msgstr ""

#: serverguide/C/network-auth.xml:155(para) 
msgid "In this example the directory structure, a user, and a group have been setup. In other examples you might see the <emphasis>objectClass: top</emphasis> added in every entry, but that is the default behaviour so you do not have to add it explicitly."
msgstr ""

#: serverguide/C/network-auth.xml:162(para) 
msgid "Now, to add your entries to the LDAP directory:"
msgstr ""

#: serverguide/C/network-auth.xml:168(para) 
msgid "Stop <application>slapd</application>:"
msgstr ""

#: serverguide/C/network-auth.xml:172(command) serverguide/C/network-auth.xml:764(command) 
msgid "sudo /etc/init.d/slapd stop"
msgstr ""

#: serverguide/C/network-auth.xml:176(para) 
msgid "Add the content:"
msgstr ""

#: serverguide/C/network-auth.xml:180(command) 
msgid "sudo slapadd -l example.com.ldif"
msgstr ""

#: serverguide/C/network-auth.xml:184(para) 
msgid "Start LDAP daemon:"
msgstr ""

#: serverguide/C/network-auth.xml:188(command) serverguide/C/network-auth.xml:766(command) 
msgid "sudo /etc/init.d/slapd start"
msgstr ""

#: serverguide/C/network-auth.xml:193(para) 
msgid "We can check that the content has been correctly added with the tools from the <application>ldap-utils</application> package. In order to execute a search of the LDAP directory:"
msgstr ""

#: serverguide/C/network-auth.xml:200(command) serverguide/C/network-auth.xml:412(command) 
msgid "ldapsearch -xLLL -b \"dc=example,dc=com\" uid=john sn givenName cn"
msgstr ""

#: serverguide/C/network-auth.xml:201(computeroutput) 
#, no-wrap
msgid "\ndn: uid=john,ou=people,dc=example,dc=com\ncn: John Doe\nsn: Doe\ngivenName: John\n"
msgstr ""

#: serverguide/C/network-auth.xml:209(para) 
msgid "Just a quick explanation:"
msgstr ""

#: serverguide/C/network-auth.xml:215(para) 
msgid "<emphasis>-x:</emphasis> will not use SASL authentication method, which is the default."
msgstr ""

#: serverguide/C/network-auth.xml:221(para) 
msgid "<emphasis>-LLL:</emphasis> disable printing LDIF schema information."
msgstr ""

#: serverguide/C/network-auth.xml:230(title) 
msgid "Setting up ACL"
msgstr ""

#: serverguide/C/network-auth.xml:232(para) 
msgid "Authentication requires access to the password field, that should be not accessible by default. Another issue is that during password change using <command>passwd</command>, <emphasis>shadowLastChange</emphasis> needs to be accessible by authenticated users. The following code, from <application>/etc/ldap/slapd.conf</application>, shows the default ACL setting that permits the <emphasis>admin</emphasis> user and authenticated users access to shadowLastChange:"
msgstr ""

#: serverguide/C/network-auth.xml:242(programlisting) 
#, no-wrap
msgid "\naccess to attrs=userPassword,shadowLastChange\n        by dn=\"cn=admin,dc=example,dc=com\" write\n        by anonymous auth\n        by self write\n        by * none\n"
msgstr ""

#: serverguide/C/network-auth.xml:253(title) 
msgid "TLS and SSL"
msgstr ""

#: serverguide/C/network-auth.xml:255(para) 
msgid "When authenticating to an OpenLDAP server it is best to do so using an encrypted session. This can be accomplished using Transport Layer Security (TLS) and/or Secure Sockets Layer (SSL)."
msgstr ""

#: serverguide/C/network-auth.xml:260(para) 
msgid "The first step in the process is to obtain or create a <emphasis>certificate</emphasis>. See <xref linkend=\"certificates-and-security\"/> for details."
msgstr ""

#: serverguide/C/network-auth.xml:265(para) 
msgid "Once you have a certificate and key, edit <filename>/etc/ldap/slapd.conf</filename> adding the following options under the index entries:"
msgstr ""

#: serverguide/C/network-auth.xml:269(programlisting) 
#, no-wrap
msgid "\n# TLS/SSL\nTLSCertificateFile    /etc/ssl/certs/server.crt\nTLSCertificateKeyFile /etc/ssl/private/server.key\n"
msgstr ""

#: serverguide/C/network-auth.xml:276(para) 
msgid "Adjust the <filename>server.crt</filename> and <filename>server.key</filename> names if yours are different."
msgstr ""

#: serverguide/C/network-auth.xml:281(para) 
msgid "Next, edit <filename>/etc/default/slapd</filename> uncomment the <emphasis>SLAPD_SERVICES</emphasis> option:"
msgstr ""

#: serverguide/C/network-auth.xml:285(programlisting) 
#, no-wrap
msgid "\nSLAPD_SERVICES=\"ldap://127.0.0.1:389/ ldaps:/// ldapi:///\"\n"
msgstr ""

#: serverguide/C/network-auth.xml:289(para) 
msgid "Now the <emphasis>openldap</emphasis> user needs access to the certificate:"
msgstr ""

#: serverguide/C/network-auth.xml:294(command) 
msgid "sudo adduser openldap ssl-cert"
msgstr ""

#: serverguide/C/network-auth.xml:295(command) 
msgid "sudo chgrp ssl-cert /etc/ssl/private/server.key"
msgstr ""

#: serverguide/C/network-auth.xml:299(para) 
msgid "If the <filename role=\"directory\">/etc/ssl/private</filename> and <filename>/etc/ssl/private/server.key</filename> have different permissions, adjust the commands appropriately."
msgstr ""

#: serverguide/C/network-auth.xml:305(para) 
msgid "Finally, restart <application>slapd</application>:"
msgstr ""

#: serverguide/C/network-auth.xml:310(command) serverguide/C/network-auth.xml:363(command) serverguide/C/network-auth.xml:404(command) 
msgid "sudo /etc/init.d/slapd restart"
msgstr ""

#: serverguide/C/network-auth.xml:313(para) 
msgid "The <application>slapd</application> daemon should now be listening for LDAPS connections and be able to use STARTTLS during authentication."
msgstr ""

#: serverguide/C/network-auth.xml:321(title) 
msgid "LDAP replication"
msgstr ""

#: serverguide/C/network-auth.xml:323(para) 
msgid "LDAP service often quickly becomes a highly critical service in an information system: multiple systems depend on LDAP for authentication, authorization, mail, etc. It is a good idea to setup a redundant system."
msgstr ""

#: serverguide/C/network-auth.xml:330(para) 
msgid "Replication is achieved using the <emphasis>Syncrepl</emphasis> engine. Syncrepl allows the directory to be synced using either a <emphasis>push</emphasis> or <emphasis>pull</emphasis> based system. In a push based configuration a <quote>primary</quote> server will push directory updates to <quote>secondary</quote> servers, while a pull based approach allows replication servers to sync on a time based interval."
msgstr ""

#: serverguide/C/network-auth.xml:338(para) 
msgid "The following is an example of <emphasis>push</emphasis> configuration. First you need to setup the <application>slapd</application> provider by uncommenting the following line in <filename>/etc/ldap/slapd.conf</filename>:"
msgstr ""

#: serverguide/C/network-auth.xml:344(programlisting) serverguide/C/network-auth.xml:371(programlisting) 
#, no-wrap
msgid "\nrootdn          \"cn=admin,dc=example,dc=com\"\n"
msgstr ""

#: serverguide/C/network-auth.xml:348(para) 
msgid "Below the <emphasis>rootdn</emphasis> line add:"
msgstr ""

#: serverguide/C/network-auth.xml:352(programlisting) 
#, no-wrap
msgid "\nmoduleload  syncprov.la\noverlay syncprov\nsyncprov-checkpoint 100 10\nsyncprov-sessionlog 100\n"
msgstr ""

#: serverguide/C/network-auth.xml:359(para) 
msgid "Now restart <application>slapd</application>:"
msgstr ""

#: serverguide/C/network-auth.xml:366(para) 
msgid "On separate <application>OpenLDAP</application> server configure the <application>slapd</application> consumer by again uncommenting the <emphasis>rootdn</emphasis> line in <filename>/etc/ldap/slapd.conf</filename>:"
msgstr ""

#: serverguide/C/network-auth.xml:375(para) 
msgid "Then add the following below the rootdn entry:"
msgstr ""

#: serverguide/C/network-auth.xml:379(programlisting) 
#, no-wrap
msgid "\nsyncrepl rid=123\n\t provider=ldap://ldap01.example.com:389\n\t type=refreshAndPersist\n         searchbase=\"dc=example,dc=com\"\n         filter=\"(objectClass=*)\"\n         scope=sub\n         schemachecking=off\n         bindmethod=simple\n         binddn=\"uid=john,ou=people,dc=example,dc=com\"\n         credentials=password\n"
msgstr ""

#: serverguide/C/network-auth.xml:393(para) 
msgid "This example uses the <emphasis>john</emphasis> user we created above to authenticate the sync process. Be sure to use an account with sufficient privileges. Also, replace <emphasis role=\"italic\">ldap://ldap01.example.com:389</emphasis> with the appropriate host name."
msgstr ""

#: serverguide/C/network-auth.xml:400(para) 
msgid "Now restart the consumer <application>slapd</application> daemon:"
msgstr ""

#: serverguide/C/network-auth.xml:407(para) 
msgid "If all goes well you should be able to execute the <application>ldapsearch</application> example from above on the server with the replicated directory."
msgstr ""

#: serverguide/C/network-auth.xml:415(para) 
msgid "The <application>slapd</application> daemon will send log information to <filename>/var/log/syslog</filename> by default. So if all does <emphasis>not</emphasis> go well check there for errors and other troubleshooting information."
msgstr ""

#: serverguide/C/network-auth.xml:422(title) 
msgid "LDAP Authentication"
msgstr ""

#: serverguide/C/network-auth.xml:424(para) 
msgid "Once you have a working LDAP server, the <application>auth-client-config</application> and <application>libnss-ldap</application> packages take the pain out of configuring an Ubuntu client to authenticate using LDAP. To install the packages from, a terminal prompt enter:"
msgstr ""

#: serverguide/C/network-auth.xml:431(command) 
msgid "sudo apt-get install libnss-ldap"
msgstr ""

#: serverguide/C/network-auth.xml:434(para) 
msgid "During the install a menu dialog will ask you connection details about your LDAP server."
msgstr ""

#: serverguide/C/network-auth.xml:438(para) 
msgid "If you make a mistake when entering your information you can execute the dialog again using:"
msgstr ""

#: serverguide/C/network-auth.xml:443(command) 
msgid "sudo dpkg-reconfigure ldap-auth-config"
msgstr ""

#: serverguide/C/network-auth.xml:446(para) 
msgid "The results of the dialog can be seen in <filename>/etc/ldap.conf</filename>. If your server requires options not covered in the menu edit this file accordingly."
msgstr ""

#: serverguide/C/network-auth.xml:451(para) 
msgid "Now that <application>libnss-ldap</application> is configured enable the <application>auth-client-config</application> LDAP profile by entering:"
msgstr ""

#: serverguide/C/network-auth.xml:457(command) 
msgid "sudo auth-client-config -a -p lac_ldap"
msgstr ""

#: serverguide/C/network-auth.xml:462(para) 
msgid "<emphasis>-a:</emphasis> applies the specified profile."
msgstr ""

#: serverguide/C/network-auth.xml:467(para) 
msgid "<emphasis>-p:</emphasis> name of the profile to enable, disable, etc."
msgstr ""

#: serverguide/C/network-auth.xml:472(para) 
msgid "<emphasis>lac_ldap:</emphasis> the <application>auth-client-config</application> profile that is part of the <application>ldap-auth-config</application> package."
msgstr ""

#: serverguide/C/network-auth.xml:479(para) 
msgid "You should now be able to login using user credentials stored in the LDAP directory."
msgstr ""

#: serverguide/C/network-auth.xml:485(title) 
msgid "User and Group Management"
msgstr ""

#: serverguide/C/network-auth.xml:487(para) 
msgid "The <application>ldap-utils</application> comes with multiple utilities to manage the directory, but the long string of options needed, can make them a burden to use. The <application>ldapscripts</application> package contains configurable scripts to easily manage LDAP users and groups."
msgstr ""

#: serverguide/C/network-auth.xml:493(para) 
msgid "To install the package, from a terminal enter:"
msgstr ""

#: serverguide/C/network-auth.xml:498(command) 
msgid "sudo apt-get install ldapscripts"
msgstr ""

#: serverguide/C/network-auth.xml:501(para) 
msgid "Next, edit the config file <filename>/etc/ldapscripts/ldapscripts.conf</filename> uncommenting and changing the following:"
msgstr ""

#: serverguide/C/network-auth.xml:505(programlisting) 
#, no-wrap
msgid "\nSERVER=localhost\nBINDDN='cn=admin,dc=example,dc=com'\nBINDPWDFILE=\"/etc/ldapscripts/ldapscripts.passwd\"\nSUFFIX='dc=example,dc=com'\nGSUFFIX='ou=Groups'\nUSUFFIX='ou=People'\nMSUFFIX='ou=Computers'\nGIDSTART=1000\nUIDSTART=1000\nMIDSTART=1000\nLOGFILE=\"/var/log/ldapscripts.log\"\nUHOMES=\"/home/%u\"\n"
msgstr ""

#: serverguide/C/network-auth.xml:520(para) 
msgid "Now, create the <filename>ldapscripts.passwd</filename> file to allow authenticated access to the directory:"
msgstr ""

#: serverguide/C/network-auth.xml:525(command) 
msgid "sudo sh -c \"echo -n 'secret' &gt; /etc/ldapscripts/ldapscripts.passwd\""
msgstr ""

#: serverguide/C/network-auth.xml:526(command) 
msgid "sudo chmod 400 /etc/ldapscripts/ldapscripts.passwd"
msgstr ""

#: serverguide/C/network-auth.xml:530(para) 
msgid "Replace <quote>secret</quote> with the actual password for your LDAP admin user."
msgstr ""

#: serverguide/C/network-auth.xml:535(para) 
msgid "The <application>ldapscripts</application> are now ready to help manage your directory. The following are some examples of how to use the scripts:"
msgstr ""

#: serverguide/C/network-auth.xml:542(para) 
msgid "Create a new user:"
msgstr ""

#: serverguide/C/network-auth.xml:546(command) 
msgid "sudo ldapadduser george example"
msgstr ""

#: serverguide/C/network-auth.xml:548(para) 
msgid "This will create a user with uid <emphasis role=\"italic\">george</emphasis> and set the user's primary group (gid) to <emphasis role=\"italic\">example</emphasis>"
msgstr ""

#: serverguide/C/network-auth.xml:554(para) 
msgid "Change a user's password:"
msgstr ""

#: serverguide/C/network-auth.xml:558(command) 
msgid "sudo _ldappasswd george"
msgstr ""

#: serverguide/C/network-auth.xml:559(computeroutput) 
#, no-wrap
msgid "Changing password for user uid=george,ou=People,dc=example,dc=com"
msgstr ""

#: serverguide/C/network-auth.xml:560(userinput) 
#, no-wrap
msgid "New Password: "
msgstr ""

#: serverguide/C/network-auth.xml:561(userinput) 
#, no-wrap
msgid "New Password (verify): "
msgstr ""

#: serverguide/C/network-auth.xml:565(para) 
msgid "Delete a user:"
msgstr ""

#: serverguide/C/network-auth.xml:569(command) 
msgid "sudo ldapdeleteuser george"
msgstr ""

#: serverguide/C/network-auth.xml:572(para) 
msgid "This script will also remove the user's <emphasis>home directory</emphasis>."
msgstr ""

#: serverguide/C/network-auth.xml:578(para) 
msgid "Add a group:"
msgstr ""

#: serverguide/C/network-auth.xml:582(command) 
msgid "sudo ldapaddgroup qa"
msgstr ""

#: serverguide/C/network-auth.xml:586(para) 
msgid "Delete a group:"
msgstr ""

#: serverguide/C/network-auth.xml:590(command) 
msgid "sudo ldapdeletegroup qa"
msgstr ""

#: serverguide/C/network-auth.xml:594(para) 
msgid "Add a user to a group:"
msgstr ""

#: serverguide/C/network-auth.xml:598(command) 
msgid "sudo ldapaddusertogroup george qa"
msgstr ""

#: serverguide/C/network-auth.xml:600(para) 
msgid "You should now see a <emphasis>memberUid</emphasis> attribute for the <emphasis role=\"italic\">qa</emphasis> group with a value of <emphasis role=\"italic\">george</emphasis>."
msgstr ""

#: serverguide/C/network-auth.xml:606(para) 
msgid "Remove a user from a group:"
msgstr ""

#: serverguide/C/network-auth.xml:610(command) 
msgid "sudo ldapdeleteuserfromgroup george qa"
msgstr ""

#: serverguide/C/network-auth.xml:612(para) 
msgid "The <emphasis>memberUid</emphasis> attribute should now be removed from the <emphasis role=\"italic\">qa</emphasis> group."
msgstr ""

#: serverguide/C/network-auth.xml:618(para) 
msgid "The <application>_ldapmodifyuser</application> script allows you to add, remove, or replace a user's attributes. The script uses the same syntax as the <application>ldapmodify</application> utility. For example:"
msgstr ""

#: serverguide/C/network-auth.xml:623(command) 
msgid "sudo _ldapmodifyuser george"
msgstr ""

#: serverguide/C/network-auth.xml:624(computeroutput) 
#, no-wrap
msgid "# About to modify the following entry :\ndn: uid=george,ou=People,dc=example,dc=com\nobjectClass: account\nobjectClass: posixAccount\ncn: george\nuid: george\nuidNumber: 1001\ngidNumber: 1001\nhomeDirectory: /home/george\nloginShell: /bin/bash\ngecos: george\ndescription: User account\nuserPassword:: e1NTSEF9eXFsTFcyWlhwWkF1eGUybVdFWHZKRzJVMjFTSG9vcHk=\n\n# Enter your modifications here, end with CTRL-D.\ndn: uid=george,ou=People,dc=example,dc=com"
msgstr ""

#: serverguide/C/network-auth.xml:640(userinput) 
#, no-wrap
msgid "replace: gecos\ngecos: George Stevens"
msgstr ""

#: serverguide/C/network-auth.xml:643(para) 
msgid "The user's <emphasis>gecos</emphasis> should now be <quote>George Stevens</quote>."
msgstr ""

#: serverguide/C/network-auth.xml:649(para) 
msgid "There are more useful scripts in the package, to see a full list enter: <command>dpkg -L ldapscripts | grep bin</command>"
msgstr ""

#: serverguide/C/network-auth.xml:658(para) 
msgid "For more information see <ulink url=\"http://www.openldap.org/\">OpenLDAP Home Page</ulink>"
msgstr ""

#: serverguide/C/network-auth.xml:663(para) 
msgid "Though starting to show it's age, a great source for in depth LDAP information is O'Reilly's <ulink url=\"http://www.oreilly.com/catalog/ldapsa/\">LDAP System Administration</ulink>"
msgstr ""

#: serverguide/C/network-auth.xml:669(para) 
msgid "Packt's <ulink url=\"http://www.packtpub.com/OpenLDAP-Developers-Server-Open-Source-Linux/book\">Mastering OpenLDAP</ulink> is a great reference covering newer versions of OpenLDAP."
msgstr ""

#: serverguide/C/network-auth.xml:675(para) 
msgid "For more information on <application>auth-client-config</application> see the man page: <command>man auth-client-config</command>."
msgstr ""

#: serverguide/C/network-auth.xml:680(para) 
msgid "For more details regarding the <application>ldapscripts</application> package see the man pages: <command>man ldapscripts</command>, <command>man ldapadduser</command>, <command>man ldapaddgroup</command>, etc."
msgstr ""

#: serverguide/C/network-auth.xml:690(title) 
msgid "Samba and LDAP"
msgstr ""

#: serverguide/C/network-auth.xml:692(para) 
msgid "This section covers configuring Samba to use LDAP for user, group, and machine account information and authentication. The assumption is, you already have a working OpenLDAP directory installed and the server is configured to use it for authentication. See <xref linkend=\"openldap-server\"/> and <xref linkend=\"openldap-auth-config\"/> for details on setting up OpenLDAP."
msgstr ""

#: serverguide/C/network-auth.xml:701(para) 
msgid "There are three packages needed when integrating Samba with LDAP. <application>samba</application>, <application>samba-doc</application>, and <application>smbldap-tools</application> packages . To install the packages, from a terminal enter:"
msgstr ""

#: serverguide/C/network-auth.xml:707(command) 
msgid "sudo apt-get install samba samba-doc smbldap-tools"
msgstr ""

#: serverguide/C/network-auth.xml:710(para) 
msgid "Strictly speaking the <application>smbldap-tools</application> package isn't needed, but unless you have another package or custom scripts, a method of managing users, groups, and computer accounts is needed."
msgstr ""

#: serverguide/C/network-auth.xml:717(title) 
msgid "OpenLDAP Configuration"
msgstr ""

#: serverguide/C/network-auth.xml:719(para) 
msgid "In order for Samba to use OpenLDAP as a <emphasis>passdb backend</emphasis>, the user objects in the directory will need additional attributes. This section assumes you want Samba to be configured as a Windows NT domain controller, and will add the necessary LDAP objects and attributes."
msgstr ""

#: serverguide/C/network-auth.xml:725(para) 
msgid "The Samba attributes are defined in the <filename>samba.schema</filename> file which is part of the <application>samba-doc</application> package. The schema file needs to be unzipped and copied to <filename>/etc/ldap/schema</filename>. From a terminal prompt enter:"
msgstr ""

#: serverguide/C/network-auth.xml:732(command) 
msgid "sudo cp /usr/share/doc/samba-doc/examples/LDAP/samba.schema.gz /etc/ldap/schema/"
msgstr ""

#: serverguide/C/network-auth.xml:733(command) 
msgid "sudo gzip -d /etc/ldap/schema/samba.schema.gz"
msgstr ""

#: serverguide/C/network-auth.xml:736(para) 
msgid "Next, edit <filename>/etc/ldap/slapd.conf</filename> adding the new schema and the necessary indexes:"
msgstr ""

#: serverguide/C/network-auth.xml:740(programlisting) 
#, no-wrap
msgid "\ninclude         /etc/ldap/schema/samba.schema\n...\nindex           objectClass             eq,pres\nindex           uidNumber               eq\nindex           gidNumber               eq\nindex           loginShell              eq\nindex           uid                     eq,pres,sub\nindex           memberUid               eq,pres,sub\nindex           uniqueMember            eq,pres\nindex           sambaSID                eq\nindex           sambaPrimaryGroupSID    eq\nindex           sambaGroupType          eq\nindex           sambaSIDList            eq\nindex           sambaDomainName         eq\nindex           default                 sub\n"
msgstr ""

#: serverguide/C/network-auth.xml:758(para) 
msgid "Restart <application>slapd</application> for the new settings to take effect, and run <application>slapindex</application> to create the new indexes:"
msgstr ""

#: serverguide/C/network-auth.xml:765(command) 
msgid "sudo -u openldap slapindex -f /etc/ldap/slapd.conf"
msgstr ""

#: serverguide/C/network-auth.xml:769(para) 
msgid "Next, configure the <application>smbldap-tools</application> package to match your environment. The package comes with a configuration script that will ask questions about the needed options. To run the script enter:"
msgstr ""

#: serverguide/C/network-auth.xml:775(command) 
msgid "sudo gzip -d /usr/share/doc/smbldap-tools/configure.pl.gz"
msgstr ""

#: serverguide/C/network-auth.xml:776(command) 
msgid "sudo perl /usr/share/doc/smbldap-tools/configure.pl"
msgstr ""

#: serverguide/C/network-auth.xml:779(para) 
msgid "Once you have answered the questions, there should be <filename>/etc/smbldap-tools/smbldap.conf</filename> and <filename>/etc/smbldap-tools/smbldap_bind.conf</filename> files. These files are generated by the configure script, so if you made any mistakes while executing the script it may be simpler to edit the file appropriately."
msgstr ""

#: serverguide/C/network-auth.xml:785(para) 
msgid "The <application>smbldap-populate</application> script will add the necessary users, groups, and LDAP objects required for Samba. It is a good idea to make a backup LDAP Data Interchange Format (LDIF) file with <application>slapcat</application> before executing the command:"
msgstr ""

#: serverguide/C/network-auth.xml:791(command) 
msgid "sudo slapcat -l backup.ldif"
msgstr ""

#: serverguide/C/network-auth.xml:794(para) 
msgid "Once you have a current backup execute <application>smbldap-populate</application> by entering:"
msgstr ""

#: serverguide/C/network-auth.xml:799(command) 
msgid "sudo smbldap-populate"
msgstr ""

#: serverguide/C/network-auth.xml:803(para) 
msgid "You can create an LDIF file containing the new Samba objects by executing <command>sudo smbldap-populate -e samba.ldif</command>. This allows you to look over the changes making sure everything is correct."
msgstr ""

#: serverguide/C/network-auth.xml:809(para) 
msgid "Your LDAP directory now has the necessary domain information to authenticate Samba users."
msgstr ""

#: serverguide/C/network-auth.xml:815(title) 
msgid "Samba Configuration"
msgstr ""

#: serverguide/C/network-auth.xml:817(para) 
msgid "There a multiple ways to configure Samba for details on some common configurations see <xref linkend=\"windows-networking\"/>. To configure Samba to use LDAP, edit the main Samba configuration file <filename>/etc/samba/smb.conf</filename> commenting the <emphasis>passdb backend</emphasis> option and adding the following:"
msgstr ""

#: serverguide/C/network-auth.xml:823(programlisting) 
#, no-wrap
msgid "\n#   passdb backend = tdbsam\n\n# LDAP Settings\n   passdb backend = ldapsam:ldap://hostname\n   ldap suffix = dc=example,dc=com\n   ldap user suffix = ou=People\n   ldap group suffix = ou=Groups\n   ldap machine suffix = ou=Computers\n   ldap idmap suffix = dc=example,dc=com\n   ldap admin dn = cn=admin,dc=example,dc=com\n   ldap ssl = start tls\n   ldap passwd sync = yes\n...\n   add machine script = sudo /usr/sbin/smbldap-useradd -t 0 -w \"%u\"\n"
msgstr ""

#: serverguide/C/network-auth.xml:840(para) 
msgid "Restart <application>samba</application> to enable the new settings:"
msgstr ""

#: serverguide/C/network-auth.xml:848(para) 
msgid "Now Samba needs to know the LDAP admin password. From a terminal prompt enter:"
msgstr ""

#: serverguide/C/network-auth.xml:853(command) 
msgid "sudo smbpasswd -w secret"
msgstr ""

#: serverguide/C/network-auth.xml:857(para) 
msgid "Replacing <emphasis role=\"italic\">secret</emphasis> with your LDAP admin password."
msgstr ""

#: serverguide/C/network-auth.xml:862(para) 
msgid "If you currently have users in LDAP, and you want them to authenticate using Samba, they will need some Samba attributes defined in the <filename>samba.schema</filename> file. Add the Samba attributes to existing users using the <application>smbpasswd</application> utility, replacing <emphasis role=\"italic\">username</emphasis> with an actual user:"
msgstr ""

#: serverguide/C/network-auth.xml:870(command) 
msgid "sudo smbpasswd -a username"
msgstr ""

#: serverguide/C/network-auth.xml:873(para) 
msgid "You will then be asked to enter the user's password."
msgstr ""

#: serverguide/C/network-auth.xml:877(para) 
msgid "To add new user, group, and machine accounts use the utilities from the <application>smbldap-tools</application> package. Here are some examples:"
msgstr ""

#: serverguide/C/network-auth.xml:884(para) 
msgid "To add a new user to LDAP with Samba attributes enter the following, replacing username with an actual username:"
msgstr ""

#: serverguide/C/network-auth.xml:888(command) 
msgid "sudo smbldap-useradd -a -P username"
msgstr ""

#: serverguide/C/network-auth.xml:890(para) 
msgid "The <emphasis>-a</emphasis> option adds the Samba attributes, and the <emphasis>-P</emphasis> options calls the <application>smbldap-passwd</application> utility after the user is created allowing you to enter a password for the user."
msgstr ""

#: serverguide/C/network-auth.xml:896(para) 
msgid "To remove a user from the directory enter:"
msgstr ""

#: serverguide/C/network-auth.xml:900(command) 
msgid "sudo smbldap-userdel username"
msgstr ""

#: serverguide/C/network-auth.xml:902(para) 
msgid "The <application>smbldap-userdel</application> utility also has a <emphasis>-r</emphasis> option to remove the user's home directory."
msgstr ""

#: serverguide/C/network-auth.xml:907(para) 
msgid "Use <application>smbldap-groupadd</application> to add a group, replacing groupname with an appropriate group:"
msgstr ""

#: serverguide/C/network-auth.xml:911(command) 
msgid "sudo smbldap-groupadd -a groupname"
msgstr ""

#: serverguide/C/network-auth.xml:913(para) 
msgid "Similar to <application>smbldap-useradd</application>, the <emphasis>-a</emphasis> adds the Samba attributes."
msgstr ""

#: serverguide/C/network-auth.xml:918(para) 
msgid "To add a user to a group use <application>smbldap-groupmod</application>:"
msgstr ""

#: serverguide/C/network-auth.xml:922(command) 
msgid "sudo smbldap-groupmod -m username groupname"
msgstr ""

#: serverguide/C/network-auth.xml:924(para) 
msgid "Be sure to replace <emphasis>username</emphasis> with a real user. Also, the <emphasis>-m</emphasis> option can add more than one user at a time by listing them in <emphasis>comma separated</emphasis> format."
msgstr ""

#: serverguide/C/network-auth.xml:930(para) 
msgid "<application>smbldap-groupmod</application> can also be used to remove a user from a group:"
msgstr ""

#: serverguide/C/network-auth.xml:934(command) 
msgid "sudo smbldap-groupmod -x username groupname"
msgstr ""

#: serverguide/C/network-auth.xml:938(para) 
msgid "Additionally, the <application>smbldap-useradd</application> utility can add Samba machine accounts:"
msgstr ""

#: serverguide/C/network-auth.xml:942(command) 
msgid "sudo smbldap-useradd -t 0 -w username"
msgstr ""

#: serverguide/C/network-auth.xml:944(para) 
msgid "Replace <emphasis>username</emphasis> with the name of the workstation. The <emphasis>-t 0</emphasis> option creates the machine account without a delay, while the <emphasis>-w</emphasis> option specifies the user as a machine account. Also, note the <emphasis>add machine script</emphasis> option in <filename>/etc/samba/smb.conf</filename> was changed to use <application>smbldap-useradd</application>."
msgstr ""

#: serverguide/C/network-auth.xml:953(para) 
msgid "There are more useful utilities and options in the <application>smbldap-tools</application> package. The man page for each utility provides more details."
msgstr ""

#: serverguide/C/network-auth.xml:964(para) 
msgid "There are multiple places where LDAP and Samba is documented in the <ulink url=\"http://samba.org/samba/docs/man/Samba-HOWTO-Collection/\">Samba HOWTO Collection</ulink>."
msgstr ""

#: serverguide/C/network-auth.xml:970(para) 
msgid "Specifically see the <ulink url=\"http://samba.org/samba/docs/man/Samba-HOWTO-Collection/passdb.html\">passdb section</ulink>."
msgstr ""

#: serverguide/C/network-auth.xml:976(para) 
msgid "Another good site is <ulink url=\"http://www.iallanis.info/smbldap-tools/docs/samba-ldap-howto/\">Samba OpenLDAP HOWTO</ulink>."
msgstr ""

#: serverguide/C/network-auth.xml:982(para) 
msgid "Again, for more information on <application>smbldap-tools</application> see the man pages: <command>man smbldap-useradd</command>, <command>man smbldap-groupadd</command>, <command>man smbldap-populate</command>, etc."
msgstr ""

#: serverguide/C/network-auth.xml:992(title) 
msgid "Kerberos"
msgstr ""

#: serverguide/C/network-auth.xml:994(para) 
msgid "<application>Kerberos</application> is a network authentication system based on the principal of a trusted third party. The other two parties being the user and the service the user wishes to authenticate to. Not all services and applications can use Kerberos, but for those that can, it brings the network environment one step closer to being Single Sign On (SSO)."
msgstr ""

#: serverguide/C/network-auth.xml:1000(para) 
msgid "This section covers installation and configuration of a Kerberos server, and some example client configurations."
msgstr ""

#: serverguide/C/network-auth.xml:1005(title) serverguide/C/dns.xml:64(title) serverguide/C/backups.xml:541(title) 
msgid "Overview"
msgstr ""

#: serverguide/C/network-auth.xml:1007(para) 
msgid "If you are new to Kerberos there are a few terms that are good to understand before setting up a Kerberos server. Most of the terms will relate to things you may be familiar with in other environments:"
msgstr ""

#: serverguide/C/network-auth.xml:1014(para) 
msgid "<emphasis>Principal:</emphasis> any users, computers, and services provided by servers need to be defined as Kerberos Principals."
msgstr ""

#: serverguide/C/network-auth.xml:1019(para) 
msgid "<emphasis>Instances:</emphasis> are used for service principals and special administrative principals."
msgstr ""

#: serverguide/C/network-auth.xml:1024(para) 
msgid "<emphasis>Realms:</emphasis> the unique realm of control provided by the Kerberos installation. Usually the DNS domain converted to uppercase (EXAMPLE.COM)."
msgstr ""

#: serverguide/C/network-auth.xml:1030(para) 
msgid "<emphasis>Key Distribution Center:</emphasis> (KDC) consist of three parts, a database of all principals, the authentication server, and the ticket granting server. For each realm there must be at least one KDC."
msgstr ""

#: serverguide/C/network-auth.xml:1036(para) 
msgid "<emphasis>Ticket Granting Ticket:</emphasis> issued by the Authentication Server (AS), the Ticket Granting Ticket (TGT) is encrypted in the user's password which is known only to the user and the KDC."
msgstr ""

#: serverguide/C/network-auth.xml:1042(para) 
msgid "<emphasis>Ticket Granting Server:</emphasis> (TGS) issues service tickets to clients upon request."
msgstr ""

#: serverguide/C/network-auth.xml:1047(para) 
msgid "<emphasis>Tickets:</emphasis> confirm the identity of the two principals. One principal being a user and the other a service requested by the user. Tickets establish an encryption key used for secure communication during the authenticated session."
msgstr ""

#: serverguide/C/network-auth.xml:1053(para) 
msgid "<emphasis>Keytab Files:</emphasis> are files extracted from the KDC principal database and contain the encryption key for a service or host."
msgstr ""

#: serverguide/C/network-auth.xml:1060(para) 
msgid "To put the pieces together, a Realm has at least one KDC, preferably two for redundancy, which contains a database of Principals. When a user principal logs into a workstation, configured for Kerberos authentication, the KDC issues a Ticket Granting Ticket (TGT). If the user supplied credentials match, the user is authenticated and can then request tickets for Kerberized services from the Ticket Granting Server (TGS). The service tickets allow the user to authenticate to the service without entering another username and password."
msgstr ""

#: serverguide/C/network-auth.xml:1069(title) 
msgid "Kerberos Server"
msgstr ""

#: serverguide/C/network-auth.xml:1073(para) 
msgid "Before installing the Kerberos server a properly configured DNS server is needed for your domain. Since the Kerberos Realm by convention matches the domain name, this section uses the <emphasis>example.com</emphasis> domain configured in <xref linkend=\"dns-primarymaster-configuration\"/>."
msgstr ""

#: serverguide/C/network-auth.xml:1079(para) 
msgid "The first step in installing a Kerberos Realm is to install the <application>krb5-kdc</application> and <application>krb5-admin-server</application> packages. From a terminal enter:"
msgstr ""

#: serverguide/C/network-auth.xml:1085(command) serverguide/C/network-auth.xml:1253(command) 
msgid "sudo apt-get install krb5-kdc krb5-admin-server"
msgstr ""

#: serverguide/C/network-auth.xml:1088(para) 
msgid "You will be asked at the end of the install to supply a name for the Kerberos and Admin servers, which may or may not be the same server, for the realm."
msgstr ""

#: serverguide/C/network-auth.xml:1093(para) 
msgid "Next, create the new realm with the <application>kdb5_newrealm</application> utility:"
msgstr ""

#: serverguide/C/network-auth.xml:1098(command) 
msgid "sudo sudo krb5_newrealm"
msgstr ""

#: serverguide/C/network-auth.xml:1105(para) 
msgid "The questions asked during installation are used to configure the <filename>/etc/krb5.conf</filename> file. If you need to adjust the Key Distribution Center (KDC) settings simply edit the file and restart the <application>krb5-kdc</application> daemon."
msgstr ""

#: serverguide/C/network-auth.xml:1113(para) 
msgid "Now that the KDC running an admin user is needed. It is recommended to use a different username from your everyday username. Using the <application>kadmin.local</application> utility in a terminal prompt enter:"
msgstr ""

#: serverguide/C/network-auth.xml:1119(command) 
msgid "sudo kadmin.local"
msgstr ""

#: serverguide/C/network-auth.xml:1120(computeroutput) 
#, no-wrap
msgid "Authenticating as principal root/admin@EXAMPLE.COM with password.\nkadmin.local:"
msgstr ""

#: serverguide/C/network-auth.xml:1121(userinput) 
#, no-wrap
msgid " addprinc steve/admin"
msgstr ""

#: serverguide/C/network-auth.xml:1122(computeroutput) 
#, no-wrap
msgid "WARNING: no policy specified for steve/admin@EXAMPLE.COM; defaulting to no policy\nEnter password for principal \"steve/admin@EXAMPLE.COM\": \nRe-enter password for principal \"steve/admin@EXAMPLE.COM\": \nPrincipal \"steve/admin@EXAMPLE.COM\" created.\nkadmin.local:"
msgstr ""

#: serverguide/C/network-auth.xml:1126(userinput) 
#, no-wrap
msgid " quit"
msgstr ""

#: serverguide/C/network-auth.xml:1130(para) 
msgid "Replace <emphasis>EXAMPLE.COM</emphasis> and <emphasis>steve/admin</emphasis> with your Realm and admin user."
msgstr ""

#: serverguide/C/network-auth.xml:1138(para) 
msgid "Next, the new admin user needs to have the appropriate Access Control List (ACL) permissions. The permissions are configured in the <filename>/etc/krb5kdc/kadm5.acl</filename> file:"
msgstr ""

#: serverguide/C/network-auth.xml:1143(programlisting) 
#, no-wrap
msgid "\nsteve/admin@EXAMPLE.COM        *\n"
msgstr ""

#: serverguide/C/network-auth.xml:1147(para) 
msgid "This entry grants <emphasis>steve/admin</emphasis> the ability to perform any operation on all principals in the realm."
msgstr ""

#: serverguide/C/network-auth.xml:1154(para) 
msgid "Now restart the <application>krb5-admin-server</application> for the new ACL to take affect:"
msgstr ""

#: serverguide/C/network-auth.xml:1159(command) 
msgid "sudo /etc/init.d/krb5-admin-server restart"
msgstr ""

#: serverguide/C/network-auth.xml:1165(para) 
msgid "The new user principal can be tested using the <application>kinit utility</application>:"
msgstr ""

#: serverguide/C/network-auth.xml:1170(command) 
msgid "kinit steve/admin"
msgstr ""

#: serverguide/C/network-auth.xml:1171(computeroutput) 
#, no-wrap
msgid "steve/admin@EXAMPLE.COM's Password:"
msgstr ""

#: serverguide/C/network-auth.xml:1174(para) 
msgid "After entering the password, use the <application>klist</application> utility to view information about the Ticket Granting Ticket (TGT):"
msgstr ""

#: serverguide/C/network-auth.xml:1180(command) serverguide/C/network-auth.xml:1515(command) 
msgid "klist"
msgstr ""

#: serverguide/C/network-auth.xml:1181(computeroutput) 
#, no-wrap
msgid "Credentials cache: FILE:/tmp/krb5cc_1000\n        Principal: steve/admin@EXAMPLE.COM\n\n  Issued           Expires          Principal\nJul 13 17:53:34  Jul 14 03:53:34  krbtgt/EXAMPLE.COM@EXAMPLE.COM"
msgstr ""

#: serverguide/C/network-auth.xml:1188(para) 
msgid "You may need to add an entry into the <filename>/etc/hosts</filename> for the KDC. For example:"
msgstr ""

#: serverguide/C/network-auth.xml:1192(programlisting) 
#, no-wrap
msgid "\n192.168.0.1   kdc01.example.com       kdc01\n"
msgstr ""

#: serverguide/C/network-auth.xml:1196(para) 
msgid "Replacing <emphasis>192.168.0.1</emphasis> with the IP address of your KDC."
msgstr ""

#: serverguide/C/network-auth.xml:1203(para) 
msgid "In order for clients to determine the KDC for the Realm some DNS SRV records are needed. Add the following to <filename>/etc/named/db.example.com</filename>:"
msgstr ""

#: serverguide/C/network-auth.xml:1208(programlisting) 
#, no-wrap
msgid "\n_kerberos._udp.EXAMPLE.COM.     IN SRV 1  0 88  kdc01.example.com.\n_kerberos._tcp.EXAMPLE.COM.     IN SRV 1  0 88  kdc01.example.com.\n_kerberos._udp.EXAMPLE.COM.     IN SRV 10 0 88  kdc02.example.com. \n_kerberos._tcp.EXAMPLE.COM.     IN SRV 10 0 88  kdc02.example.com. \n_kerberos-adm._tcp.EXAMPLE.COM. IN SRV 1  0 749 kdc01.example.com.\n_kpasswd._udp.EXAMPLE.COM.      IN SRV 1  0 464 kdc01.example.com.\n"
msgstr ""

#: serverguide/C/network-auth.xml:1218(para) 
msgid "Replace <emphasis>EXAMPLE.COM</emphasis>, <emphasis>kdc01</emphasis>, and <emphasis>kdc02</emphasis> with your domain name, primary KDC, and secondary KDC."
msgstr ""

#: serverguide/C/network-auth.xml:1224(para) 
msgid "See <xref linkend=\"dns\"/> for detailed instructions on setting up DNS."
msgstr ""

#: serverguide/C/network-auth.xml:1231(para) 
msgid "Your new Kerberos Realm is now ready to authenticate clients."
msgstr ""

#: serverguide/C/network-auth.xml:1238(title) 
msgid "Secondary KDC"
msgstr ""

#: serverguide/C/network-auth.xml:1240(para) 
msgid "Once you have one Key Distribution Center (KDC) on your network, it is good practice to have a Secondary KDC in case the primary becomes unavailable."
msgstr ""

#: serverguide/C/network-auth.xml:1248(para) 
msgid "First, install the packages, and when asked for the Kerberos and Admin server names enter the name of the Primary KDC:"
msgstr ""

#: serverguide/C/network-auth.xml:1259(para) 
msgid "Once you have the packages installed, create the Secondary KDC's host principal. From a terminal prompt, enter:"
msgstr ""

#: serverguide/C/network-auth.xml:1264(command) 
msgid "kadmin -q \"addprinc -randkey host/kdc02.example.com\""
msgstr ""

#: serverguide/C/network-auth.xml:1268(para) 
msgid "After, issuing any <application>kadmin</application> commands you will be prompted for your <emphasis>username/admin@EXAMPLE.COM</emphasis> principal password."
msgstr ""

#: serverguide/C/network-auth.xml:1277(para) 
msgid "Extract the <emphasis>keytab</emphasis> file:"
msgstr ""

#: serverguide/C/network-auth.xml:1282(command) 
msgid "kadmin -q \"ktadd -k keytab.kdc02 host/kdc02.example.com\""
msgstr ""

#: serverguide/C/network-auth.xml:1288(para) 
msgid "There should now be a <filename>keytab.kdc02</filename> in the current directory, move the file to <filename>/etc/krb5.keytab</filename>:"
msgstr ""

#: serverguide/C/network-auth.xml:1294(command) 
msgid "sudo mv keytab.kdc02 /etc/krb5.keytab"
msgstr ""

#: serverguide/C/network-auth.xml:1298(para) 
msgid "If the path to the <filename>keytab.kdc02</filename> file is different adjust accordingly."
msgstr ""

#: serverguide/C/network-auth.xml:1303(para) 
msgid "Also, you can list the principals in a Keytab file, which can be useful when troubleshooting, using the <application>klist</application> utility:"
msgstr ""

#: serverguide/C/network-auth.xml:1309(command) 
msgid "sudo klist -k /etc/krb5.keytab"
msgstr ""

#: serverguide/C/network-auth.xml:1315(para) 
msgid "Next, there needs to be a <filename>kpropd.acl</filename> file on each KDC that lists all KDCs for the Realm. For example, on both primary and secondary KDC, create <filename>/etc/krb5kdc/kpropd.acl</filename>:"
msgstr ""

#: serverguide/C/network-auth.xml:1320(programlisting) 
#, no-wrap
msgid "\nhost/kdc01.example.com@EXAMPLE.COM\nhost/kdc02.example.com@EXAMPLE.COM\n"
msgstr ""

#: serverguide/C/network-auth.xml:1328(para) 
msgid "Create an empty database on the <emphasis>Secondary KDC</emphasis>:"
msgstr ""

#: serverguide/C/network-auth.xml:1333(command) 
msgid "sudo kdb5_util -s create"
msgstr ""

#: serverguide/C/network-auth.xml:1339(para) 
msgid "Now start the <application>kpropd</application> daemon, which listens for connections from the <application>kprop</application> utility. <application>kprop</application> is used to transfer dump files:"
msgstr ""

#: serverguide/C/network-auth.xml:1346(command) 
msgid "sudo kpropd -S"
msgstr ""

#: serverguide/C/network-auth.xml:1352(para) 
msgid "From a terminal on the <emphasis>Primary KDC</emphasis>, create a dump file of the principal database:"
msgstr ""

#: serverguide/C/network-auth.xml:1357(command) 
msgid "sudo kdb5_util dump /var/lib/krb5kdc/dump"
msgstr ""

#: serverguide/C/network-auth.xml:1363(para) 
msgid "Extract the Primary KDC's <emphasis>keytab</emphasis> file and copy it to <filename>/etc/krb5.keytab</filename>:"
msgstr ""

#: serverguide/C/network-auth.xml:1368(command) 
msgid "kadmin -q \"ktadd -k keytab.kdc01 host/kdc01.example.com\""
msgstr ""

#: serverguide/C/network-auth.xml:1369(command) 
msgid "sudo mv keytab.kdc01 /etc/kr5b.keytab"
msgstr ""

#: serverguide/C/network-auth.xml:1373(para) 
msgid "Make sure there is a <emphasis>host</emphasis> for <emphasis>kdc01.example.com</emphasis> before extracting the Keytab."
msgstr ""

#: serverguide/C/network-auth.xml:1381(para) 
msgid "Using the <application>kprop</application> utility push the database to the Secondary KDC:"
msgstr ""

#: serverguide/C/network-auth.xml:1386(command) 
msgid "sudo kprop -r EXAMPLE.COM -f /var/lib/krb5kdc/dump kdc02.example.com"
msgstr ""

#: serverguide/C/network-auth.xml:1390(para) 
msgid "There should be a <emphasis>SUCCEEDED</emphasis> message if the propagation worked. If there is an error message check <filename>/var/log/syslog</filename> on the secondary KDC for more information."
msgstr ""

#: serverguide/C/network-auth.xml:1396(para) 
msgid "You may also want to create a <application>cron</application> job to periodically update the database on the Secondary KDC. For example, the following will push the database every hour:"
msgstr ""

#: serverguide/C/network-auth.xml:1401(programlisting) 
#, no-wrap
msgid "\n# m h  dom mon dow   command\n0 * * * * kdb5_util dump /var/lib/krb5kdc/dump &amp;&amp; kprop -r EXAMPLE.COM -f /var/lib/krb5kdc/dump kdc02.example.com\n"
msgstr ""

#: serverguide/C/network-auth.xml:1409(para) 
msgid "Back on the <emphasis>Secondary KDC</emphasis>, create a <emphasis>stash</emphasis> file to hold the Kerberos master key:"
msgstr ""

#: serverguide/C/network-auth.xml:1415(command) 
msgid "sudo kdb5_util stash"
msgstr ""

#: serverguide/C/network-auth.xml:1421(para) 
msgid "Finally, start the <application>krb5-kdc</application> daemon on the Secondary KDC:"
msgstr ""

#: serverguide/C/network-auth.xml:1426(command) 
msgid "sudo /etc/init.d/krb5-kdc start"
msgstr ""

#: serverguide/C/network-auth.xml:1432(para) 
msgid "The <emphasis>Secondary KDC</emphasis> should now be able to issue tickets for the Realm. You can test this by stopping the <application>krb5-kdc</application> daemon on the Primary KDC, then use <application>kinit</application> to request a ticket. If all goes well you should receive a ticket from the Secondary KDC."
msgstr ""

#: serverguide/C/network-auth.xml:1440(title) 
msgid "Kerberos Linux Client"
msgstr ""

#: serverguide/C/network-auth.xml:1442(para) 
msgid "This section covers configuring a Linux system as a <application>Kerberos</application> client. This will allow access to any kerberized services once a user has successfully logged into the system."
msgstr ""

#: serverguide/C/network-auth.xml:1450(para) 
msgid "In order to authenticate to a Kerberos Realm, the <application>krb5-user</application> and <application>libpam-krb5</application> packages are needed, along with a few others that are not strictly necessary but make life easier. To install the packages enter the following in a terminal prompt:"
msgstr ""

#: serverguide/C/network-auth.xml:1457(command) 
msgid "sudo apt-get install krb5-user libpam-krb5 libpam-ccreds auth-client-config"
msgstr ""

#: serverguide/C/network-auth.xml:1460(para) 
msgid "The <application>auth-client-config</application> package allows simple configuration of PAM for authentication from multiple sources, and the <application>libpam-ccreds</application> will cache authentication credentials allowing you to login in case the Key Distribution Center (KDC) is unavailable. This package is also useful for laptops that may authenticate using Kerberos while on the corporate network, but will need to be accessed off the network as well."
msgstr ""

#: serverguide/C/network-auth.xml:1471(para) 
msgid "To configure the client in a terminal enter:"
msgstr ""

#: serverguide/C/network-auth.xml:1476(command) 
msgid "sudo dpkg-reconfigure krb5-config"
msgstr ""

#: serverguide/C/network-auth.xml:1479(para) 
msgid "You will then be prompted to enter the name of the Kerberos Realm. Also, if you don't have DNS configured with Kerberos <emphasis>SRV</emphasis> records, the menu will prompt you for the hostname of the Key Distribution Center (KDC) and Realm Administration server."
msgstr ""

#: serverguide/C/network-auth.xml:1485(para) 
msgid "The <application>dpkg-reconfigure</application> adds entries to the <filename>/etc/krb5.conf</filename> file for your Realm. You should have entries similar to the following:"
msgstr ""

#: serverguide/C/network-auth.xml:1490(programlisting) 
#, no-wrap
msgid "\n[libdefaults]\n        default_realm = EXAMPLE.COM\n...\n[realms]\n        EXAMPLE.COM = }                \n                kdc = 192.168.0.1               \n                admin_server = 192.168.0.1\n        }\n"
msgstr ""

#: serverguide/C/network-auth.xml:1501(para) 
msgid "You can test the configuration by requesting a ticket using the <application>kinit</application> utility. For example:"
msgstr ""

#: serverguide/C/network-auth.xml:1506(command) 
msgid "kinit steve@EXAMPLE.COM"
msgstr ""

#: serverguide/C/network-auth.xml:1507(computeroutput) 
#, no-wrap
msgid "Password for steve@EXAMPLE.COM:"
msgstr ""

#: serverguide/C/network-auth.xml:1510(para) 
msgid "When a ticket has been granted, the details can be viewed using <application>klist</application>:"
msgstr ""

#: serverguide/C/network-auth.xml:1516(computeroutput) 
#, no-wrap
msgid "Ticket cache: FILE:/tmp/krb5cc_1000\nDefault principal: steve@EXAMPLE.COM\n\nValid starting     Expires            Service principal\n07/24/08 05:18:56  07/24/08 15:18:56  krbtgt/EXAMPLE.COM@EXAMPLE.COM\n        renew until 07/25/08 05:18:57\n\n\nKerberos 4 ticket cache: /tmp/tkt1000\nklist: You have no tickets cached"
msgstr ""

#: serverguide/C/network-auth.xml:1528(para) 
msgid "Next, use the <application>auth-client-config</application> to configure the <application>libpam-krb5</application> module to request a ticket during login:"
msgstr ""

#: serverguide/C/network-auth.xml:1534(command) 
msgid "sudo auth-client-config -a -p kerberos_example"
msgstr ""

#: serverguide/C/network-auth.xml:1537(para) 
msgid "You will should now receive a ticket upon successful login authentication."
msgstr ""

#: serverguide/C/network-auth.xml:1548(para) 
msgid "For more information on Kerberos see the <ulink url=\"http://web.mit.edu/Kerberos/\">MIT Kerberos</ulink> site."
msgstr ""

#: serverguide/C/network-auth.xml:1553(para) 
msgid "O'Reilly's <ulink url=\"http://oreilly.com/catalog/9780596004033/\">Kerberos: The Definitive Guide</ulink> is a great reference when setting up Kerberos."
msgstr ""

#: serverguide/C/network-auth.xml:1559(para) 
msgid "Also, feel free to stop by the <emphasis>#ubuntu-server</emphasis> IRC channel on <ulink url=\"http://freenode.net/\">Freenode</ulink> if you have Kerberos questions."
msgstr ""

#: serverguide/C/mail.xml:13(title) 
msgid "Email Services"
msgstr ""

#: serverguide/C/mail.xml:14(para) 
msgid "The process of getting an email from one person to another over a network or the Internet involves many systems working together. Each of these systems must be correctly configured for the process to work. The sender uses a <emphasis>Mail User Agent</emphasis> (MUA), or email client, to send the message through one or more <emphasis>Mail Transfer Agents</emphasis> (MTA), the last of which will hand it off to a <emphasis>Mail Delivery Agent</emphasis> (MDA) for delivery to the recipient's mailbox, from which it will be retrieved by the recipient's email client, usually via a POP3 or IMAP server."
msgstr ""

#: serverguide/C/mail.xml:24(title) serverguide/C/mail.xml:715(application) serverguide/C/mail.xml:749(title) serverguide/C/mail.xml:827(title) serverguide/C/mail.xml:1297(title) 
msgid "Postfix"
msgstr ""

#: serverguide/C/mail.xml:25(para) 
msgid "<application>Postfix</application> is the default Mail Transfer Agent (MTA) in Ubuntu. It attempts to be fast and easy to administer and secure. It is compatible with the MTA <application>sendmail</application>. This section explains how to install and configure <application>postfix</application>. It also explains how to set it up as an SMTP server using a secure connection (for sending emails securely)."
msgstr ""

#: serverguide/C/mail.xml:34(para) 
msgid "To install <application>postfix</application> run the following command:"
msgstr ""

#: serverguide/C/mail.xml:38(command) 
msgid "sudo apt-get install postfix"
msgstr ""

#: serverguide/C/mail.xml:40(para) 
msgid "Simply press return when the installation process asks questions, the configuration will be done in greater detail in the next stage."
msgstr ""

#: serverguide/C/mail.xml:45(title) 
msgid "Basic Configuration"
msgstr ""

#: serverguide/C/mail.xml:46(para) 
msgid "To configure <application>postfix</application>, run the following command:"
msgstr ""

#: serverguide/C/mail.xml:50(command) 
msgid "sudo dpkg-reconfigure postfix"
msgstr ""

#: serverguide/C/mail.xml:56(para) 
msgid "Ok"
msgstr ""

#: serverguide/C/mail.xml:57(para) 
msgid "Internet Site"
msgstr ""

#: serverguide/C/mail.xml:58(para) 
msgid "NONE"
msgstr ""

#: serverguide/C/mail.xml:59(para) 
msgid "mail.example.com"
msgstr ""

#: serverguide/C/mail.xml:60(para) 
msgid "mail.example.com, localhost.localdomain, localhost"
msgstr ""

#: serverguide/C/mail.xml:61(para) 
msgid "No"
msgstr ""

#: serverguide/C/mail.xml:62(para) 
msgid "127.0.0.0/8, 192.168.0/24"
msgstr ""

#: serverguide/C/mail.xml:63(para) 
msgid "Yes"
msgstr ""

#: serverguide/C/mail.xml:64(para) 
msgid "0"
msgstr ""

#: serverguide/C/mail.xml:65(para) 
msgid "+"
msgstr ""

#: serverguide/C/mail.xml:66(para) 
msgid "all"
msgstr ""

#: serverguide/C/mail.xml:52(para) 
msgid "The user interface will be displayed. On each screen, select the following values: <placeholder-1/>"
msgstr ""

#: serverguide/C/mail.xml:70(para) 
msgid "Replace mail.example.com with your mail server hostname, and 192.168.0/24 with the actual network and class range of your mail server."
msgstr ""

#: serverguide/C/mail.xml:75(para) 
msgid "Now is a good time to decide which mailbox format you want to use. By default Postifx will use <emphasis role=\"strong\">mbox</emphasis> for the mailbox format. Rather than editing the configuration file directly, you can use the <command>postconf</command> command to configure all <application>postfix</application> parameters. The configuration parameters will be stored in <filename>/etc/postfix/main.cf</filename> file. Later if you wish to re-configure a particular parameter, you can either run the command or change it manually in the file."
msgstr ""

#: serverguide/C/mail.xml:86(para) 
msgid "To configure the mailbox format for <emphasis role=\"strong\">Maildir:</emphasis>"
msgstr ""

#: serverguide/C/mail.xml:90(command) 
msgid "sudo postconf -e 'home_mailbox = Maildir/'"
msgstr ""

#: serverguide/C/mail.xml:93(para) 
msgid "This will place new mail in /home/<emphasis role=\"italic\">username</emphasis>/Maildir so you will need to configure your Mail Delivery Agent (MDA) to use the same path."
msgstr ""

#: serverguide/C/mail.xml:100(title) serverguide/C/mail.xml:481(title) 
msgid "SMTP Authentication"
msgstr ""

#: serverguide/C/mail.xml:101(para) 
msgid "SMTP-AUTH allows a client to identify itself through an authentication mechanism (SASL). Transport Layer Security (TLS) should be used to encrypt the authentication process. Once authenticated the SMTP server will allow the client to relay mail."
msgstr ""

#: serverguide/C/mail.xml:108(para) 
msgid "Configure Postfix for SMTP-AUTH using SASL (Dovecot SASL):"
msgstr ""

#: serverguide/C/mail.xml:111(screen) 
#, no-wrap
msgid "\nsudo postconf -e 'smtpd_sasl_type = dovecot'\nsudo postconf -e 'smtpd_sasl_path = private/auth-client'\nsudo postconf -e 'smtpd_sasl_local_domain ='\nsudo postconf -e 'smtpd_sasl_security_options = noanonymous'\nsudo postconf -e 'broken_sasl_auth_clients = yes'\nsudo postconf -e 'smtpd_sasl_auth_enable = yes'\nsudo postconf -e 'smtpd_recipient_restrictions = permit_sasl_authenticated,permit_mynetworks,reject_unauth_destination'\nsudo postconf -e 'inet_interfaces = all'\n"
msgstr ""

#: serverguide/C/mail.xml:122(para) 
msgid "The <emphasis>smtpd_sasl_path</emphasis> configuration is a path relative to the Postfix queue directory."
msgstr ""

#: serverguide/C/mail.xml:128(para) 
msgid "Next, configure the digital certificate for TLS. When asked questions, follow the instructions and answer appropriately:"
msgstr ""

#: serverguide/C/mail.xml:132(screen) 
#, no-wrap
msgid "\nopenssl genrsa -des3 -rand /etc/hosts -out smtpd.key 1024\nchmod 600 smtpd.key\nopenssl req -new -key smtpd.key -out smtpd.csr\nsudo openssl x509 -req -days 365 -in smtpd.csr -signkey smtpd.key -out smtpd.crt\nopenssl rsa -in smtpd.key -out smtpd.key.unencrypted\nmv -f smtpd.key.unencrypted smtpd.key\nopenssl req -new -x509 -extensions v3_ca -keyout cakey.pem -out cacert.pem -days 3650\nsudo mv smtpd.key /etc/ssl/private/\nsudo mv smtpd.crt /etc/ssl/certs/\nsudo mv cakey.pem /etc/ssl/private/\nsudo mv cacert.pem /etc/ssl/certs/\n"
msgstr ""

#: serverguide/C/mail.xml:146(para) 
msgid "You can get the digital certificate from a certificate authority. But unlike web clients, SMTP clients rarely complain about \"self-signed certificates\", so alternatively, you can create the certificate yourself. Refer to <xref linkend=\"creating-a-self-signed-certificate\"/> for more details."
msgstr ""

#: serverguide/C/mail.xml:158(para) 
msgid "Configure Postfix to provide TLS encryption for both incoming and outgoing mail:"
msgstr ""

#: serverguide/C/mail.xml:161(screen) 
#, no-wrap
msgid "\nsudo postconf -e 'smtpd_tls_auth_only = no'\nsudo postconf -e 'smtp_use_tls = yes'\nsudo postconf -e 'smtpd_use_tls = yes'\nsudo postconf -e 'smtp_tls_note_starttls_offer = yes'\nsudo postconf -e 'smtpd_tls_key_file = /etc/ssl/private/smtpd.key'\nsudo postconf -e 'smtpd_tls_cert_file = /etc/ssl/certs/smtpd.crt'\nsudo postconf -e 'smtpd_tls_CAfile = /etc/ssl/certs/cacert.pem'\nsudo postconf -e 'smtpd_tls_loglevel = 1'\nsudo postconf -e 'smtpd_tls_received_header = yes'\nsudo postconf -e 'smtpd_tls_session_cache_timeout = 3600s'\nsudo postconf -e 'tls_random_source = dev:/dev/urandom'\nsudo postconf -e 'myhostname = mail.example.com'\n"
msgstr ""

#: serverguide/C/mail.xml:178(para) 
msgid "After running all the commands, <application>Postfix</application> is configured for SMTP-AUTH and a self-signed certificate has been created for TLS encryption."
msgstr ""

#: serverguide/C/mail.xml:183(para) 
msgid "Now, the file <filename>/etc/postfix/main.cf</filename> should look like <ulink url=\"../sample/postfix_configuration\">this</ulink>."
msgstr ""

#: serverguide/C/mail.xml:187(para) 
msgid "The postfix initial configuration is complete. Run the following command to restart the postfix daemon:"
msgstr ""

#: serverguide/C/mail.xml:192(command) serverguide/C/mail.xml:306(command) serverguide/C/mail.xml:867(command) serverguide/C/mail.xml:1348(command) 
msgid "sudo /etc/init.d/postfix restart"
msgstr ""

#: serverguide/C/mail.xml:194(para) 
msgid "<application>Postfix</application> supports SMTP-AUTH as defined in <ulink url=\"ftp://ftp.isi.edu/in-notes/rfc2554.txt\">RFC2554</ulink>. It is based on <ulink url=\"ftp://ftp.isi.edu/in-notes/rfc2222.txt\">SASL</ulink>. However it is still necessary to set up SASL authentication before you can use SMTP-AUTH."
msgstr ""

#: serverguide/C/mail.xml:204(title) serverguide/C/mail.xml:534(title) 
msgid "Configuring SASL"
msgstr ""

#: serverguide/C/mail.xml:205(para) 
msgid "Postfix supports two SASL implementations Cyrus SASL and Dovecot SASL. To enable Dovecot SASL the <application>dovecot-common</application> package will need to be installed. From a terminal prompt enter the following:"
msgstr ""

#: serverguide/C/mail.xml:211(command) 
msgid "sudo apt-get install dovecot-common"
msgstr ""

#: serverguide/C/mail.xml:213(para) 
msgid "Next you will need to edit <filename>/etc/dovecot/dovecot.conf</filename>. In the <emphasis>auth default</emphasis> section uncomment the <emphasis>socket listen</emphasis> option and change the following:"
msgstr ""

#: serverguide/C/mail.xml:217(programlisting) 
#, no-wrap
msgid "\n  socket listen {\n    #master {\n      # Master socket provides access to userdb information. It's typically\n      # used to give Dovecot's local delivery agent access to userdb so it\n      # can find mailbox locations.\n      #path = /var/run/dovecot/auth-master\n      #mode = 0600\n      # Default user/group is the one who started dovecot-auth (root)\n      #user = \n      #group = \n    #}\n    client {\n      # The client socket is generally safe to export to everyone. Typical use\n      # is to export it to your SMTP server so it can do SMTP AUTH lookups\n      # using it.\n      path = /var/spool/postfix/private/auth-client\n      mode = 0660\n      user = postfix\n      group = postfix\n    }\n  }\n"
msgstr ""

#: serverguide/C/mail.xml:240(para) 
msgid "Once you have <application>Dovecot</application> configured restart it with:"
msgstr ""

#: serverguide/C/mail.xml:244(command) serverguide/C/mail.xml:636(command) 
msgid "sudo /etc/init.d/dovecot restart"
msgstr ""

#: serverguide/C/mail.xml:249(para) 
msgid "SMTP-AUTH configuration is complete. Now it is time to test the setup."
msgstr ""

#: serverguide/C/mail.xml:252(para) 
msgid "To see if SMTP-AUTH and TLS work properly, run the following command:"
msgstr ""

#: serverguide/C/mail.xml:257(command) 
msgid "telnet mail.example.com 25"
msgstr ""

#: serverguide/C/mail.xml:259(para) 
msgid "After you have established the connection to the postfix mail server, type:"
msgstr ""

#: serverguide/C/mail.xml:263(screen) 
#, no-wrap
msgid "\nehlo mail.example.com\n"
msgstr ""

#: serverguide/C/mail.xml:266(para) 
msgid "If you see the following lines among others, then everything is working perfectly. Type <command>quit</command> to exit."
msgstr ""

#: serverguide/C/mail.xml:270(programlisting) 
#, no-wrap
msgid "\n250-STARTTLS\n250-AUTH LOGIN PLAIN\n250-AUTH=LOGIN PLAIN\n250 8BITMIME\n"
msgstr ""

#: serverguide/C/mail.xml:280(para) 
msgid "This section introduces some common ways to determine the cause if problems arise."
msgstr ""

#: serverguide/C/mail.xml:284(title) 
msgid "Escaping chroot"
msgstr ""

#: serverguide/C/mail.xml:285(para) 
msgid "The Ubuntu <application>postfix</application> package will by default install into a <emphasis>chroot</emphasis> environment for security reasons. This can add greater complexity when troubleshooting problems."
msgstr ""

#: serverguide/C/mail.xml:289(para) 
msgid "To turn off the chroot operation locate for the following line in the <filename>/etc/postfix/master.cf</filename> configuration file:"
msgstr ""

#: serverguide/C/mail.xml:293(screen) 
#, no-wrap
msgid "\nsmtp      inet  n       -       -       -       -       smtpd\n"
msgstr ""

#: serverguide/C/mail.xml:296(para) 
msgid "and modify it as follows:"
msgstr ""

#: serverguide/C/mail.xml:299(screen) 
#, no-wrap
msgid "\nsmtp      inet  n       -       n       -       -       smtpd\n"
msgstr ""

#: serverguide/C/mail.xml:302(para) 
msgid "You will then need to restart Postfix to use the new configuration. From a terminal prompt enter:"
msgstr ""

#: serverguide/C/mail.xml:310(title) 
msgid "Log Files"
msgstr ""

#: serverguide/C/mail.xml:311(para) 
msgid "<application>Postfix</application> sends all log messages to <filename>/var/log/mail.log</filename>. However error and warning messages can sometimes get lost in the normal log output so they are also logged to <filename>/var/log/mail.err</filename> and <filename>/var/log/mail.warn</filename> respectively."
msgstr ""

#: serverguide/C/mail.xml:316(para) 
msgid "To see messages entered into the logs in real time you can use the <application>tail -f</application> command:"
msgstr ""

#: serverguide/C/mail.xml:321(command) 
msgid "tail -f /var/log/mail.err"
msgstr ""

#: serverguide/C/mail.xml:323(para) 
msgid "The amount of detail that is recorded in the logs can be increased. Below are some configuration options for increasing the log level for some of the areas covered above."
msgstr ""

#: serverguide/C/mail.xml:329(para) 
msgid "To increase <emphasis>TLS</emphasis> activity logging set the <emphasis>smtpd_tls_loglevel</emphasis> option to a value from 1 to 4."
msgstr ""

#: serverguide/C/mail.xml:333(command) 
msgid "sudo postconf -e 'smtpd_tls_loglevel = 4'"
msgstr ""

#: serverguide/C/mail.xml:337(para) 
msgid "If you are having trouble sending or receiving mail from a specific domain you can add the domain to the <emphasis>debug_peer_list</emphasis> parameter."
msgstr ""

#: serverguide/C/mail.xml:342(command) 
msgid "sudo postconf -e 'debug_peer_list = problem.domain'"
msgstr ""

#: serverguide/C/mail.xml:346(para) 
msgid "You can increase the verbosity of any <application>Postfix</application> daemon process by editing the <filename>/etc/postfix/master.cf</filename> and adding a <emphasis>-v</emphasis> after the entry. For example edit the <emphasis>smtp</emphasis> entry:"
msgstr ""

#: serverguide/C/mail.xml:350(programlisting) 
#, no-wrap
msgid "\nsmtp      unix  -       -       -       -       -       smtp -v\n"
msgstr ""

#: serverguide/C/mail.xml:356(para) 
msgid "It is important to note that after making one of the logging changes above the <application>Postfix</application> process will need to be reloaded in order to recognize the new configuration: <command>sudo /etc/init.d/postfix reload</command>"
msgstr ""

#: serverguide/C/mail.xml:363(para) 
msgid "To increase the amount of information logged when troubleshooting <emphasis>SASL</emphasis> issues you can set the following options in <filename>/etc/dovecot/dovecot.conf</filename>"
msgstr ""

#: serverguide/C/mail.xml:367(programlisting) 
#, no-wrap
msgid "\nauth_debug=yes\nauth_debug_passwords=yes\n"
msgstr ""

#: serverguide/C/mail.xml:374(para) 
msgid "Just like <application>Postfix</application> if you change a <application>Dovecot</application> configuration the process will need to be reloaded: <command>sudo /etc/init.d/dovecot reload</command>."
msgstr ""

#: serverguide/C/mail.xml:380(para) 
msgid "Some of the options above can drastically increase the amount of information sent to the log files. Remember to return the log level back to normal after you have corrected the problem. Then reload the appropriate daemon for the new configuration to take affect."
msgstr ""

#: serverguide/C/mail.xml:388(para) 
msgid "Administering a <application>Postfix</application> server can be a very complicated task. At some point you may need to turn to the Ubuntu community for more experienced help."
msgstr ""

#: serverguide/C/mail.xml:392(para) 
msgid "A great place to ask for <application>Postfix</application> assistance, and get involved with the Ubuntu Server community, is the <emphasis>#ubuntu-server</emphasis> IRC channel on <ulink url=\"http://freenode.net\">freenode</ulink>. You can also post a message to one of the <ulink url=\"http://www.ubuntu.com/support/community/webforums\">Web Forums</ulink>."
msgstr ""

#: serverguide/C/mail.xml:397(para) 
msgid "For in depth <application>Postfix</application> information Ubuntu developers highly recommend: <ulink url=\"http://www.postfix-book.com/\">The Book of Postfix</ulink>."
msgstr ""

#: serverguide/C/mail.xml:401(para) 
msgid "Finally, the <ulink url=\"http://www.postfix.org/documentation.html\">Postfix</ulink> website also has great documentation on all the different configuration options available."
msgstr ""

#: serverguide/C/mail.xml:410(title) serverguide/C/mail.xml:755(title) serverguide/C/mail.xml:871(title) 
msgid "Exim4"
msgstr ""

#: serverguide/C/mail.xml:411(para) 
msgid "<application>Exim4</application> is another Message Transfer Agent (MTA) developed at the University of Cambridge for use on Unix systems connected to the Internet. Exim can be installed in place of <application>sendmail</application>, although the configuration of <application>exim</application> is quite different to that of <application>sendmail</application>."
msgstr ""

#: serverguide/C/mail.xml:422(para) 
msgid "To install <application>exim4</application>, run the following command: <screen>\n<command>sudo apt-get install exim4</command>\n</screen>"
msgstr ""

#: serverguide/C/mail.xml:431(para) 
msgid "To configure <application>Exim4</application>, run the following command:"
msgstr ""

#: serverguide/C/mail.xml:435(command) 
msgid "sudo dpkg-reconfigure exim4-config"
msgstr ""

#: serverguide/C/mail.xml:437(para) 
msgid "The user interface will be displayed. The user interface lets you configure many parameters. For example, In <application>Exim4</application> the configuration files are split among multiple files. If you wish to have them in one file you can configure accordingly in this user interface."
msgstr ""

#: serverguide/C/mail.xml:445(para) 
msgid "All the parameters you configure in the user interface are stored in <filename>/etc/exim4/update-exim4.conf.conf</filename> file. If you wish to re-configure, either you re-run the configuration wizard or manually edit this file using your favourite editor. Once you configure, you can run the following command to generate the master configuration file:"
msgstr ""

#: serverguide/C/mail.xml:456(command) serverguide/C/mail.xml:529(command) 
msgid "sudo update-exim4.conf"
msgstr ""

#: serverguide/C/mail.xml:458(para) 
msgid "The master configuration file, is generated and it is stored in <filename>/var/lib/exim4/config.autogenerated</filename>."
msgstr ""

#: serverguide/C/mail.xml:464(para) 
msgid "At any time, you should not edit the master configuration file, <filename>/var/lib/exim4/config.autogenerated</filename> manually. It is updated automatically every time you run <command>update-exim4.conf</command>"
msgstr ""

#: serverguide/C/mail.xml:472(para) 
msgid "You can run the following command to start <application>Exim4</application> daemon."
msgstr ""

#: serverguide/C/mail.xml:477(command) serverguide/C/mail.xml:877(command) 
msgid "sudo /etc/init.d/exim4 start"
msgstr ""

#: serverguide/C/mail.xml:482(para) 
msgid "This section covers configuring Exim4 to use SMTP-AUTH with TLS and SASL."
msgstr ""

#: serverguide/C/mail.xml:485(para) 
msgid "The first step is to create a certificate for use with TLS. Enter the following into a terminal prompt:"
msgstr ""

#: serverguide/C/mail.xml:489(command) 
msgid "sudo /usr/share/doc/exim4-base/examples/exim-gencert"
msgstr ""

#: serverguide/C/mail.xml:491(para) 
msgid "Now Exim4 needs to be configured for TLS by editing <filename>/etc/exim4/conf.d/main/03_exim4-config_tlsoptions</filename> add the following:"
msgstr ""

#: serverguide/C/mail.xml:495(programlisting) 
#, no-wrap
msgid "\nMAIN_TLS_ENABLE = yes\n"
msgstr ""

#: serverguide/C/mail.xml:498(para) 
msgid "Next you need to configure <application>Exim4</application> to use the <application>saslauthd</application> for authentication. Edit <filename>/etc/exim4/conf.d/auth/30_exim4-config_examples</filename> and uncomment the <emphasis>plain_saslauthd_server</emphasis> and <emphasis>login_saslauthd_server</emphasis> sections:"
msgstr ""

#: serverguide/C/mail.xml:503(programlisting) 
#, no-wrap
msgid "\n plain_saslauthd_server:\n   driver = plaintext\n   public_name = PLAIN\n   server_condition = ${if saslauthd{{$auth2}{$auth3}}{1}{0}}\n   server_set_id = $auth2\n   server_prompts = :\n   .ifndef AUTH_SERVER_ALLOW_NOTLS_PASSWORDS\n   server_advertise_condition = ${if eq{$tls_cipher}{}{}{*}}\n   .endif\n#\n login_saslauthd_server:\n   driver = plaintext\n   public_name = LOGIN\n   server_prompts = \"Username:: : Password::\"\n   # don't send system passwords over unencrypted connections\n   server_condition = ${if saslauthd{{$auth1}{$auth2}}{1}{0}}\n   server_set_id = $auth1\n   .ifndef AUTH_SERVER_ALLOW_NOTLS_PASSWORDS\n   server_advertise_condition = ${if eq{$tls_cipher}{}{}{*}}\n   .endif\n"
msgstr ""

#: serverguide/C/mail.xml:525(para) 
msgid "Finally, update the Exim4 configuration and restart the service:"
msgstr ""

#: serverguide/C/mail.xml:530(command) 
msgid "sudo /etc/init.d/exim4 restart"
msgstr ""

#: serverguide/C/mail.xml:535(para) 
msgid "This section provides details on configuring the saslauthd to provide authentication for <application>Exim4</application>."
msgstr ""

#: serverguide/C/mail.xml:538(para) 
msgid "The first step is to install the sasl2-bin package. From a terminal prompt enter the following:"
msgstr ""

#: serverguide/C/mail.xml:542(command) 
msgid "sudo apt-get install sasl2-bin"
msgstr ""

#: serverguide/C/mail.xml:544(para) 
msgid "To configure saslauthd edit the /etc/default/saslauthd configuration file and set START=no to:"
msgstr ""

#: serverguide/C/mail.xml:547(programlisting) 
#, no-wrap
msgid "\nSTART=yes\n"
msgstr ""

#: serverguide/C/mail.xml:550(para) 
msgid "Next the <emphasis>Debian-exim</emphasis> user needs to be part of the <emphasis>sasl</emphasis> group in order for Exim4 to use the saslauthd service:"
msgstr ""

#: serverguide/C/mail.xml:555(command) 
msgid "sudo adduser Debian-exim sasl"
msgstr ""

#: serverguide/C/mail.xml:557(para) 
msgid "Now start the <application>saslauthd</application> service:"
msgstr ""

#: serverguide/C/mail.xml:561(command) 
msgid "sudo /etc/init.d/saslauthd start"
msgstr ""

#: serverguide/C/mail.xml:563(para) 
msgid "<application>Exim4</application> is now configured with SMTP-AUTH using TLS and SASL authentication."
msgstr ""

#: serverguide/C/mail.xml:569(title) 
msgid "Dovecot Server"
msgstr ""

#: serverguide/C/mail.xml:570(para) 
msgid "<application>Dovecot</application> is a Mail Delivery Agent, written with security primarily in mind. It supports the major mailbox formats: mbox or Maildir. This section explain how to set it up as an imap or pop3 server."
msgstr ""

#: serverguide/C/mail.xml:578(para) 
msgid "To install <application>dovecot</application>, run the following command in the command prompt:"
msgstr ""

#: serverguide/C/mail.xml:583(command) 
msgid "sudo apt-get install dovecot-imapd dovecot-pop3d"
msgstr ""

#: serverguide/C/mail.xml:588(para) 
msgid "To configure <application>dovecot</application>, you can edit the file <filename>/etc/dovecot/dovecot.conf</filename>. You can choose the protocol you use. It could be pop3, pop3s (pop3 secure), imap and imaps (imap secure). A description of these protocols is beyond the scope of this guide. For further information, refer to the Wikipedia articles on <ulink url=\"http://en.wikipedia.org/wiki/POP3\">POP3</ulink> and <ulink url=\"http://en.wikipedia.org/wiki/Internet_Message_Access_Protocol\">IMAP</ulink>."
msgstr ""

#: serverguide/C/mail.xml:598(para) 
msgid "IMAPS and POP3S are more secure that the simple IMAP and POP3 because they use SSL encryption to connect. Once you have chosen the protocol, amend the following line in the file <filename>/etc/dovecot/dovecot.conf</filename>:"
msgstr ""

#: serverguide/C/mail.xml:604(programlisting) 
#, no-wrap
msgid "\nprotocols = pop3 pop3s imap imaps\n"
msgstr ""

#: serverguide/C/mail.xml:607(para) 
msgid "Next, choose the mailbox you would like to use. <application>Dovecot</application> supports <emphasis role=\"strong\">maildir</emphasis> and <emphasis role=\"strong\">mbox</emphasis> formats. These are the most commonly used mailbox formats. They both have their own benefits and are discussed on <ulink url=\"http://wiki.dovecot.org/MailboxFormat\">the Dovecot web site</ulink>."
msgstr ""

#: serverguide/C/mail.xml:615(para) 
msgid "Once you have chosen your mailbox type, edit the file <filename>/etc/dovecot/dovecot.conf</filename> and change the following line:"
msgstr ""

#: serverguide/C/mail.xml:620(programlisting) 
#, no-wrap
msgid "\nmail_location = maildir:~/Maildir # (for maildir)\nor\nmail_location = mbox:~/mail:INBOX=/var/spool/mail/%u # (for mbox)\n"
msgstr ""

#: serverguide/C/mail.xml:626(para) 
msgid "You should configure your Mail Transport Agent (MTA) to transfer the incoming mail to this type of mailbox if it is different from the one you have configured."
msgstr ""

#: serverguide/C/mail.xml:632(para) 
msgid "Once you have configured dovecot, restart the <application>dovecot</application> daemon in order to test your setup:"
msgstr ""

#: serverguide/C/mail.xml:637(para) 
msgid "If you have enabled imap, or pop3, you can also try to log in with the commands <command>telnet localhost pop3</command> or <command>telnet localhost imap2</command>. If you see something like the following, the installation has been successful:"
msgstr ""

#: serverguide/C/mail.xml:644(programlisting) 
#, no-wrap
msgid "\nbhuvan@rainbow:~$ telnet localhost pop3\nTrying 127.0.0.1...\nConnected to localhost.localdomain.\nEscape character is '^]'.\n+OK Dovecot ready.\n"
msgstr ""

#: serverguide/C/mail.xml:653(title) 
msgid "Dovecot SSL Configuration"
msgstr ""

#: serverguide/C/mail.xml:654(para) 
msgid "To configure <application>dovecot</application> to use SSL, you can edit the file <filename>/etc/dovecot/dovecot.conf</filename> and amend following lines:"
msgstr ""

#: serverguide/C/mail.xml:659(programlisting) 
#, no-wrap
msgid "\nssl_cert_file = /etc/ssl/certs/ssl-cert-snakeoil.pem\nssl_key_file = /etc/ssl/private/ssl-cert-snakeoil.key\nssl_disable = no\ndisable_plaintext_auth = no\n"
msgstr ""

#: serverguide/C/mail.xml:665(para) 
msgid "You can get the SSL certificate from a Certificate Issuing Authority or you can create self signed SSL certificate. The latter is a good option for email, because SMTP clients rarely complain about \"self-signed certificates\". Please refer to <xref linkend=\"certificates-and-security\"/> for details about how to create self signed SSL certificate. Once you create the certificate, you will have a key file and a certificate file. Please copy them to the location pointed in the <filename>/etc/dovecot/dovecot.conf</filename> configuration file."
msgstr ""

#: serverguide/C/mail.xml:680(title) 
msgid "Firewall Configuration for an Email Server"
msgstr ""

#: serverguide/C/mail.xml:686(para) 
msgid "IMAP - 143"
msgstr ""

#: serverguide/C/mail.xml:687(para) 
msgid "IMAPS - 993"
msgstr ""

#: serverguide/C/mail.xml:688(para) 
msgid "POP3 - 110"
msgstr ""

#: serverguide/C/mail.xml:689(para) 
msgid "POP3S - 995"
msgstr ""

#: serverguide/C/mail.xml:681(para) 
msgid "To access your mail server from another computer, you must configure your firewall to allow connections to the server on the necessary ports. <placeholder-1/>"
msgstr ""

#: serverguide/C/mail.xml:695(title) serverguide/C/mail.xml:773(title) serverguide/C/mail.xml:996(title) 
msgid "Mailman"
msgstr ""

#: serverguide/C/mail.xml:696(para) 
msgid "Mailman is an open source program for managing electronic mail discussions and e-newsletter lists. Many open source mailing lists (including all the <ulink url=\"http://lists.ubuntu.com\">Ubuntu mailing lists</ulink>) use Mailman as their mailing list software. It is powerful and easy to install and maintain."
msgstr ""

#: serverguide/C/mail.xml:706(para) 
msgid "Mailman provides a web interface for the administrators and users. So, it requires Apache with mod_perl support. Mailman uses an external mail server to send and receive emails. It works perfectly with the following mail servers:"
msgstr ""

#: serverguide/C/mail.xml:718(application) 
msgid "Exim"
msgstr ""

#: serverguide/C/mail.xml:721(application) 
msgid "Sendmail"
msgstr ""

#: serverguide/C/mail.xml:724(application) 
msgid "Qmail"
msgstr ""

#: serverguide/C/mail.xml:729(para) 
msgid "We will see how to install and configure Mailman with, the Apache web server, and either the Postfix or Exim mail server. If you wish to install Mailman with a different mail server, please refer to the references section."
msgstr ""

#: serverguide/C/mail.xml:736(para) 
msgid "You only need to install one mail server and <application>Postfix</application> is the default Ubuntu Mail Transfer Agent."
msgstr ""

#: serverguide/C/mail.xml:741(title) serverguide/C/mail.xml:800(title) 
msgid "Apache2"
msgstr ""

#: serverguide/C/mail.xml:742(para) 
msgid "To install apache2 you refer to <ulink url=\"./web-servers.xml#http-installation\">HTTPD Installation</ulink> section for details."
msgstr ""

#: serverguide/C/mail.xml:750(para) 
msgid "For instructions on installing and configuring Postfix refer to <xref linkend=\"postfix\"/>"
msgstr ""

#: serverguide/C/mail.xml:756(para) 
msgid "To install Exim4 refer to <xref linkend=\"exim4\"/>."
msgstr ""

#: serverguide/C/mail.xml:767(application) 
msgid "dc_use_split_config='true'"
msgstr ""

#: serverguide/C/mail.xml:759(para) 
msgid "Once exim4 is installed, the configuration files are stored in the <filename>/etc/exim4</filename> directory. In Ubuntu, by default, the exim4 configuration files are split across different files. You can change this behavior by changing the following variable in the <filename>/etc/exim4/update-exim4.conf</filename> file: <placeholder-1/>"
msgstr ""

#: serverguide/C/mail.xml:774(para) 
msgid "To install <application>Mailman</application>, run following command at a terminal prompt:"
msgstr ""

#: serverguide/C/mail.xml:778(command) 
msgid "sudo apt-get install mailman"
msgstr ""

#: serverguide/C/mail.xml:780(para) 
msgid "It copies the installation files in <application>/var/lib/mailman</application> directory. It installs the CGI scripts in <application>/usr/lib/cgi-bin/mailman</application> directory. It creates <emphasis>list</emphasis> linux user. It creates the <emphasis>list</emphasis> linux group. The mailman process will be owned by this user."
msgstr ""

#: serverguide/C/mail.xml:792(para) 
msgid "This section assumes you have successfully installed <application>mailman</application>, <application>apache2</application>, and <application>postfix</application> or <application>exim4</application>. Now you just need to configure them."
msgstr ""

#: serverguide/C/mail.xml:801(para) 
msgid "An example Apache configuration file comes with <application>Mailman</application> and is placed in <filename>/etc/mailman/apache.conf</filename>. In order for Apache to use the config file it needs to be copied to <filename>/etc/apache2/sites-available</filename>:"
msgstr ""

#: serverguide/C/mail.xml:807(command) 
msgid "sudo cp /etc/mailman/apache.conf /etc/apache2/sites-available/mailman.conf"
msgstr ""

#: serverguide/C/mail.xml:809(para) 
msgid "This will setup a new Apache <emphasis>VirtualHost</emphasis> for the Mailman administration site. Now enable the new configuration and restart Apache:"
msgstr ""

#: serverguide/C/mail.xml:814(command) 
msgid "sudo a2ensite mailman.conf"
msgstr ""

#: serverguide/C/mail.xml:817(para) 
msgid "Mailman uses apache2 to render its CGI scripts. The mailman CGI scripts are installed in the <application>/usr/lib/cgi-bin/mailman</application> directory. So, the mailman url will be http://hostname/cgi-bin/mailman/. You can make changes to the <filename>/etc/apache2/sites-available/mailman.conf</filename> file if you wish to change this behavior."
msgstr ""

#: serverguide/C/mail.xml:828(para) 
msgid "For <application>Postfix</application> integration, we will associate the domain lists.example.com with the mailing lists. Please replace <emphasis>lists.example.com</emphasis> with the domain of your choosing."
msgstr ""

#: serverguide/C/mail.xml:832(para) 
msgid "You can use the postconf command to add the necessary configuration to <filename>/etc/postfix/main.cf</filename>:"
msgstr ""

#: serverguide/C/mail.xml:836(command) 
msgid "sudo postconf -e 'relay_domains = lists.example.com'"
msgstr ""

#: serverguide/C/mail.xml:837(command) 
msgid "sudo postconf -e 'transport_maps = hash:/etc/postfix/transport'"
msgstr ""

#: serverguide/C/mail.xml:838(command) 
msgid "sudo postconf -e 'mailman_destination_recipient_limit = 1'"
msgstr ""

#: serverguide/C/mail.xml:840(para) 
msgid "In <filename>/etc/postfix/master.cf</filename> double check that you have the following transport:"
msgstr ""

#: serverguide/C/mail.xml:843(programlisting) 
#, no-wrap
msgid "\nmailman   unix  -       n       n       -       -       pipe\n  flags=FR user=list argv=/usr/lib/mailman/bin/postfix-to-mailman.py\n  ${nexthop} ${user}\n"
msgstr ""

#: serverguide/C/mail.xml:848(para) 
msgid "It calls the <emphasis>postfix-to-mailman.py</emphasis> script when a mail is delivered to a list."
msgstr ""

#: serverguide/C/mail.xml:851(para) 
msgid "Associate the domain lists.example.com to the Mailman transport with the transport map. Edit the file <filename>/etc/postfix/transport</filename>:"
msgstr ""

#: serverguide/C/mail.xml:854(programlisting) 
#, no-wrap
msgid "\nlists.example.com      mailman:\n"
msgstr ""

#: serverguide/C/mail.xml:857(para) 
msgid "Now have <application>Postfix</application> build the transport map by entering the following from a terminal prompt:"
msgstr ""

#: serverguide/C/mail.xml:861(command) 
msgid "sudo postmap -v /etc/postfix/transport"
msgstr ""

#: serverguide/C/mail.xml:863(para) 
msgid "Then restart Postfix to enable the new configurations:"
msgstr ""

#: serverguide/C/mail.xml:872(para) 
msgid "Once Exim4 is installed, you can start the Exim server using the following command from a terminal prompt:"
msgstr ""

#: serverguide/C/mail.xml:888(para) serverguide/C/mail.xml:903(title) 
msgid "Main"
msgstr ""

#: serverguide/C/mail.xml:891(para) serverguide/C/mail.xml:943(title) 
msgid "Transport"
msgstr ""

#: serverguide/C/mail.xml:894(para) serverguide/C/mail.xml:966(title) 
msgid "Router"
msgstr ""

#: serverguide/C/mail.xml:879(para) 
msgid "In order to make mailman work with Exim4, you need to configure Exim4. As mentioned earlier, by default, Exim4 uses multiple configuration files of different types. For details, please refer to the <ulink url=\"http://www.exim.org\">Exim</ulink> web site. To run mailman, we should add new a configuration file to the following configuration types: <placeholder-1/> Exim creates a master configuration file by sorting all these mini configuration files. So, the order of these configuration files is very important."
msgstr ""

#: serverguide/C/mail.xml:910(programlisting) 
#, no-wrap
msgid "\n# start\n# Home dir for your Mailman installation -- aka Mailman's prefix\n# directory.\n# On Ubuntu this should be \"/var/lib/mailman\"\n# This is normally the same as ~mailman\nMM_HOME=/var/lib/mailman\n#\n# User and group for Mailman, should match your --with-mail-gid\n# switch to Mailman's configure script.  Value is normally \"mailman\"\nMM_UID=list\nMM_GID=list\n#\n# Domains that your lists are in - colon separated list\n# you may wish to add these into local_domains as well\ndomainlist mm_domains=hostname.com\n#\n# -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\n#\n# These values are derived from the ones above and should not need\n# editing unless you have munged your mailman installation\n#\n# The path of the Mailman mail wrapper script\nMM_WRAP=MM_HOME/mail/mailman\n#\n# The path of the list config file (used as a required file when\n# verifying list addresses)\nMM_LISTCHK=MM_HOME/lists/${lc::$local_part}/config.pck\n# end\n"
msgstr ""

#: serverguide/C/mail.xml:904(para) 
msgid "All the configuration files belonging to the main type are stored in the <filename>/etc/exim4/conf.d/main/</filename> directory. You can add the following content to a new file, named <filename>04_exim4-config_mailman</filename>: <placeholder-1/>"
msgstr ""

#: serverguide/C/mail.xml:950(programlisting) 
#, no-wrap
msgid "\n  mailman_transport:\n   driver = pipe\n   command = MM_WRAP \\\n               '${if def:local_part_suffix \\\n                     {${sg{$local_part_suffix}{-(\\\\w+)(\\\\+.*)?}{\\$1}}} \\\n                     {post}}' \\\n               $local_part\n    current_directory = MM_HOME\n    home_directory = MM_HOME\n    user = MM_UID\n    group = MM_GID\n"
msgstr ""

#: serverguide/C/mail.xml:944(para) 
msgid "All the configuration files belonging to transport type are stored in the <filename>/etc/exim4/conf.d/transport/</filename> directory. You can add the following content to a new file named <filename> 40_exim4-config_mailman</filename>: <placeholder-1/>"
msgstr ""

#: serverguide/C/mail.xml:971(programlisting) 
#, no-wrap
msgid "\n  mailman_router:\n   driver = accept\n   require_files = MM_HOME/lists/$local_part/config.pck\n   local_part_suffix_optional\n   local_part_suffix = -bounces : -bounces+* : \\\n                       -confirm+* : -join : -leave : \\\n                       -owner : -request : -admin\n   transport = mailman_transport\n"
msgstr ""

#: serverguide/C/mail.xml:967(para) 
msgid "All the configuration files belonging to router type are stored in the <filename>/etc/exim4/conf.d/router/</filename> directory. You can add the following content in to a new file named <filename>101_exim4-config_mailman</filename>: <placeholder-1/>"
msgstr ""

#: serverguide/C/mail.xml:984(para) 
msgid "The order of main and transport configuration files can be in any order. But, the order of router configuration files must be the same. This particular file must appear before the <application>200_exim4-config_primary</application> file. These two configuration files contain same type of information. The first file takes the precedence. For more details, please refer to the references section."
msgstr ""

#: serverguide/C/mail.xml:997(para) 
msgid "Once mailman is installed, you can run it using the following command:"
msgstr ""

#: serverguide/C/mail.xml:1001(command) 
msgid "sudo /etc/init.d/mailman start"
msgstr ""

#: serverguide/C/mail.xml:1003(para) 
msgid "Once mailman is installed, you should create the default mailing list. Run the following command to create the mailing list:"
msgstr ""

#: serverguide/C/mail.xml:1009(command) 
msgid "sudo /usr/sbin/newlist mailman"
msgstr ""

#: serverguide/C/mail.xml:1012(programlisting) 
#, no-wrap
msgid "\n  Enter the email address of the person running the list: bhuvan at ubuntu.com\n  Initial mailman password:\n  To finish creating your mailing list, you must edit your <filename>/etc/aliases</filename> (or\n  equivalent) file by adding the following lines, and possibly running the\n  `newaliases' program:\n\n  ## mailman mailing list\n  mailman:              \"|/var/lib/mailman/mail/mailman post mailman\"\n  mailman-admin:        \"|/var/lib/mailman/mail/mailman admin mailman\"\n  mailman-bounces:      \"|/var/lib/mailman/mail/mailman bounces mailman\"\n  mailman-confirm:      \"|/var/lib/mailman/mail/mailman confirm mailman\"\n  mailman-join:         \"|/var/lib/mailman/mail/mailman join mailman\"\n  mailman-leave:        \"|/var/lib/mailman/mail/mailman leave mailman\"\n  mailman-owner:        \"|/var/lib/mailman/mail/mailman owner mailman\"\n  mailman-request:      \"|/var/lib/mailman/mail/mailman request mailman\"\n  mailman-subscribe:    \"|/var/lib/mailman/mail/mailman subscribe mailman\"\n  mailman-unsubscribe:  \"|/var/lib/mailman/mail/mailman unsubscribe mailman\"\n\n  Hit enter to notify mailman owner...\n\n  # \n"
msgstr ""

#: serverguide/C/mail.xml:1035(para) 
msgid "We have configured either Postfix or Exim4 to recognize all emails from mailman. So, it is not mandatory to make any new entries in <filename>/etc/aliases</filename>. If you have made any changes to the configuration files, please ensure that you restart those services before continuing to next section."
msgstr ""

#: serverguide/C/mail.xml:1045(title) 
msgid "Administration"
msgstr ""

#: serverguide/C/mail.xml:1046(para) 
msgid "We assume you have a default installation. The mailman cgi scripts are still in the <application>/usr/lib/cgi-bin/mailman/</application> directory. Mailman provides a web based administration facility. To access this page, point your browser to the following url:"
msgstr ""

#: serverguide/C/mail.xml:1054(para) 
msgid "http://hostname/cgi-bin/mailman/admin"
msgstr ""

#: serverguide/C/mail.xml:1058(para) 
msgid "The default mailing list, <emphasis>mailman</emphasis>, will appear in this screen. If you click the mailing list name, it will ask for your authentication password. If you enter the correct password, you will be able to change administrative settings of this mailing list. You can create a new mailing list using the command line utility (<command>/usr/sbin/newlist</command>). Alternatively, you can create a new mailing list using the web interface."
msgstr ""

#: serverguide/C/mail.xml:1071(title) 
msgid "Users"
msgstr ""

#: serverguide/C/mail.xml:1072(para) 
msgid "Mailman provides a web based interface for users. To access this page, point your browser to the following url:"
msgstr ""

#: serverguide/C/mail.xml:1077(para) 
msgid "http://hostname/cgi-bin/mailman/listinfo"
msgstr ""

#: serverguide/C/mail.xml:1081(para) 
msgid "The default mailing list, <emphasis>mailman</emphasis>, will appear in this screen. If you click the mailing list name, it will display the subscription form. You can enter your email address, name (optional), and password to subscribe. An email invitation will be sent to you. You can follow the instructions in the email to subscribe."
msgstr ""

#: serverguide/C/mail.xml:1093(ulink) 
msgid "GNU Mailman - Installation Manual"
msgstr ""

#: serverguide/C/mail.xml:1097(ulink) 
msgid "HOWTO - Using Exim 4 and Mailman 2.1 together"
msgstr ""

#: serverguide/C/mail.xml:1103(title) 
msgid "Mail Filtering"
msgstr ""

#: serverguide/C/mail.xml:1104(para) 
msgid "One of the largest issues with email today is the problem of Unsolicited Bulk Email (UBE). Also known as SPAM, such messages may also carry viruses and other forms of malware. According to some reports these messages make up the bulk of all email traffic on the Internet."
msgstr ""

#: serverguide/C/mail.xml:1109(para) 
msgid "This section will cover integrating <application>Amavisd-new</application>, <application>Spamassassin</application>, and <application>ClamAV</application> with the <application>Postfix</application> Mail Transport Agent (MTA). <application>Postfix</application> can also check email validity by passing it through external content filters. These filters can sometimes determine if a message is spam without needing to process it with more resource intensive applications. Two common filters are <application>dkim-filter</application> and <application>python-policyd-spf</application>."
msgstr ""

#: serverguide/C/mail.xml:1119(para) 
msgid "<application>Amavisd-new</application> is a wrapper program that can call any number of content filtering programs for spam detection, antivirus, etc."
msgstr ""

#: serverguide/C/mail.xml:1125(para) 
msgid "<application>Spamassassin</application> uses a variety of mechanisms to filter email based on the message content."
msgstr ""

#: serverguide/C/mail.xml:1130(para) 
msgid "<application>ClamAV</application> is an open source antivirus application."
msgstr ""

#: serverguide/C/mail.xml:1135(para) 
msgid "<application>dkim-filter</application> implements a Sendmail Mail Filter (Milter) for the DomainKeys Identified Mail (DKIM) standard."
msgstr ""

#: serverguide/C/mail.xml:1141(para) 
msgid "<application>python-policyd-spf</application> enables Sender Policy Framework (SPF) checking with <application>Postfix</application>."
msgstr ""

#: serverguide/C/mail.xml:1146(para) 
msgid "This is how the pieces fit together:"
msgstr ""

#: serverguide/C/mail.xml:1151(para) 
msgid "An email message is accepted by <application>Postfix</application>."
msgstr ""

#: serverguide/C/mail.xml:1156(para) 
msgid "The message is passed through any external filters <application>dkim-filter</application> and <application>python-policyd-spf</application> in this case."
msgstr ""

#: serverguide/C/mail.xml:1162(para) 
msgid "<application>Amavisd-new</application> then processes the message."
msgstr ""

#: serverguide/C/mail.xml:1167(para) 
msgid "<application>ClamAV</application> is used to scan the message. If the message contains a virus <application>Postfix</application> will reject the message."
msgstr ""

#: serverguide/C/mail.xml:1173(para) 
msgid "Clean messages will then be analyzed by <application>Spamassassin</application> to find out if the message is spam. <application>Spamassassin</application> will then add X-Header lines allowing <application>Amavisd-new</application> to further manipulate the message."
msgstr ""

#: serverguide/C/mail.xml:1180(para) 
msgid "For example, if a message has a Spam score of over fifty the message could be automatically dropped from the queue without the recipient ever having to be bothered. Another, way to handle flagged messages is to deliver them to the Mail User Agent (MUA) allowing the user to deal with the message as they see fit."
msgstr ""

#: serverguide/C/mail.xml:1187(para) 
msgid "See <xref linkend=\"postfix\"/> for instructions on installing and configuring Postfix."
msgstr ""

#: serverguide/C/mail.xml:1190(para) 
msgid "To install the rest of the applications enter the following from a terminal prompt:"
msgstr ""

#: serverguide/C/mail.xml:1194(command) 
msgid "sudo apt-get install amavisd-new spamassassin clamav-daemon"
msgstr ""

#: serverguide/C/mail.xml:1195(command) 
msgid "sudo apt-get install dkim-filter python-policyd-spf"
msgstr ""

#: serverguide/C/mail.xml:1197(para) 
msgid "There are some optional packages that integrate with <application>Spamassassin</application> for better spam detection:"
msgstr ""

#: serverguide/C/mail.xml:1201(command) 
msgid "sudo apt-get install pyzor razor"
msgstr ""

#: serverguide/C/mail.xml:1203(para) 
msgid "Along with the main filtering applications compression utilities are needed to process some email attachments:"
msgstr ""

#: serverguide/C/mail.xml:1207(command) 
msgid "sudo apt-get install arj cabextract cpio lha nomarch pax rar unrar unzip unzoo zip zoo"
msgstr ""

#: serverguide/C/mail.xml:1212(para) 
msgid "Now configure everything to work together and filter email."
msgstr ""

#: serverguide/C/mail.xml:1216(title) 
msgid "ClamAV"
msgstr ""

#: serverguide/C/mail.xml:1217(para) 
msgid "The default behaviour of <application>ClamAV</application> will fit our needs. For more ClamAV configuration options, check the configuration files in <filename>/etc/clamav</filename>."
msgstr ""

#: serverguide/C/mail.xml:1222(para) 
msgid "Add the <emphasis>amavis</emphasis> user to the <emphasis>clamav</emphasis> group in order for <application>Amavisd-new</application> to have the appropriate access to scan files:"
msgstr ""

#: serverguide/C/mail.xml:1227(command) 
msgid "sudo adduser amavis clamav"
msgstr ""

#: serverguide/C/mail.xml:1231(title) 
msgid "Spamassassin"
msgstr ""

#: serverguide/C/mail.xml:1232(para) 
msgid "Spamassassin automatically detects optional components and will use them if they are present. This means that there is no need to configure <application>pyzor</application> and <application>razor</application>."
msgstr ""

#: serverguide/C/mail.xml:1236(para) 
msgid "Edit <filename>/etc/default/spamassassin</filename> to activate the <application>Spamassassin</application> daemon. Change <emphasis>ENABLED=0</emphasis> to:"
msgstr ""

#: serverguide/C/mail.xml:1240(programlisting) 
#, no-wrap
msgid "\nENABLED=1\n"
msgstr ""

#: serverguide/C/mail.xml:1243(para) 
msgid "Now start the daemon:"
msgstr ""

#: serverguide/C/mail.xml:1247(command) 
msgid "sudo /etc/init.d/spamassassin start"
msgstr ""

#: serverguide/C/mail.xml:1251(title) 
msgid "Amavisd-new"
msgstr ""

#: serverguide/C/mail.xml:1252(para) 
msgid "First activate spam and antivirus detection in <application>Amavisd-new</application> by editing <filename>/etc/amavis/conf.d/15-content_filter_mode</filename>:"
msgstr ""

#: serverguide/C/mail.xml:1256(programlisting) 
#, no-wrap
msgid "\nuse strict;\n\n# You can modify this file to re-enable SPAM checking through spamassassin\n# and to re-enable antivirus checking.\n\n#\n# Default antivirus checking mode\n# Uncomment the two lines below to enable it\n#\n\n@bypass_virus_checks_maps = (\n   \\%bypass_virus_checks, \\@bypass_virus_checks_acl, \\$bypass_virus_checks_re);\n\n\n#\n# Default SPAM checking mode\n# Uncomment the two lines below to enable it\n#\n\n@bypass_spam_checks_maps = (\n   \\%bypass_spam_checks, \\@bypass_spam_checks_acl, \\$bypass_spam_checks_re);\n\n1;  # insure a defined return\n"
msgstr ""

#: serverguide/C/mail.xml:1281(para) 
msgid "Bouncing spam can be a bad idea as the return address is often faked. Consider editing <filename>/etc/amavis/conf.d/20-debian_defaults</filename> to set <emphasis>$final_spam_destiny</emphasis> to D_DISCARD rather than D_BOUNCE, as follows:"
msgstr ""

#: serverguide/C/mail.xml:1286(programlisting) 
#, no-wrap
msgid "\n$final_spam_destiny       = D_DISCARD;\n"
msgstr ""

#: serverguide/C/mail.xml:1289(para) 
msgid "After configuration <application>Amavisd-new</application> needs to be restarted:"
msgstr ""

#: serverguide/C/mail.xml:1293(command) 
msgid "sudo /etc/init.d/amavis restart"
msgstr ""

#: serverguide/C/mail.xml:1298(para) 
msgid "For <application>Postfix</application> integration, enter the following from a terminal prompt:"
msgstr ""

#: serverguide/C/mail.xml:1302(command) 
msgid "sudo postconf -e 'content_filter = smtp-amavis:[127.0.0.1]:10024'"
msgstr ""

#: serverguide/C/mail.xml:1304(para) 
msgid "Next edit <filename>/etc/postfix/master.cf</filename> and add the following to the end of the file:"
msgstr ""

#: serverguide/C/mail.xml:1307(programlisting) 
#, no-wrap
msgid "\nsmtp-amavis     unix    -       -       -       -       2       smtp\n        -o smtp_data_done_timeout=1200\n        -o smtp_send_xforward_command=yes\n        -o disable_dns_lookups=yes\n        -o max_use=20\n\n127.0.0.1:10025 inet    n       -       -       -       -       smtpd\n        -o content_filter=\n        -o local_recipient_maps=\n        -o relay_recipient_maps=\n        -o smtpd_restriction_classes=\n        -o smtpd_delay_reject=no\n        -o smtpd_client_restrictions=permit_mynetworks,reject\n        -o smtpd_helo_restrictions=\n        -o smtpd_sender_restrictions=\n        -o smtpd_recipient_restrictions=permit_mynetworks,reject\n        -o smtpd_data_restrictions=reject_unauth_pipelining\n        -o smtpd_end_of_data_restrictions=\n        -o mynetworks=127.0.0.0/8\n        -o smtpd_error_sleep_time=0\n        -o smtpd_soft_error_limit=1001\n        -o smtpd_hard_error_limit=1000\n        -o smtpd_client_connection_count_limit=0\n        -o smtpd_client_connection_rate_limit=0\n        -o receive_override_options=no_header_body_checks,no_unknown_recipient_checks\n"
msgstr ""

#: serverguide/C/mail.xml:1334(para) 
msgid "Also add the following two lines immediately below the <emphasis>\"pickup\"</emphasis> transport service:"
msgstr ""

#: serverguide/C/mail.xml:1337(programlisting) 
#, no-wrap
msgid "\n         -o content_filter=\n         -o receive_override_options=no_header_body_checks\n"
msgstr ""

#: serverguide/C/mail.xml:1341(para) 
msgid "This will prevent messages that are generated to report on spam from being classified as spam."
msgstr ""

#: serverguide/C/mail.xml:1344(para) 
msgid "Now restart <application>Postfix</application>:"
msgstr ""

#: serverguide/C/mail.xml:1350(para) 
msgid "Content filtering with spam and virus detection is now enabled."
msgstr ""

#: serverguide/C/mail.xml:1357(para) 
msgid "First, test that the <application>Amavisd-new</application> SMTP is listening:"
msgstr ""

#: serverguide/C/mail.xml:1360(programlisting) 
#, no-wrap
msgid "\ntelnet localhost 10024\nTrying 127.0.0.1...\nConnected to localhost.\nEscape character is '^]'.\n220 [127.0.0.1] ESMTP amavisd-new service ready\n^]\n"
msgstr ""

#: serverguide/C/mail.xml:1368(para) 
msgid "In the Header of messages that go through the content filter you should see:"
msgstr ""

#: serverguide/C/mail.xml:1371(programlisting) 
#, no-wrap
msgid "\nX-Spam-Level: \nX-Virus-Scanned: Debian amavisd-new at example.com\nX-Spam-Status: No, hits=-2.3 tagged_above=-1000.0 required=5.0 tests=AWL, BAYES_00\nX-Spam-Level: \n"
msgstr ""

#: serverguide/C/mail.xml:1378(para) 
msgid "Your output will vary, but the important thing is that there are <emphasis>X-Virus-Scanned</emphasis> and <emphasis>X-Spam-Status</emphasis> entries."
msgstr ""

#: serverguide/C/mail.xml:1386(para) 
msgid "The best way to figure out why something is going wrong is to check the log files."
msgstr ""

#: serverguide/C/mail.xml:1391(para) 
msgid "For instructions on <application>Postfix</application> logging see the <xref linkend=\"postfix-troubleshooting\"/> section."
msgstr ""

#: serverguide/C/mail.xml:1397(para) 
msgid "<application>Amavisd-new</application> uses <application>Syslog</application> to send messages to <filename>/var/log/mail.log</filename>. The amount of detail can be increased by adding the <emphasis>$log_level</emphasis> option to <filename>/etc/amavis/conf.d/50-user</filename>, and setting the value from 1 to 5."
msgstr ""

#: serverguide/C/mail.xml:1402(programlisting) 
#, no-wrap
msgid "\n$log_level = 2;\n"
msgstr ""

#: serverguide/C/mail.xml:1406(para) 
msgid "When the <application>Amavisd-new</application> log output is increased <application>Spamassassin</application> log output is also increased."
msgstr ""

#: serverguide/C/mail.xml:1413(para) 
msgid "The <application>ClamAV</application> log level can be increased by editing <filename>/etc/clamav/clamd.conf</filename> and setting the following option:"
msgstr ""

#: serverguide/C/mail.xml:1417(programlisting) 
#, no-wrap
msgid "\nLogVerbose true\n"
msgstr ""

#: serverguide/C/mail.xml:1420(para) 
msgid "By default <application>ClamAV</application> will send log messages to <filename>/var/log/clamav/clamav.log</filename>."
msgstr ""

#: serverguide/C/mail.xml:1426(para) 
msgid "After changing an applications log settings remember to restart the service for the new settings to take affect. Also, once the issue you are troubleshooting is resolved it is a good idea to change the log settings back to normal."
msgstr ""

#: serverguide/C/mail.xml:1434(para) 
msgid "For more information on filtering mail see the following links:"
msgstr ""

#: serverguide/C/mail.xml:1440(ulink) 
msgid "Amavisd-new Documentation"
msgstr ""

#: serverguide/C/mail.xml:1444(para) 
msgid "<ulink url=\"http://www.clamav.org/doc/latest/html/\">ClamAV Documentation</ulink> and <ulink url=\"http://wiki.clamav.net/Main/WebHome\">ClamAV Wiki</ulink>"
msgstr ""

#: serverguide/C/mail.xml:1451(ulink) 
msgid "Spamassassin Wiki"
msgstr ""

#: serverguide/C/mail.xml:1456(ulink) 
msgid "Pyzor Homepage"
msgstr ""

#: serverguide/C/mail.xml:1461(ulink) 
msgid "Razor Homepage"
msgstr ""

#: serverguide/C/mail.xml:1465(para) 
msgid "Also, feel free to ask questions in the <emphasis>#ubuntu-server</emphasis> IRC channel on <ulink url=\"http://freenode.net\">freenode</ulink>."
msgstr ""

#: serverguide/C/jeos.xml:13(title) 
msgid "JeOS"
msgstr ""

#: serverguide/C/jeos.xml:14(para) 
msgid "Ubuntu <emphasis>JeOS</emphasis> (pronounced \"Juice\") is an efficient variant of the Ubuntu Server operating system, configured specifically for virtual appliances. Currently available as a CD-ROM ISO for download, JeOS is a specialized installation of Ubuntu Server Edition with a tuned kernel that only contains the base elements needed to run within a virtualized environment."
msgstr ""

#: serverguide/C/jeos.xml:20(para) 
msgid "Ubuntu JeOS has been tuned to take advantage of key performance technologies in the latest virtualization products from <emphasis>VMware</emphasis>, and also the Open Source virtualization technology <emphasis>KVM</emphasis>, which utilizes the latest hardware virtualization optimizations from Intel and AMD. This combination of reduced size and optimized performance ensures that Ubuntu JeOS Edition delivers a highly efficient use of server resources in large virtual deployments."
msgstr ""

#: serverguide/C/jeos.xml:26(para) 
msgid "Without unnecessary drivers, and only the minimal required packages, ISVs can configure their supporting OS exactly as they require. They have the peace of mind that updates, whether for security or enhancement reasons, will be limited to the bare minimum of what is required in their specific environment. In turn, users deploying virtual appliances built on top of JeOS will have to go through fewer updates and therefore less maintenance than they would have had to with a standard full installation of a server."
msgstr ""

#: serverguide/C/jeos.xml:34(title) 
msgid "Initial Setup"
msgstr ""

#: serverguide/C/jeos.xml:35(para) 
msgid "At this point in time, JeOS is meant to run under VMware Server, VMware ESX, and KVM. It may not work under other virtualization technologies yet. It is assumed in this tutorial that you have already installed a VMware or KVM environment. We also assume that you know how to use a text based text editor such as <application>nano</application> or <application>vi</application>. If you have not used any of them before, you can get an overview of the various text editors available by reading the <ulink url=\"https://help.ubuntu.com/community/PowerUsersTextEditors\">PowerUsersTextEditors</ulink> page."
msgstr ""

#: serverguide/C/jeos.xml:42(para) 
msgid "For information on setting up a <emphasis>KVM</emphasis> environment using <application>libvirt</application> see <xref linkend=\"libvirt\"/>."
msgstr ""

#: serverguide/C/jeos.xml:47(title) 
msgid "Downloading JeOS"
msgstr ""

#: serverguide/C/jeos.xml:48(para) 
msgid "The latest version of JeOS iso image can be downloaded from the <ulink url=\"http://cdimage.ubuntu.com/jeos/releases/\">Ubuntu</ulink> website. To download JeOS using the command line utility <application>wget</application> from a terminal prompt enter:"
msgstr ""

#: serverguide/C/jeos.xml:54(command) 
msgid "wget http://cdimage.ubuntu.com/jeos/releases/8.10/release/ubuntu-8.10-jeos-i386.iso"
msgstr ""

#: serverguide/C/jeos.xml:56(para) 
msgid "It is always a good idea to verify the <emphasis>md5</emphasis> sum of the downloaded file by comparing the content of <ulink url=\"http://cdimage.ubuntu.com/jeos/releases/8.10/release/MD5SUMS\">JeOS MD5SUM</ulink> with the result of:"
msgstr ""

#: serverguide/C/jeos.xml:61(command) 
msgid "md5sum ubuntu-8.10-jeos-i386.iso"
msgstr ""

#: serverguide/C/jeos.xml:63(para) 
msgid "If the values are not the same, you should try to download the file again."
msgstr ""

#: serverguide/C/jeos.xml:69(title) 
msgid "JeOS Installation"
msgstr ""

#: serverguide/C/jeos.xml:70(para) 
msgid "Installation of JeOS is done the same way you would install any other OS in VMware/KVM, but here are a few thing to consider:"
msgstr ""

#: serverguide/C/jeos.xml:75(para) 
msgid "If you plan on shipping a virtual appliance, do not assume that the end-user will know how to extend disk size to fit their need, so either plan for a large virtual disk to allow for your appliance to grow, or explain fairly well in your documentation how to allocate more space."
msgstr ""

#: serverguide/C/jeos.xml:82(para) 
msgid "Given that RAM is much easier to allocate in a VM, RAM size should be set to whatever you think is a safe minimum for your appliance."
msgstr ""

#: serverguide/C/jeos.xml:87(para) 
msgid "Another option for installing a <application>JeOS</application> virtual machine, is to use <application>ubuntu-vm-builder</application>. If using a local mirror <application>ubuntu-vm-builder</application> can significantly reduce the virtual machine creation time. It also allows you to add extra packages during the install process, set the IP Address, etc. See <xref linkend=\"ubuntu-vm-builder\"/>."
msgstr ""

#: serverguide/C/jeos.xml:93(title) 
msgid "Defining the Virtual Machine"
msgstr ""

#: serverguide/C/jeos.xml:94(para) 
msgid "The following example is based on using VMware server:"
msgstr ""

#: serverguide/C/jeos.xml:99(para) 
msgid "Create a new virtual machine."
msgstr ""

#: serverguide/C/jeos.xml:104(para) 
msgid "Click next."
msgstr ""

#: serverguide/C/jeos.xml:109(para) 
msgid "Select Custom configuration, click next."
msgstr ""

#: serverguide/C/jeos.xml:114(para) 
msgid "Select Linux, pick Ubuntu in the version drop down menu, click next."
msgstr ""

#: serverguide/C/jeos.xml:119(para) 
msgid "Pick a name for your virtual appliance (use something that makes sense for your product), click next."
msgstr ""

#: serverguide/C/jeos.xml:124(para) 
msgid "Pick one processor (always default to the lowest configuration you think your users may have), click next."
msgstr ""

#: serverguide/C/jeos.xml:129(para) 
msgid "Letting the machine be private is a good secure basis, click next."
msgstr ""

#: serverguide/C/jeos.xml:134(para) 
msgid "Pick the minimum RAM you think your appliance will need (this can be changed easily by the user later on). Click next."
msgstr ""

#: serverguide/C/jeos.xml:139(para) 
msgid "Bridged networking might seem a sensible default to simplify user set-up later on, click next."
msgstr ""

#: serverguide/C/jeos.xml:144(para) 
msgid "Do not use default SCSI at this point, use IDE, as SCSI drivers are not included in the kernel. Click next."
msgstr ""

#: serverguide/C/jeos.xml:149(para) 
msgid "Pick a disk size that makes sense for your virtual appliance. A minimum of 8G seems reasonable, particularly if you do not pick allocate disk space now. Split the disk into 2Gb files makes sense if you want to allow storage on FAT volumes. Click next."
msgstr ""

#: serverguide/C/jeos.xml:156(para) 
msgid "Pick where you want to store the disk image, click Finish."
msgstr ""

#: serverguide/C/jeos.xml:163(title) 
msgid "JeOS Installation Parameters"
msgstr ""

#: serverguide/C/jeos.xml:164(para) 
msgid "Once your machine has been defined, you need to start it, but before you do that you need to tell it to boot from the ISO image you downloaded earlier. The installer for JeOS is very similar to the Ubuntu Server Installer, but as we are preparing a virtual appliance, there are a few steps that we want to change from a regular install."
msgstr ""

#: serverguide/C/jeos.xml:170(title) 
msgid "Assigning a fixed IP address"
msgstr ""

#: serverguide/C/jeos.xml:171(para) 
msgid "As a virtual appliance that may be deployed on various very different networks, it is very difficult to know what the actual network will look like. In order to simplify configuration, it is a good idea to take an approach similar to what network hardware vendors usually do, namely assigning an initial fixed IP address to the appliance in a private class network that you will provide in your documentation. An address in the range 192.168.0.0/255 is usually a good choice."
msgstr ""

#: serverguide/C/jeos.xml:177(para) 
msgid "When you arrive at the screen <emphasis>Configure your network</emphasis> asking you to provide a hostname for this machine:"
msgstr ""

#: serverguide/C/jeos.xml:182(para) 
msgid "Press escape to access the network configuration menu."
msgstr ""

#: serverguide/C/jeos.xml:187(para) 
msgid "Select Configure network manually in the next screen."
msgstr ""

#: serverguide/C/jeos.xml:192(para) 
msgid "Enter a fixed IP address and other network information in the subsequent screen."
msgstr ""

#: serverguide/C/jeos.xml:197(para) 
msgid "Once this is done, the installer will continue to its next steps automatically"
msgstr ""

#: serverguide/C/jeos.xml:204(title) 
msgid "Partitioning"
msgstr ""

#: serverguide/C/jeos.xml:205(para) 
msgid "Partitioning of the virtual appliance will have to take into consideration what you are planning to do with is. As stated before, do not pick one of the LVM choice as it will fail, LVM not being provided by default on JeOS at this time. Because most appliances will run as server, using separate <filename>/home</filename>, <filename>/usr</filename>, <filename>/var</filename> and <filename>/tmp</filename> partition would make sense."
msgstr ""

#: serverguide/C/jeos.xml:213(title) 
msgid "User and Password"
msgstr ""

#: serverguide/C/jeos.xml:214(para) 
msgid "Again setting up a virtual appliance, you will need to provide a default user and password that is generic so that you can include it in your documentation. We will see later on in this tutorial how we will provide some security by defining a script that will be run the first time a user actually logs in the appliance, that will, among other things, ask him to change his password. In this example I will use <emphasis>'user'</emphasis> as my user name, and <emphasis>'default'</emphasis> as the password."
msgstr ""

#: serverguide/C/jeos.xml:225(title) 
msgid "Preparing the OS"
msgstr ""

#: serverguide/C/jeos.xml:226(para) 
msgid "Once we are done with the initial installation of JeOS and our virtual machine is now waiting with a login prompt, we now have to prepare our operating to accommodate our application. It is generally a good time to make a snapshot of your clean VMware image, so that if a mistake is made later on, it will be possible to revert to a blank page without having to reinstall everything."
msgstr ""

#: serverguide/C/jeos.xml:232(para) 
msgid "The very first thing to do after install of the system is to check that it is up to date. This is done by running:"
msgstr ""

#: serverguide/C/jeos.xml:236(command) 
msgid "sudo apt-get update &amp;&amp; sudo apt-get upgrade"
msgstr ""

#: serverguide/C/jeos.xml:239(title) 
msgid "Installing VMware Tools"
msgstr ""

#: serverguide/C/jeos.xml:240(para) 
msgid "VMware Tools will allow to have a better control of our appliance by the VMware environment, so it is a pretty good idea to set it up."
msgstr ""

#: serverguide/C/jeos.xml:246(para) 
msgid "First setup our environment by installing the build tools:"
msgstr ""

#: serverguide/C/jeos.xml:250(command) 
msgid "sudo aptitude install build-essential linux-headers-$(uname -r)"
msgstr ""

#: serverguide/C/jeos.xml:254(para) 
msgid "Next ask VMware to mount the VMwareTools CD by clicking on VM &gt; Install VMware Tools… in the VMware Server menu."
msgstr ""

#: serverguide/C/jeos.xml:259(para) 
msgid "Mount the cdrom:"
msgstr ""

#: serverguide/C/jeos.xml:263(command) 
msgid "mount /media/cdrom0"
msgstr ""

#: serverguide/C/jeos.xml:267(para) 
msgid "Copy the tools to the tmp directory and uncompress them:"
msgstr ""

#: serverguide/C/jeos.xml:271(command) 
msgid "sudo cp -a /media/cdrom0/VMwareTools*.gz /tmp/"
msgstr ""

#: serverguide/C/jeos.xml:272(command) 
msgid "cd /tmp/"
msgstr ""

#: serverguide/C/jeos.xml:273(command) 
msgid "sudo tar -xzvf VMwareTools*.gz"
msgstr ""

#: serverguide/C/jeos.xml:277(para) 
msgid "Run the <application>vmware-install.pl</application> script accepting all the defaults:"
msgstr ""

#: serverguide/C/jeos.xml:281(command) 
msgid "cd vmware-tools-distrib/"
msgstr ""

#: serverguide/C/jeos.xml:282(command) 
msgid "sudo ./vmware-install.pl"
msgstr ""

#: serverguide/C/jeos.xml:286(para) 
msgid "Also available for <application>VMware</application> is the <application>open-vm-tools</application> package, an Open Source implementation of <application>VMware Tools</application>. If using <application>KVM</application> at this time there is no equivalent package, however."
msgstr ""

#: serverguide/C/jeos.xml:291(para) 
msgid "To install <application>open-vm-tools</application> from a terminal prompt enter:"
msgstr ""

#: serverguide/C/jeos.xml:295(command) 
msgid "sudo apt-get install open-vm-tools"
msgstr ""

#: serverguide/C/jeos.xml:299(title) 
msgid "Installing Required Packages"
msgstr ""

#: serverguide/C/jeos.xml:300(para) 
msgid "In this example we will be installing a very simple application consisting of a web page that accesses a <application>MySQL</application> database. We will therefore require our OS to provide us with:"
msgstr ""

#: serverguide/C/jeos.xml:305(para) 
msgid "Apache"
msgstr ""

#: serverguide/C/jeos.xml:306(para) 
msgid "PHP"
msgstr ""

#: serverguide/C/jeos.xml:307(para) serverguide/C/jeos.xml:356(emphasis) serverguide/C/databases.xml:19(trademark) serverguide/C/databases.xml:31(title) 
msgid "MySQL"
msgstr ""

#: serverguide/C/jeos.xml:309(para) 
msgid "Which is in the end a basic LAMP stack that we will pull in one single step using the <application>apt-get</application> command:"
msgstr ""

#: serverguide/C/jeos.xml:313(command) 
msgid "sudo tasksel install lamp-server"
msgstr ""

#: serverguide/C/jeos.xml:316(para) 
msgid "Note that at this point we could easily install any additional packages that we might need using, for example, the <application>aptitude</application> command line utility."
msgstr ""

#: serverguide/C/jeos.xml:321(para) 
msgid "Once we are done installing our base packages, it is another good time to do a snapshot our virtual machine. We also can save the intermediary steps by doing a full copy of the virtual machine by issuing the following command on our host after powering it down (you will have to adapt it to your particular environment):"
msgstr ""

#: serverguide/C/jeos.xml:327(command) 
msgid "cp -rf /var/lib/vmware/Virtual\\ Machines/JeOS /var/lib/vmware/Virtual\\ Machines/JeOS-basePackages/"
msgstr ""

#: serverguide/C/jeos.xml:331(title) 
msgid "Security Considerations"
msgstr ""

#: serverguide/C/jeos.xml:335(emphasis) 
msgid "OpenSSH"
msgstr ""

#: serverguide/C/jeos.xml:337(para) 
msgid "Another convenient tool that we want to have on our appliance is <application>OpenSSH</application>, as it will provide our admins to access to access the appliance remotely. However, pushing in the wild an appliance with a pre-installed OpenSSH server is a big security risk as all these server will share the same secret key, making it very easy for hackers to target our appliance with all the tools they need to crack it open in a breeze. As for the user password, we will instead rely on a script that will install OpenSSH the first time a user logs in so that the key generated will be different for each appliance."
msgstr ""

#: serverguide/C/jeos.xml:345(para) 
msgid "However, it might be simpler during the set-up to access our appliance using ssh, so we still install it at this time, but we will need to make sure that fully removed by the time we ship our appliance, which is described in the last part of this tutorial. To install it, simply run:"
msgstr ""

#: serverguide/C/jeos.xml:358(para) 
msgid "When we ran apt-get to install the lamp-server^, the only question we were asked was to provide a default password for MySQL. It would not be wise to have all our deployed appliances to use the same password, so we will have to have it changed as well the first time a user logs in our appliance."
msgstr ""

#: serverguide/C/jeos.xml:368(title) 
msgid "Installing and Maintaining the Application"
msgstr ""

#: serverguide/C/jeos.xml:369(para) 
msgid "In general this is a 4 step process:"
msgstr ""

#: serverguide/C/jeos.xml:374(para) 
msgid "Package our application so that it is easily deployable."
msgstr ""

#: serverguide/C/jeos.xml:379(para) 
msgid "Finish to prepare the system so that our application can run. Here we will simply create a MySQL user for our application to use."
msgstr ""

#: serverguide/C/jeos.xml:385(para) 
msgid "Install the application. Here we will just add a single file in <filename>/opt/sample-app/</filename> and configure Apache to access it."
msgstr ""

#: serverguide/C/jeos.xml:391(para) 
msgid "Setup the system so that it will be automatically updated everyday."
msgstr ""

#: serverguide/C/jeos.xml:397(title) 
msgid "Package the Application"
msgstr ""

#: serverguide/C/jeos.xml:398(para) 
msgid "Two option are available to us:"
msgstr ""

#: serverguide/C/jeos.xml:403(para) 
msgid "The recommended method to do so is to make a <emphasis>Debian</emphasis> package. Since this is outside of the scope of this tutorial, we will not perform this here and invite the reader to read the documentation on how to do this in the <ulink url=\"https://wiki.ubuntu.com/PackagingGuide\">Ubuntu Packaging Guide</ulink>. In this case it is also a good idea to setup a repository for your package so that updates can be conveniently pulled from it. See the <ulink url=\"http://www.debian-administration.org/articles/286\">Debian Administration</ulink> article for a tutorial on this."
msgstr ""

#: serverguide/C/jeos.xml:412(para) 
msgid "Manually install the application under <filename>/opt</filename> as recommended by the <ulink url=\"http://www.pathname.com/fhs/\">FHS guidelines</ulink>. This is the approach we will be using here for more simplicity even though this is not the one we would recommend for any serious application as it does mean more complexity in maintaining it. We cover this in <xref linkend=\"jeos-application-updates\"/>."
msgstr ""

#: serverguide/C/jeos.xml:422(title) 
msgid "Setting Up a MySQL User"
msgstr ""

#: serverguide/C/jeos.xml:423(para) 
msgid "Our application requires to access the MySQL database. For security reasons, we do not want this user to be the root MySQL user, so we define a user named <emphasis>www-data</emphasis> that has read access to the local databases and can only connect locally with some password."
msgstr ""

#: serverguide/C/jeos.xml:430(para) 
msgid "First we need to connect to the MySQL monitor using the default password we specified earlier:"
msgstr ""

#: serverguide/C/jeos.xml:435(programlisting) 
#, no-wrap
msgid "\nuser@JeOS:$ mysql -p --user=root\nEnter password: \nWelcome to the MySQL monitor.  Commands end with ; or \\g.\nYour MySQL connection id is 9\nServer version: 5.0.45-Debian_1ubuntu3-log Debian etch distribution\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the buffer.\n\nmysql&gt;\n"
msgstr ""

#: serverguide/C/jeos.xml:448(para) 
msgid "Then we can create our user and exit the MySQL monitor:"
msgstr ""

#: serverguide/C/jeos.xml:453(programlisting) 
#, no-wrap
msgid "\nmysql&gt; GRANT SELECT ON *.* TO 'www-data'@'localhost' IDENTIFIED BY 'password';\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql&gt; exit\nBye\nuser@JeOS:$\n"
msgstr ""

#: serverguide/C/jeos.xml:463(title) 
msgid "Installing our Application"
msgstr ""

#: serverguide/C/jeos.xml:464(para) 
msgid "In this example our application is a very simple PHP page that lists the databases available in MySQL:"
msgstr ""

#: serverguide/C/jeos.xml:467(programlisting) 
#, no-wrap
msgid "\n&lt;?php\nsession_start();\n?&gt;\n\n&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\"&gt;\n&lt;html&gt;\n&lt;head&gt;\n   &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=iso-8859-1\"&gt;\n   &lt;meta name=\"description\" content=\"Database List\"&gt;\n   &lt;title&gt;Database List&gt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;Database list&lt;/h1&gt;\n\n&lt;ul&gt;\n&lt;?php\nerror_reporting(E_ALL);\n\n$link = mysql_connect('localhost', 'www-data', 'password');\n$db_list = mysql_list_dbs($link);\n\n$i = 0;\n$cnt = mysql_num_rows($db_list);\nwhile ($i &lt; $cnt) {\n    echo \"&lt;li&gt;\" . mysql_db_name($db_list, $i) . \"&lt;/li&gt;\\n\";\n    $i++;\n}\n?&gt;\n&lt;/ul&gt;\n\n&lt;/body&gt;\n&lt;/html&gt; \n"
msgstr ""

#: serverguide/C/jeos.xml:501(para) 
msgid "To install it:"
msgstr ""

#: serverguide/C/jeos.xml:507(command) 
msgid "sudo mkdir /opt/sample-app/"
msgstr ""

#: serverguide/C/jeos.xml:511(para) 
msgid "Open the file <filename>/opt/sample-app/index.php</filename> using sudo with your text editor of choice."
msgstr ""

#: serverguide/C/jeos.xml:516(para) 
msgid "Paste the above page content in the text editor, save and exit."
msgstr ""

#: serverguide/C/jeos.xml:521(para) 
msgid "<command>sudo chown -R www-data:www-data /opt/sample-app</command> to allow Apache to read it."
msgstr ""

#: serverguide/C/jeos.xml:526(para) 
msgid "Then we just need to modify Apache default configuration to point to our application directory:"
msgstr ""

#: serverguide/C/jeos.xml:531(para) 
msgid "Open the file <filename>/etc/apache2/sites-enabled/000-default</filename> using sudo with your text editor of choice."
msgstr ""

#: serverguide/C/jeos.xml:536(para) 
msgid "Change all instances of <filename>/var/www/</filename> to <filename>/opt/sample-app</filename>"
msgstr ""

#: serverguide/C/jeos.xml:541(para) 
msgid "Save and exit."
msgstr ""

#: serverguide/C/jeos.xml:547(command) 
msgid "sudo /etc/init.d/apache2 reload"
msgstr ""

#: serverguide/C/jeos.xml:551(para) 
msgid "You can now test your application by pointing your browser to the IP address of the virtual appliance."
msgstr ""

#: serverguide/C/jeos.xml:556(title) 
msgid "Configuring Automatic Updates"
msgstr ""

#: serverguide/C/jeos.xml:557(para) 
msgid "To have your system be configured to update itself on a regular basis, we will just install unattended-upgrades:"
msgstr ""

#: serverguide/C/jeos.xml:561(command) 
msgid "sudo aptitude install unattended-upgrades"
msgstr ""

#: serverguide/C/jeos.xml:564(title) 
msgid "How to Get Your Application Updated"
msgstr ""

#: serverguide/C/jeos.xml:565(para) 
msgid "If you decided to package your application as a Debian package and did setup your own repository, all you need to do is to add your repository to <filename>/etc/apt/source.list.d/</filename>. The above auto-update cron will then pull the update each time you provide it in your repository. Another advantage of using a packaged approach is that, if your dependencies evolve during the life of your application, all updated dependencies will be automatically installed in the same process."
msgstr ""

#: serverguide/C/jeos.xml:572(para) 
msgid "If you decided to install your application manually, it is really up to you on how you will be automating the updates. A possible solution would be to:"
msgstr ""

#: serverguide/C/jeos.xml:578(para) 
msgid "Place a <application>tar</application> file with your app on some HTTP server along with a version file."
msgstr ""

#: serverguide/C/jeos.xml:583(para) 
msgid "Create a script that is placed in <filename>/etc/cron.daily</filename> that regularly compares the version file on the server with the version file that you would have stored in <filename>/opt/sample-app/</filename>"
msgstr ""

#: serverguide/C/jeos.xml:589(para) 
msgid "Download and apply the new tar file if the version available on-line is greater."
msgstr ""

#: serverguide/C/jeos.xml:594(para) 
msgid "Reload Apache."
msgstr ""

#: serverguide/C/jeos.xml:603(title) 
msgid "Preparing First User Boot"
msgstr ""

#: serverguide/C/jeos.xml:604(para) 
msgid "Because of the security risks we outlined earlier, we need to have a few tasks performed the first time a user logs in:"
msgstr ""

#: serverguide/C/jeos.xml:609(para) 
msgid "Re-install OpenSSH if the appliance can be accessed this way."
msgstr ""

#: serverguide/C/jeos.xml:614(para) 
msgid "Ask for a new user password."
msgstr ""

#: serverguide/C/jeos.xml:619(para) 
msgid "Ask for a new MySQL root password"
msgstr ""

#: serverguide/C/jeos.xml:624(para) 
msgid "Regenerate the SSL certificate if our application can be accessed through SSL."
msgstr ""

#: serverguide/C/jeos.xml:629(para) 
msgid "To do so we will add a line to the very end of <filename>/etc/bash.bashrc</filename>:"
msgstr ""

#: serverguide/C/jeos.xml:632(programlisting) 
#, no-wrap
msgid "\nif [ ! -e /etc/opt/sample-app/initial_config_done ]; then\n  /opt/sample-app/bin/initial_config\n  sudo touch /etc/opt/sample-app/initial_config_done\nfi\n"
msgstr ""

#: serverguide/C/jeos.xml:638(para) 
msgid "Through this line, the script <filename>/opt/sample-app/bin/initial_config</filename> will be executed upon first login if the file <filename>/etc/opt/sample-app/initial_config_done</filename> does not exist. So we now need to:"
msgstr ""

#: serverguide/C/jeos.xml:644(para) 
msgid "Create the directory <filename>/etc/opt/sample-app/</filename>: <command>sudo mkdir /etc/opt/sample-app/</command>."
msgstr ""

#: serverguide/C/jeos.xml:649(para) 
msgid "Create the script <filename>/opt/sample-app/bin/initial_config</filename> using sudo pasting the script below using your text editor of choice:"
msgstr ""

#: serverguide/C/jeos.xml:655(programlisting) 
#, no-wrap
msgid "\n#!/bin/bash\n# Let's change the user's password\necho \"Thank you for choosing our sample-app appliance\"\necho \"For the security of the appliance, we need you to change this user password now.\"\npasswd\n\n# Now change the MySQL password\necho \"We now need you to specify a new MySQL root password\"\nlet done=0\nwhile [ $done -eq 0 ]; do\n  read -e -s -r -p \"New MySQL root password:\" PASS1\n  echo \"\"\n  read -e -s -r -p \"Retype MySQL root password:\" PASS2\n  if [[ \"$PASS1\" == \"$PASS2\" ]]; then\n    let done=1\n    #perform the actual change assuming that our initial password is default\n    mysqladmin -u root --password='default' password $PASS1\n  else\n    echo \"The 2 passwords did not match, please try again.\"\n  fi\ndone\n\n#Perform the reinstall of OpenSSH so that the key is regenerated\necho \"We are now going to generate your ssh keys.\"\nsudo apt-get --purge -y remove openssh-server\nsudo apt-get install -y openssh-server\n\n# You can add here any first user login actions that you require\n"
msgstr ""

#: serverguide/C/jeos.xml:687(para) 
msgid "Make it executable: <command>sudo chmod a+x /opt/sample-app/bin/initial_config</command>"
msgstr ""

#: serverguide/C/jeos.xml:694(title) 
msgid "Cleaning Before Shipping"
msgstr ""

#: serverguide/C/jeos.xml:695(para) 
msgid "After testing our appliance a bit, it is now time to make it clean before shipping it:"
msgstr ""

#: serverguide/C/jeos.xml:700(para) 
msgid "Remove the <filename>/etc/opt/sample-app/initial_config_done</filename> file:"
msgstr ""

#: serverguide/C/jeos.xml:704(command) 
msgid "sudo rm /etc/opt/sample-app/initial_config_done"
msgstr ""

#: serverguide/C/jeos.xml:708(para) 
msgid "Reset the passwords to their default values if you have changed them."
msgstr ""

#: serverguide/C/jeos.xml:713(para) 
msgid "Remove services that are no longer needed (remember to remove configuration files, too, so use sudo aptitude purge, sudo apt-get --purge remove, or sudo dpkg -P whichever tool you prefer). From our example this would include:"
msgstr ""

#: serverguide/C/jeos.xml:718(para) 
msgid "openssh-server"
msgstr ""

#: serverguide/C/jeos.xml:719(para) 
msgid "build-essentials"
msgstr ""

#: serverguide/C/jeos.xml:720(para) 
msgid "linux-headers-$(uname -r)"
msgstr ""

#: serverguide/C/jeos.xml:724(para) 
msgid "Clear out the apt cache:"
msgstr ""

#: serverguide/C/jeos.xml:728(command) 
msgid "sudo apt-get clean"
msgstr ""

#: serverguide/C/jeos.xml:732(para) 
msgid "Remove $HOME/.ssh for both user and root:"
msgstr ""

#: serverguide/C/jeos.xml:736(command) 
msgid "sudo rm -rf /home/user/.ssh &amp;&amp; sudo rm -rf /root/.ssh"
msgstr ""

#: serverguide/C/jeos.xml:740(para) 
msgid "Remove any build directories that may have been used in the process. In our example that would be the contents of the <filename>/tmp</filename> directory."
msgstr ""

#: serverguide/C/jeos.xml:746(para) 
msgid "Remove the history of your commands:"
msgstr ""

#: serverguide/C/jeos.xml:750(command) 
msgid "history -c"
msgstr ""

#: serverguide/C/jeos.xml:754(para) 
msgid "Shutdown the system."
msgstr ""

#: serverguide/C/jeos.xml:759(para) 
msgid "In VMware management console:"
msgstr ""

#: serverguide/C/jeos.xml:763(para) 
msgid "Go to your virtual machine settings."
msgstr ""

#: serverguide/C/jeos.xml:764(para) 
msgid "Select the virtual disk."
msgstr ""

#: serverguide/C/jeos.xml:765(para) 
msgid "Defragment it (which should reclaim all the space you freed, making your appliance smaller)."
msgstr ""

#: serverguide/C/jeos.xml:769(para) 
msgid "Your appliance is ready for shipment!"
msgstr ""

#: serverguide/C/jeos.xml:777(para) 
msgid "If you are interested in learning more, have questions or suggestions, please contact the Ubuntu Server Team at:"
msgstr ""

#: serverguide/C/jeos.xml:782(para) 
msgid "IRC: #ubuntu-server on freenode"
msgstr ""

#: serverguide/C/jeos.xml:787(para) 
msgid "Mailing list: <ulink url=\"https://lists.ubuntu.com/mailman/listinfo/ubuntu-server\">ubuntu-server at lists.ubuntu.com</ulink>"
msgstr ""

#: serverguide/C/introduction.xml:14(para) 
msgid "Welcome to the <emphasis>Ubuntu Server Guide</emphasis>!"
msgstr ""

#: serverguide/C/introduction.xml:15(para) 
msgid "Here you can find information on how to install and configure various server applications. It is a step-by-step, task-oriented guide for configuring and customizing your system."
msgstr ""

#: serverguide/C/introduction.xml:19(para) 
msgid "This guide assumes you have a basic understanding of your Ubuntu system. Some installation details are covered in <xref linkend=\"installation\"/>, but if you need detailed instructions installing Ubuntu please refer to the <ulink url=\"https://help.ubuntu.com/8.10/installation-guide/\">Ubuntu Installation Guide</ulink>."
msgstr ""

#: serverguide/C/introduction.xml:25(para) 
msgid "A HTML version of the manual is available online at <ulink url=\"http://help.ubuntu.com\">the Ubuntu Documentation website</ulink>. The HTML files are also available in the <application>ubuntu-serverguide</application> package. See <xref linkend=\"package-management\"/> for details on installing packages."
msgstr ""

#: serverguide/C/introduction.xml:32(para) 
msgid "If you choose to install the <application>ubuntu-serverguide</application> you can view this document from a console by:"
msgstr ""

#: serverguide/C/introduction.xml:36(command) 
msgid "w3m /usr/share/ubuntu-serverguide/html/en_GB/index.html"
msgstr ""

#: serverguide/C/introduction.xml:39(para) 
msgid "Replace <emphasis>en_GB</emphasis> with your language localization."
msgstr ""

#: serverguide/C/installation.xml:14(para) 
msgid "This chapter provides a quick overview of installing Ubuntu 8.10 Server Edition. For more detailed instructions, please refer to the <ulink url=\"https://help.ubuntu.com/8.10/installation-guide/\">Ubuntu Installation Guide</ulink>."
msgstr ""

#: serverguide/C/installation.xml:19(title) 
msgid "Preparing to Install"
msgstr ""

#: serverguide/C/installation.xml:20(para) 
msgid "This section explains various aspects to consider before starting the installation."
msgstr ""

#: serverguide/C/installation.xml:24(title) 
msgid "System Requirements"
msgstr ""

#: serverguide/C/installation.xml:25(para) 
msgid "Ubuntu 8.10 Server Edition supports two (2) major architectures: Intel x86 and AMD64. The table below lists recommended hardware specifications. Depending on your needs, you might manage with less than this. However, most users risk being frustrated if they ignore these suggestions."
msgstr ""

#: serverguide/C/installation.xml:27(title) 
msgid "Recommended Minimum Requirements"
msgstr ""

#: serverguide/C/installation.xml:35(para) 
msgid "Install Type"
msgstr ""

#: serverguide/C/installation.xml:36(para) 
msgid "RAM"
msgstr ""

#: serverguide/C/installation.xml:37(para) 
msgid "Hard Drive Space"
msgstr ""

#: serverguide/C/installation.xml:40(para) 
msgid "Base System"
msgstr ""

#: serverguide/C/installation.xml:41(para) 
msgid "All Tasks Installed"
msgstr ""

#: serverguide/C/installation.xml:46(para) 
msgid "Server"
msgstr ""

#: serverguide/C/installation.xml:47(para) 
msgid "128 megabytes"
msgstr ""

#: serverguide/C/installation.xml:48(para) 
msgid "500 megabytes"
msgstr ""

#: serverguide/C/installation.xml:49(para) 
msgid "1 gigabyte"
msgstr ""

#: serverguide/C/installation.xml:54(para) 
msgid "The Server Edition provides a common base for all sorts of server applications. It is a minimalist design providing a platform for the desired services, such as file/print services, web hosting, email hosting, etc."
msgstr ""

#: serverguide/C/installation.xml:62(title) 
msgid "Server and Desktop Differences"
msgstr ""

#: serverguide/C/installation.xml:63(para) 
msgid "There are a few differences between the <emphasis>Ubuntu Server Edition</emphasis> and the <emphasis>Ubuntu Desktop Edition</emphasis>. It should be noted that both editions use the same <application>apt</application> repositories. Making it just as easy to install a <emphasis role=\"italic\">server</emphasis> application on the Desktop Edition as it is on the Server Edition."
msgstr ""

#: serverguide/C/installation.xml:69(para) 
msgid "The differences between the two editions are the lack of an X window environment in the Server Edition, the installation process, and different Kernel options."
msgstr ""

#: serverguide/C/installation.xml:76(title) 
msgid "Kernel Differences:"
msgstr ""

#: serverguide/C/installation.xml:79(para) 
msgid "The Server Edition uses the <emphasis>Deadline</emphasis> I/O scheduler instead of the <emphasis>CFQ</emphasis> scheduler used by the Desktop Edition."
msgstr ""

#: serverguide/C/installation.xml:85(para) 
msgid "<emphasis>Preemption</emphasis> is turned off in the Server Edition."
msgstr ""

#: serverguide/C/installation.xml:90(para) 
msgid "The timer interrupt is 100 Hz in the Server Edition and 250 Hz in the Desktop Edition."
msgstr ""

#: serverguide/C/installation.xml:95(para) 
msgid "The Server Edition is optimized for i686 processors while the Desktop Edition is optimized for both the i586 and i686."
msgstr ""

#: serverguide/C/installation.xml:101(para) 
msgid "Virtualization is better supported in the Server Edition through the enabling of IPC namespaces, and the <application>Xen</application> hypervisor."
msgstr ""

#: serverguide/C/installation.xml:107(para) 
msgid "Multiple routing tables for the IPv6 protocol are also supported in the Server Edition."
msgstr ""

#: serverguide/C/installation.xml:112(para) 
msgid "For 32-bit systems the Server Edition is configured to use PAE which allows addressing up to 64GB of <emphasis>memory</emphasis> while the Desktop Edition is configured for 4GB."
msgstr ""

#: serverguide/C/installation.xml:119(para) 
msgid "When running a 64-bit version of Ubuntu on 64-bit processors you are not limited by memory addressing space."
msgstr ""

#: serverguide/C/installation.xml:124(para) 
msgid "To see all kernel configuration options you can look through <filename>/boot/config-2.6.24-server</filename>. Also, <ulink url=\"http://www.kroah.com/lkn/\">Linux Kernel in a Nutshell</ulink> is a great resource on the options available."
msgstr ""

#: serverguide/C/installation.xml:133(title) 
msgid "Backing Up"
msgstr ""

#: serverguide/C/installation.xml:136(para) 
msgid "Before installing <application>Ubuntu Server Edition</application> you should make sure all data on the system is backed up. See <xref linkend=\"backups\"/> for backup options."
msgstr ""

#: serverguide/C/installation.xml:140(para) 
msgid "If this is not the first time an operating system has been installed on your computer, it is likely you will need to re-partition your disk to make room for Ubuntu."
msgstr ""

#: serverguide/C/installation.xml:144(para) 
msgid "Any time you partition your disk, you should be prepared to lose everything on the disk should you make a mistake or something goes wrong during partitioning. The programs used in installation are quite reliable, most have seen years of use, but they also perform destructive actions."
msgstr ""

#: serverguide/C/installation.xml:156(title) 
msgid "Installing from CD"
msgstr ""

#: serverguide/C/installation.xml:157(para) 
msgid "The basic steps to install Ubuntu Server Edition from CD are the same for installing any operating system from CD. Unlike the <emphasis>Desktop Edition</emphasis> the <emphasis>Server Edition</emphasis> does not include a graphical installation program. Instead the Server Edition uses a console menu based process."
msgstr ""

#: serverguide/C/installation.xml:164(para) 
msgid "First, download and burn the appropriate ISO file from the <ulink url=\"http://www.ubuntu.com/getubuntu/download\"> Ubuntu web site</ulink>."
msgstr ""

#: serverguide/C/installation.xml:170(para) 
msgid "Boot the system from the CD-ROM drive."
msgstr ""

#: serverguide/C/installation.xml:175(para) 
msgid "At the boot prompt you will be asked to select the language. Afterwards the installation process begins by asking for your keyboard layout."
msgstr ""

#: serverguide/C/installation.xml:181(para) 
msgid "The installer then discovers your hardware configuration, and configures the network settings using DHCP."
msgstr ""

#: serverguide/C/installation.xml:187(para) 
msgid "Next, the installer asks for the system's hostname and Time Zone."
msgstr ""

#: serverguide/C/installation.xml:192(para) 
msgid "You can then choose from several options to configure the hard drive layout."
msgstr ""

#: serverguide/C/installation.xml:197(para) 
msgid "The Ubuntu base system is then installed."
msgstr ""

#: serverguide/C/installation.xml:202(para) 
msgid "A new user is setup, this user will have <emphasis>root</emphasis> access through the <application>sudo</application> utility."
msgstr ""

#: serverguide/C/installation.xml:208(para) 
msgid "You now have the option to install, or not install, several package tasks. See <xref linkend=\"install-tasks\"/> for details."
msgstr ""

#: serverguide/C/installation.xml:214(para) 
msgid "Finally, the last step before rebooting is to set the clock to UTC."
msgstr ""

#: serverguide/C/installation.xml:220(para) 
msgid "If at any point during installation you are not satisfied by the default setting, use the \"Go Back\" function at any prompt to be brought to a detailed installation menu that will allow you to modify the default settings."
msgstr ""

#: serverguide/C/installation.xml:225(para) 
msgid "At some point during the installation process you may want to read the help screen provided by the installation system. To do this, press F1."
msgstr ""

#: serverguide/C/installation.xml:230(para) 
msgid "Once again, for detailed instructions see the <ulink url=\"https://help.ubuntu.com/8.10/installation-guide/\"> Ubuntu Installation Guide</ulink>."
msgstr ""

#: serverguide/C/installation.xml:236(title) 
msgid "Package Tasks"
msgstr ""

#: serverguide/C/installation.xml:237(para) 
msgid "During the Server Edition installation you have the option of installing additional packages from the CD. The packages are grouped by the type of service they provide."
msgstr ""

#: serverguide/C/installation.xml:243(para) 
msgid "DNS server: Selects the BIND DNS server and its documentation."
msgstr ""

#: serverguide/C/installation.xml:248(para) 
msgid "LAMP server: Selects a ready-made Linux/Apache/MySQL/PHP server."
msgstr ""

#: serverguide/C/installation.xml:253(para) 
msgid "Mail server: This task selects a variety of package useful for a general purpose mail server system."
msgstr ""

#: serverguide/C/installation.xml:258(para) 
msgid "OpenSSH server: Selects packages needed for an OpenSSH server."
msgstr ""

#: serverguide/C/installation.xml:263(para) 
msgid "PostgreSQL database: This task selects client and server packages for the PostgreSQL database."
msgstr ""

#: serverguide/C/installation.xml:268(para) 
msgid "Print server: This task sets up your system to be a print server."
msgstr ""

#: serverguide/C/installation.xml:273(para) 
msgid "Samba File server: This task sets up your system to be a Samba file server, which is especially suitable in networks with both Windows and Linux systems."
msgstr ""

#: serverguide/C/installation.xml:279(para) 
msgid "Installing the package groups is accomplished using the <application>tasksel</application> utility. One of the important difference between Ubuntu (or Debian) and other GNU/Linux distribution is that, when installed, a package is also configured to reasonable defaults, eventually prompting you for additional required information. Likewise, when installing a task, the packages are not only installed, but also configured to provided a fully integrated service."
msgstr ""

#: serverguide/C/installation.xml:286(para) 
msgid "Once the installation process has finished you can view a list of available tasks by entering the following from a terminal prompt:"
msgstr ""

#: serverguide/C/installation.xml:291(command) 
msgid "tasksel --list-tasks"
msgstr ""

#: serverguide/C/installation.xml:294(para) 
msgid "The output will list tasks from other Ubuntu based distributions such as Kubuntu and Edubuntu. Note that you can also invoke the <command>tasksel</command> command by itself, which will bring up a menu of the different tasks available."
msgstr ""

#: serverguide/C/installation.xml:300(para) 
msgid "You can view a list of which packages are installed with each task using the <emphasis>--task-packages</emphasis> option. For example, to list the packages installed with the <emphasis>DNS Server</emphasis> task enter the following:"
msgstr ""

#: serverguide/C/installation.xml:305(command) 
msgid "tasksel --task-packages dns-server"
msgstr ""

#: serverguide/C/installation.xml:307(para) 
msgid "The output of the command should list:"
msgstr ""

#: serverguide/C/installation.xml:310(programlisting) 
#, no-wrap
msgid "\nbind9-doc\nbind9\n"
msgstr ""

#: serverguide/C/installation.xml:314(para) 
msgid "Also, if you did not install one of the tasks during the installation process, but for example you decide to make your new LAMP server a DNS server as well. Simply insert the installation CD and from a terminal:"
msgstr ""

#: serverguide/C/installation.xml:319(command) 
msgid "sudo tasksel install dns-server"
msgstr ""

#: serverguide/C/installation.xml:324(title) 
msgid "Upgrading"
msgstr ""

#: serverguide/C/installation.xml:325(para) 
msgid "There are several ways to upgrade from one Ubuntu release to another. This section gives an overview of the recommended upgrade method."
msgstr ""

#: serverguide/C/installation.xml:329(title) serverguide/C/installation.xml:344(command) 
msgid "do-release-upgrade"
msgstr ""

#: serverguide/C/installation.xml:330(para) 
msgid "The recommended way to upgrade a Server Edition installation is to use the <application>do-release-upgrade</application> utility. Part of the <emphasis>update-manager-core</emphasis> package, it does not have any graphical dependencies and is installed by default."
msgstr ""

#: serverguide/C/installation.xml:335(para) 
msgid "Debian based systems can also be upgraded by using <command>apt-get dist-upgrade</command>. However, using <application>do-release-upgrade</application> is recommended because it has the ability to handle system configuration changes sometimes needed between releases."
msgstr ""

#: serverguide/C/installation.xml:340(para) 
msgid "To upgrade to a newer release, from a terminal prompt enter:"
msgstr ""

#: serverguide/C/installation.xml:346(para) 
msgid "It is also possible to use <application>do-release-upgrade</application> to upgrade to a development version of Ubuntu. To accomplish this use the <emphasis>-d</emphasis> switch:"
msgstr ""

#: serverguide/C/installation.xml:351(command) 
msgid "do-release-upgrade -d"
msgstr ""

#: serverguide/C/installation.xml:354(para) 
msgid "Upgrading to a development release is <emphasis>not</emphasis> recommended for production environments."
msgstr ""

#: serverguide/C/file-server.xml:13(title) 
msgid "File Servers"
msgstr ""

#. to write
#: serverguide/C/file-server.xml:15(para) 
msgid "If you have more than one computer on a single network. At some point you will probably need to share files between them. In this section we cover installing and configuring FTP, NFS, and CUPS."
msgstr ""

#: serverguide/C/file-server.xml:21(title) 
msgid "FTP Server"
msgstr ""

#: serverguide/C/file-server.xml:22(para) 
msgid "File Transfer Protocol (FTP) is a TCP protocol for uploading and downloading files between computers. FTP works on a client/server model. The server component is called an <emphasis>FTP daemon</emphasis>. It continuously listens for FTP requests from remote clients. When a request is received, it manages the login and sets up the connection. For the duration of the session it executes any of commands sent by the FTP client."
msgstr ""

#: serverguide/C/file-server.xml:28(para) 
msgid "Access to an FTP server can be managed in two ways:"
msgstr ""

#: serverguide/C/file-server.xml:31(para) 
msgid "Anonymous"
msgstr ""

#: serverguide/C/file-server.xml:34(para) 
msgid "Authenticated"
msgstr ""

#: serverguide/C/file-server.xml:37(para) 
msgid "In the Anonymous mode, remote clients can access the FTP server by using the default user account called \"anonymous\" or \"ftp\" and sending an email address as the password. In the Authenticated mode a user must have an account and a password. User access to the FTP server directories and files is dependent on the permissions defined for the account used at login. As a general rule, the FTP daemon will hide the root directory of the FTP server and change it to the FTP Home directory. This hides the rest of the file system from remote sessions."
msgstr ""

#: serverguide/C/file-server.xml:46(title) 
msgid "vsftpd - FTP Server Installation"
msgstr ""

#: serverguide/C/file-server.xml:47(para) 
msgid "vsftpd is an FTP daemon available in Ubuntu. It is easy to install, set up, and maintain. To install <application>vsftpd</application> you can run the following command: <screen> <command>sudo apt-get install vsftpd</command> </screen>"
msgstr ""

#: serverguide/C/file-server.xml:56(title) 
msgid "vsftpd - FTP Server Configuration"
msgstr ""

#: serverguide/C/file-server.xml:57(para) 
msgid "You can edit the vsftpd configuration file, <filename>/etc/vsftpd.conf</filename>, to change the default settings. By default only anonymous FTP is allowed. If you wish to disable this option, you should change the following line:"
msgstr ""

#: serverguide/C/file-server.xml:66(programlisting) 
#, no-wrap
msgid "\nanonymous_enable=YES\n"
msgstr ""

#: serverguide/C/file-server.xml:72(programlisting) 
#, no-wrap
msgid "\nanonymous_enable=NO\n"
msgstr ""

#: serverguide/C/file-server.xml:75(para) 
msgid "By default, local system users are not allowed to login to FTP server. To change this setting, you should uncomment the following line:"
msgstr ""

#: serverguide/C/file-server.xml:80(programlisting) 
#, no-wrap
msgid "\n#local_enable=YES\n"
msgstr ""

#: serverguide/C/file-server.xml:83(para) 
msgid "By default, users are allowed to download files from FTP server. They are not allowed to upload files to FTP server. To change this setting, you should uncomment the following line:"
msgstr ""

#: serverguide/C/file-server.xml:89(programlisting) 
#, no-wrap
msgid "\n#write_enable=YES\n"
msgstr ""

#: serverguide/C/file-server.xml:92(para) 
msgid "Similarly, by default, the anonymous users are not allowed to upload files to FTP server. To change this setting, you should uncomment the following line:"
msgstr ""

#: serverguide/C/file-server.xml:98(programlisting) 
#, no-wrap
msgid "\n#anon_upload_enable=YES\n"
msgstr ""

#: serverguide/C/file-server.xml:101(para) 
msgid "The configuration file consists of many configuration parameters. The information about each parameter is available in the configuration file. Alternatively, you can refer to the man page, <command>man 5 vsftpd.conf</command> for details of each parameter."
msgstr ""

#: serverguide/C/file-server.xml:109(para) 
msgid "Once you configure <application>vsftpd</application> you can start the daemon. You can run following command to run the <application>vsftpd</application> daemon:"
msgstr ""

#: serverguide/C/file-server.xml:115(command) 
msgid "sudo /etc/init.d/vsftpd start"
msgstr ""

#: serverguide/C/file-server.xml:117(para) 
msgid "Please note that the defaults in the configuration file are set as they are for security reasons. Each of the above changes makes the system a little less secure, so make them only if you need them."
msgstr ""

#: serverguide/C/file-server.xml:126(title) 
msgid "Network File System (NFS)"
msgstr ""

#: serverguide/C/file-server.xml:127(para) 
msgid "NFS allows a system to share directories and files with others over a network. By using NFS, users and programs can access files on remote systems almost as if they were local files."
msgstr ""

#: serverguide/C/file-server.xml:133(para) 
msgid "Some of the most notable benefits that NFS can provide are:"
msgstr ""

#: serverguide/C/file-server.xml:139(para) 
msgid "Local workstations use less disk space because commonly used data can be stored on a single machine and still remain accessible to others over the network."
msgstr ""

#: serverguide/C/file-server.xml:144(para) 
msgid "There is no need for users to have separate home directories on every network machine. Home directories could be set up on the NFS server and made available throughout the network."
msgstr ""

#: serverguide/C/file-server.xml:150(para) 
msgid "Storage devices such as floppy disks, CDROM drives, and USB Thumb drives can be used by other machines on the network. This may reduce the number of removable media drives throughout the network."
msgstr ""

#: serverguide/C/file-server.xml:160(para) 
msgid "At a terminal prompt enter the following command to install the NFS Server:"
msgstr ""

#: serverguide/C/file-server.xml:166(command) 
msgid "sudo apt-get install nfs-kernel-server"
msgstr ""

#: serverguide/C/file-server.xml:172(para) 
msgid "You can configure the directories to be exported by adding them to the <filename>/etc/exports</filename> file. For example:"
msgstr ""

#: serverguide/C/file-server.xml:177(screen) 
#, no-wrap
msgid "\n/ubuntu  *(ro,sync,no_root_squash)\n/home    *(rw,sync,no_root_squash)\n"
msgstr ""

#: serverguide/C/file-server.xml:183(para) 
msgid "You can replace * with one of the hostname formats. Make the hostname declaration as specific as possible so unwanted systems cannot access the NFS mount."
msgstr ""

#: serverguide/C/file-server.xml:189(para) 
msgid "To start the NFS server, you can run the following command at a terminal prompt:"
msgstr ""

#: serverguide/C/file-server.xml:194(command) 
msgid "sudo /etc/init.d/nfs-kernel-server start"
msgstr ""

#: serverguide/C/file-server.xml:199(title) 
msgid "NFS Client Configuration"
msgstr ""

#: serverguide/C/file-server.xml:200(para) 
msgid "Use the <application>mount</application> command to mount a shared NFS directory from another machine, by typing a command line similar to the following at a terminal prompt:"
msgstr ""

#: serverguide/C/file-server.xml:206(command) 
msgid "sudo mount example.hostname.com:/ubuntu /local/ubuntu"
msgstr ""

#: serverguide/C/file-server.xml:210(para) 
msgid "The mount point directory <filename>/local/ubuntu</filename> must exist. There should be no files or subdirectories in the <filename>/local/ubuntu</filename> directory."
msgstr ""

#: serverguide/C/file-server.xml:217(para) 
msgid "An alternate way to mount an NFS share from another machine is to add a line to the <filename>/etc/fstab</filename> file. The line must state the hostname of the NFS server, the directory on the server being exported, and the directory on the local machine where the NFS share is to be mounted."
msgstr ""

#: serverguide/C/file-server.xml:225(para) 
msgid "The general syntax for the line in <filename>/etc/fstab</filename> file is as follows:"
msgstr ""

#: serverguide/C/file-server.xml:231(programlisting) 
#, no-wrap
msgid "\nexample.hostname.com:/ubuntu /local/ubuntu nfs rsize=8192,wsize=8192,timeo=14,intr\n"
msgstr ""

#: serverguide/C/file-server.xml:235(para) 
msgid "If you have trouble mounting an NFS share, make sure the <application>nfs-common</application> package is installed on your client. To install <application>nfs-common</application> enter the following command at the terminal prompt: <screen>\n<command>sudo apt-get install nfs-common</command>\n</screen>"
msgstr ""

#: serverguide/C/file-server.xml:248(ulink) 
msgid "Linux NFS faq"
msgstr ""

#: serverguide/C/file-server.xml:253(title) 
msgid "CUPS - Print Server"
msgstr ""

#: serverguide/C/file-server.xml:254(para) 
msgid "The primary mechanism for Ubuntu printing and print services is the <emphasis role=\"bold\">Common UNIX Printing System</emphasis> (CUPS). This printing system is a freely available, portable printing layer which has become the new standard for printing in most Linux distributions."
msgstr ""

#: serverguide/C/file-server.xml:261(para) 
msgid "CUPS manages print jobs and queues and provides network printing using the standard Internet Printing Protocol (IPP), while offering support for a very large range of printers, from dot-matrix to laser and many in between. CUPS also supports PostScript Printer Description (PPD) and auto-detection of network printers, and features a simple web-based configuration and administration tool."
msgstr ""

#: serverguide/C/file-server.xml:271(para) 
msgid "To install CUPS on your Ubuntu computer, simply use <application>sudo</application> with the <application>apt-get</application> command and give the packages to install as the first parameter. A complete CUPS install has many package dependencies, but they may all be specified on the same command line. Enter the following at a terminal prompt to install CUPS:"
msgstr ""

#: serverguide/C/file-server.xml:276(command) 
msgid "sudo apt-get install cupsys"
msgstr ""

#: serverguide/C/file-server.xml:279(para) 
msgid "Upon authenticating with your user password, the packages should be downloaded and installed without error. Upon the conclusion of installation, the CUPS server will be started automatically."
msgstr ""

#: serverguide/C/file-server.xml:284(para) 
msgid "For troubleshooting purposes, you can access CUPS server errors via the error log file at: <filename>/var/log/cups/error_log</filename>. If the error log does not show enough information to troubleshoot any problems you encounter, the verbosity of the CUPS log can be increased by changing the <emphasis role=\"bold\">LogLevel</emphasis> directive in the configuration file (discussed below) to \"debug\" or even \"debug2\", which logs everything, from the default of \"info\". If you make this change, remember to change it back once you've solved your problem, to prevent the log file from becoming overly large."
msgstr ""

#: serverguide/C/file-server.xml:297(para) 
msgid "The Common UNIX Printing System server's behavior is configured through the directives contained in the file <filename>/etc/cups/cupsd.conf</filename>. The CUPS configuration file follows the same syntax as the primary configuration file for the Apache HTTP server, so users familiar with editing Apache's configuration file should feel at ease when editing the CUPS configuration file. Some examples of settings you may wish to change initially will be presented here."
msgstr ""

#: serverguide/C/file-server.xml:307(para) 
msgid "Prior to editing the configuration file, you should make a copy of the original file and protect it from writing, so you will have the original settings as a reference, and to reuse as necessary."
msgstr ""

#: serverguide/C/file-server.xml:311(para) 
msgid "Copy the <filename>/etc/cups/cupsd.conf</filename> file and protect it from writing with the following commands, issued at a terminal prompt:"
msgstr ""

#: serverguide/C/file-server.xml:317(command) 
msgid "sudo cp /etc/cups/cupsd.conf /etc/cups/cupsd.conf.original"
msgstr ""

#: serverguide/C/file-server.xml:318(command) 
msgid "sudo chmod a-w /etc/cups/cupsd.conf.original"
msgstr ""

#: serverguide/C/file-server.xml:323(para) 
msgid "<emphasis role=\"bold\">ServerAdmin</emphasis>: To configure the email address of the designated administrator of the CUPS server, simply edit the <filename>/etc/cups/cupsd.conf</filename> configuration file with your preferred text editor, and modify the <emphasis role=\"italics\">ServerAdmin</emphasis> line accordingly. For example, if you are the Administrator for the CUPS server, and your e-mail address is 'bjoy@somebigco.com', then you would modify the ServerAdmin line to appear as such:"
msgstr ""

#: serverguide/C/file-server.xml:334(screen) 
#, no-wrap
msgid "\nServerAdmin bjoy@somebigco.com\n"
msgstr ""

#: serverguide/C/file-server.xml:340(para) 
msgid "For more examples of configuration directives in the CUPS server configuration file, view the associated system manual page by entering the following command at a terminal prompt:"
msgstr ""

#: serverguide/C/file-server.xml:347(command) 
msgid "man cupsd.conf"
msgstr ""

#: serverguide/C/file-server.xml:351(para) 
msgid "Whenever you make changes to the <filename>/etc/cups/cupsd.conf</filename> configuration file, you'll need to restart the CUPS server by typing the following command at a terminal prompt:"
msgstr ""

#: serverguide/C/file-server.xml:357(command) 
msgid "sudo /etc/init.d/cupsys restart"
msgstr ""

#: serverguide/C/file-server.xml:360(para) 
msgid "Some other configuration for the CUPS server is done in the file <filename>/etc/cups/cups.d/ports.conf</filename>:"
msgstr ""

#: serverguide/C/file-server.xml:363(para) 
msgid "<emphasis role=\"bold\">Listen</emphasis>: By default on Ubuntu, the CUPS server installation listens only on the loopback interface at IP address <emphasis>127.0.0.1</emphasis>. In order to instruct the CUPS server to listen on an actual network adapter's IP address, you must specify either a hostname, the IP address, or optionally, an IP address/port pairing via the addition of a Listen directive. For example, if your CUPS server resides on a local network at the IP address <emphasis role=\"italics\">192.168.10.250</emphasis> and you'd like to make it accessible to the other systems on this subnetwork, you would edit the <filename>/etc/cups/cupsd.conf</filename> and add a Listen directive, as such:"
msgstr ""

#: serverguide/C/file-server.xml:377(screen) 
#, no-wrap
msgid "\nListen 127.0.0.1:631           # existing loopback Listen\nListen /var/run/cups/cups.sock # existing socket Listen\nListen 192.168.10.250:631      # Listen on the LAN interface, Port 631 (IPP)\n"
msgstr ""

#: serverguide/C/file-server.xml:383(para) 
msgid "In the example above, you may comment out or remove the reference to the Loopback address (127.0.0.1) if you do not wish <application>cupsd </application> to listen on that interface, but would rather have it only listen on the Ethernet interfaces of the Local Area Network (LAN). To enable listening for all network interfaces for which a certain hostname is bound, including the Loopback, you could create a Listen entry for the hostname <emphasis>socrates</emphasis> as such:"
msgstr ""

#: serverguide/C/file-server.xml:393(screen) 
#, no-wrap
msgid "\nListen socrates:631  # Listen on all interfaces for the hostname 'socrates'\n"
msgstr ""

#: serverguide/C/file-server.xml:397(para) 
msgid "or by omitting the Listen directive and using <emphasis>Port</emphasis> instead, as in:"
msgstr ""

#: serverguide/C/file-server.xml:399(screen) 
#, no-wrap
msgid "\nPort 631  # Listen on port 631 on all interfaces\n"
msgstr ""

#: serverguide/C/file-server.xml:410(ulink) 
msgid "CUPS Website"
msgstr ""

#: serverguide/C/dns.xml:13(title) 
msgid "Domain Name Service (DNS)"
msgstr ""

#: serverguide/C/dns.xml:14(para) 
msgid "Domain Name Service (DNS) is an Internet service that maps IP addresses and fully qualified domain names (FQDN) to one another. In this way, DNS alleviates the need to remember IP addresses. Computers that run DNS are called <emphasis>name servers</emphasis>. Ubuntu ships with <application>BIND</application> (Berkley Internet Naming Daemon), the most common program used for maintaining a name server on Linux."
msgstr ""

#: serverguide/C/dns.xml:24(para) 
msgid "At a terminal prompt, enter the following command to install <application>dns</application>:"
msgstr ""

#: serverguide/C/dns.xml:28(command) 
msgid "sudo apt-get install bind9"
msgstr ""

#: serverguide/C/dns.xml:30(para) 
msgid "A very useful package for testing and troubleshooting DNS issues is the dnsutils package. To install <application>dnsutils</application> enter the following:"
msgstr ""

#: serverguide/C/dns.xml:35(command) 
msgid "sudo apt-get install dnsutils"
msgstr ""

#: serverguide/C/dns.xml:40(para) 
msgid "There a many ways to configure <application>BIND9</application>. Some of the most common configurations are a caching nameserver, primary master, and a as a secondary master."
msgstr ""

#: serverguide/C/dns.xml:46(para) 
msgid "When configured as a caching nameserver BIND9 will find the answer to name queries and remember the answer when the domain is queried again."
msgstr ""

#: serverguide/C/dns.xml:52(para) 
msgid "As a primary master server BIND9 reads the data for a zone from a file on it's host and is authoritative for that zone."
msgstr ""

#: serverguide/C/dns.xml:57(para) 
msgid "In a secondary master configuration BIND9 gets the zone data from another nameserver authoritative for the zone."
msgstr ""

#: serverguide/C/dns.xml:65(para) 
msgid "The DNS configuration files are stored in the <filename>/etc/bind</filename> directory. The primary configuration file is <filename>/etc/bind/named.conf</filename>."
msgstr ""

#: serverguide/C/dns.xml:72(para) 
msgid "The <emphasis>include</emphasis> line specifies the filename which contains the DNS options. The <emphasis>directory</emphasis> line in the <filename>/etc/bind/named.conf.options</filename> file tells DNS where to look for files. All files BIND uses will be relative to this directory."
msgstr ""

#: serverguide/C/dns.xml:80(para) 
msgid "The file named <filename>/etc/bind/db.root</filename> describes the root nameservers in the world. The servers change over time, so the <filename>/etc/bind/db.root</filename> file must be maintained now and then. This is usually done as updates to the <application>bind9</application> package. The <emphasis>zone</emphasis> section defines a master server, and it is stored in a file mentioned in the <emphasis>file</emphasis> option."
msgstr ""

#: serverguide/C/dns.xml:90(para) 
msgid "It is possible to configure the same server to be a caching name server, primary master, and secondary master. A server and be the Start of Authority (SOA) for one zone, while providing secondary service for another zone. All the while providing caching services for hosts on the local LAN."
msgstr ""

#: serverguide/C/dns.xml:98(title) 
msgid "Caching Nameserver"
msgstr ""

#: serverguide/C/dns.xml:99(para) 
msgid "The default configuration is setup to act as a caching server. All that is required is simply adding the IP Addresses of your ISP's DNS servers. Simply uncomment and edit the following in <filename>/etc/bind/named.conf.options</filename>:"
msgstr ""

#: serverguide/C/dns.xml:103(programlisting) 
#, no-wrap
msgid "\nforwarders {\n                1.2.3.4;\n                5.6.7.8;\n           };\n"
msgstr ""

#: serverguide/C/dns.xml:110(para) 
msgid "Replace <emphasis>1.2.3.4</emphasis> and <emphasis>5.6.7.8</emphasis> with the IP Adresses of actual nameservers."
msgstr ""

#: serverguide/C/dns.xml:114(para) 
msgid "Now restart the DNS server, to enable the new configuration. From a terminal prompt:"
msgstr ""

#: serverguide/C/dns.xml:118(command) serverguide/C/dns.xml:193(command) serverguide/C/dns.xml:252(command) serverguide/C/dns.xml:311(command) serverguide/C/dns.xml:549(command) 
msgid "sudo /etc/init.d/bind9 restart"
msgstr ""

#: serverguide/C/dns.xml:120(para) 
msgid "See <xref linkend=\"dns-testing-dig\"/> for information on testing a caching DNS server."
msgstr ""

#: serverguide/C/dns.xml:125(title) 
msgid "Primary Master"
msgstr ""

#: serverguide/C/dns.xml:126(para) 
msgid "In this section <application>BIND9</application> will be configured as the Primary Master for the domain <emphasis>example.com</emphasis>. Simply replace <emphasis role=\"italic\">example.com</emphasis> with your FQDN (Fully Qualified Domain Name)."
msgstr ""

#: serverguide/C/dns.xml:132(title) 
msgid "Forward Zone File"
msgstr ""

#: serverguide/C/dns.xml:133(para) 
msgid "To add a DNS zone to BIND9, turning BIND9 into a Primary Master server, the first step is to edit <filename>/etc/bind/named.conf.local</filename>:"
msgstr ""

#: serverguide/C/dns.xml:137(programlisting) 
#, no-wrap
msgid "\nzone \"example.com\" {\n\ttype master;\n        file \"/etc/bind/db.example.com\";\n};\n"
msgstr ""

#: serverguide/C/dns.xml:143(para) 
msgid "Now use an existing zone file as a template to create the <filename>/etc/bind/db.example.com</filename> file:"
msgstr ""

#: serverguide/C/dns.xml:147(command) 
msgid "sudo cp /etc/bind/db.local /etc/bind/db.example.com"
msgstr ""

#: serverguide/C/dns.xml:149(para) 
msgid "Edit the new zone file <filename>/etc/bind/db.example.com</filename> change <emphasis>localhost.</emphasis> to the FQDN of your server, leaving the additional \".\" at the end. Change <emphasis>127.0.0.1</emphasis> to the nameserver's IP Address and <emphasis>root.localhost</emphasis> to a valid email address, but with a \".\" instead of the usual \"@\" symbol, again leaving the \".\" at the end."
msgstr ""

#: serverguide/C/dns.xml:155(para) 
msgid "Also, create an <emphasis>A record</emphasis> for <emphasis role=\"italic\">ns.example.com</emphasis>. The name server in this example:"
msgstr ""

#: serverguide/C/dns.xml:159(programlisting) 
#, no-wrap
msgid "\n;\n; BIND data file for local loopback interface\n;\n$TTL    604800\n@       IN      SOA     ns.example.com. root.example.com. (\n                              1         ; Serial\n                         604800         ; Refresh\n                          86400         ; Retry\n                        2419200         ; Expire\n                         604800 )       ; Negative Cache TTL\n;\n@       IN      NS      ns.example.com.\n@       IN      A       192.168.1.10\nns      IN      A       192.168.1.10\n"
msgstr ""

#: serverguide/C/dns.xml:175(para) 
msgid "You must increment the <emphasis>Serial Number</emphasis> every time you make changes to the zone file. If you make multiple changes before restarting BIND9, simply increment the Serial once."
msgstr ""

#: serverguide/C/dns.xml:179(para) 
msgid "Now, you can add DNS records to the bottom of the zone file. See <xref linkend=\"dns-record-types\"/> for details."
msgstr ""

#: serverguide/C/dns.xml:183(para) 
msgid "Many admins like to use the last date edited as the serial of a zone, such as <emphasis>2007010100</emphasis> which is yyyymmddss (where <emphasis>ss</emphasis> is the Serial Number)"
msgstr ""

#: serverguide/C/dns.xml:188(para) 
msgid "Once you have made a change to the zone file <application>BIND9</application> will need to be restarted for the changes to take affect:"
msgstr ""

#: serverguide/C/dns.xml:197(title) 
msgid "Reverse Zone File"
msgstr ""

#: serverguide/C/dns.xml:198(para) 
msgid "Now that the zone is setup and resolving names to IP Adresses a <emphasis>Reverse zone</emphasis> is also required. A Reverse zone allows DNS to resolve an address to a name."
msgstr ""

#: serverguide/C/dns.xml:202(para) 
msgid "Edit /etc/bind/named.conf.local and add the following:"
msgstr ""

#: serverguide/C/dns.xml:205(programlisting) 
#, no-wrap
msgid "\nzone \"1.168.192.in-addr.arpa\" {\n        type master;\n        notify no;\n        file \"/etc/bind/db.192\";\n};\n"
msgstr ""

#: serverguide/C/dns.xml:213(para) 
msgid "Replace <emphasis>1.168.192</emphasis> with the first three octets of whatever network you are using. Also, name the zone file <filename>/etc/bind/db.192</filename> appropriately. It should match the first octet of your network."
msgstr ""

#: serverguide/C/dns.xml:218(para) 
msgid "Now create the <filename>/etc/bind/db.192</filename> file:"
msgstr ""

#: serverguide/C/dns.xml:222(command) 
msgid "sudo cp /etc/bind/db.127 /etc/bind/db.192"
msgstr ""

#: serverguide/C/dns.xml:224(para) 
msgid "Next edit <filename>/etc/bind/db.192</filename> changing the basically the same options as <filename>/etc/bind/db.example.com</filename>:"
msgstr ""

#: serverguide/C/dns.xml:228(programlisting) 
#, no-wrap
msgid "\n;\n; BIND reverse data file for local loopback interface\n;\n$TTL    604800\n@       IN      SOA     ns.example.com. root.example.com. (\n                              2         ; Serial\n                         604800         ; Refresh\n                          86400         ; Retry\n                        2419200         ; Expire\n                         604800 )       ; Negative Cache TTL\n;\n@       IN      NS      ns.\n10      IN      PTR     ns.example.com.\n"
msgstr ""

#: serverguide/C/dns.xml:243(para) 
msgid "The <emphasis>Serial Number</emphasis> in the Reverse zone needs to be incremented on each changes as well. For each <emphasis>A record</emphasis> you configure in <filename>/etc/bind/db.example.com</filename> you need to create a <emphasis>PTR record</emphasis> in <filename>/etc/bind/db.192</filename>."
msgstr ""

#: serverguide/C/dns.xml:248(para) 
msgid "After creating the reverse zone file restart <application>BIND9</application>:"
msgstr ""

#: serverguide/C/dns.xml:257(title) 
msgid "Secondary Master"
msgstr ""

#: serverguide/C/dns.xml:258(para) 
msgid "Once a <emphasis>Primary Master</emphasis> has been configured a <emphasis>Secondary Master</emphasis> is needed in order to maintain the availability of the domain should the Primary become unavailable."
msgstr ""

#: serverguide/C/dns.xml:262(para) 
msgid "First, on the Primary Master server, the zone transfer needs to be allowed. Add the <emphasis>allow-transfer</emphasis> option to the example Forward and Reverse zone definitions in <filename>/etc/bind/named.conf.local</filename>:"
msgstr ""

#: serverguide/C/dns.xml:266(programlisting) 
#, no-wrap
msgid "\nzone \"example.com\" {\n        type master;\n\tfile \"/etc/bind/db.example.com\";\n        allow-transfer { 192.168.1.11; };\n};\n\nzone \"1.168.192.in-addr.arpa\" {\n        type master;\n        notify no;\n        file \"/etc/bind/db.192\";\n\tallow-transfer { 192.168.1.11; };\n};\n"
msgstr ""

#: serverguide/C/dns.xml:281(para) 
msgid "Replace <emphasis>192.168.1.11</emphasis> with the IP Address of your Secondary nameserver."
msgstr ""

#: serverguide/C/dns.xml:285(para) 
msgid "Next, on the Secondary Master, install the <application>bind9</application> package the same way as on the Primary. Then edit the <filename>/etc/bind/named.conf.local</filename> and add the following declarations for the Forward and Reverse zones:"
msgstr ""

#: serverguide/C/dns.xml:289(programlisting) 
#, no-wrap
msgid "\nzone \"example.com\" {\n\ttype slave;\n        file \"db.example.com\";\n        masters { 192.168.1.10; };\n};        \n      \nzone \"1.168.192.in-addr.arpa\" {\n\ttype slave;\n        file \"db.192\";\n        masters { 192.168.1.10; };\n};\n"
msgstr ""

#: serverguide/C/dns.xml:303(para) 
msgid "Replace <emphasis>192.168.1.10</emphasis> with the IP Address of your Primary nameserver."
msgstr ""

#: serverguide/C/dns.xml:307(para) 
msgid "Restart <application>BIND9</application> on the Secondary Master:"
msgstr ""

#: serverguide/C/dns.xml:313(para) 
msgid "In <filename>/var/log/syslog</filename> you should see something similar to:"
msgstr ""

#: serverguide/C/dns.xml:316(programlisting) 
#, no-wrap
msgid "\nslave zone \"example.com\" (IN) loaded (serial 6)\nslave zone \"100.18.172.in-addr.arpa\" (IN) loaded (serial 3)\n"
msgstr ""

#: serverguide/C/dns.xml:321(para) 
msgid "Note: A zone is only transferred if the <emphasis>Serial Number</emphasis> on the Primary is larger than the one on the Secondary."
msgstr ""

#: serverguide/C/dns.xml:329(para) 
msgid "This section covers ways to help determine the cause when problems happen with DNS and <application>BIND9</application>."
msgstr ""

#: serverguide/C/dns.xml:335(title) 
msgid "resolv.conf"
msgstr ""

#: serverguide/C/dns.xml:336(para) 
msgid "The first step in testing <application>BIND9</application> is to add the nameserver's IP Address to a hosts resolver. The Primary nameserver should be configured as well as another host to double check things. Simply edit <filename>/etc/resolv.conf</filename> and add the following:"
msgstr ""

#: serverguide/C/dns.xml:341(programlisting) 
#, no-wrap
msgid "\nnameserver\t192.168.1.10\nnameserver\t192.168.1.11\n"
msgstr ""

#: serverguide/C/dns.xml:346(para) 
msgid "You should also add the IP Address of the Secondary nameserver in case the Primary becomes unavailable."
msgstr ""

#: serverguide/C/dns.xml:352(title) 
msgid "ping"
msgstr ""

#: serverguide/C/dns.xml:353(para) 
msgid "Once a host has been configured to use the new nameserver one of the simplest tests is the <application>ping</application> utility. From a terminal prompt enter:"
msgstr ""

#: serverguide/C/dns.xml:358(command) 
msgid "ping example.com"
msgstr ""

#: serverguide/C/dns.xml:360(para) 
msgid "This tests if the nameserver can resolve the name <emphasis>example.com</emphasis> to an IP Address. The command output should resemble:"
msgstr ""

#: serverguide/C/dns.xml:364(programlisting) 
#, no-wrap
msgid "\nPING example.com (192.168.1.10) 56(84) bytes of data.\n64 bytes from ns (192.168.1.10): icmp_seq=1 ttl=64 time=0.800 ms\n64 bytes from ns (192.168.1.10): icmp_seq=2 ttl=64 time=0.813 ms\n"
msgstr ""

#: serverguide/C/dns.xml:371(title) 
msgid "dig"
msgstr ""

#: serverguide/C/dns.xml:372(para) 
msgid "If you installed the <application>dnsutils</application> package you can test your setup using the DNS lookup utility <application>dig</application>:"
msgstr ""

#: serverguide/C/dns.xml:378(para) 
msgid "After installing <application>BIND9</application> use <application>dig</application> against the loopback interface to make sure it is listening on port 53. From a terminal prompt:"
msgstr ""

#: serverguide/C/dns.xml:383(command) 
msgid "dig -x 127.0.0.1"
msgstr ""

#: serverguide/C/dns.xml:385(para) 
msgid "You should see lines similar to the following in the command output:"
msgstr ""

#: serverguide/C/dns.xml:388(programlisting) 
#, no-wrap
msgid "\n;; Query time: 1 msec\n;; SERVER: 192.168.1.10#53(192.168.1.10)\n"
msgstr ""

#: serverguide/C/dns.xml:394(para) 
msgid "If you have configured <application>BIND9</application> as a <emphasis>Caching</emphasis> nameserver \"dig\" an outside domain to check the query time:"
msgstr ""

#: serverguide/C/dns.xml:399(command) 
msgid "dig ubuntu.com"
msgstr ""

#: serverguide/C/dns.xml:401(para) 
msgid "Note the query time toward the end of the command output:"
msgstr ""

#: serverguide/C/dns.xml:404(programlisting) 
#, no-wrap
msgid "\n;; Query time: 49 msec\n"
msgstr ""

#: serverguide/C/dns.xml:407(para) 
msgid "After a second dig there should be improvement:"
msgstr ""

#: serverguide/C/dns.xml:410(programlisting) 
#, no-wrap
msgid "\n;; Query time: 1 msec\n"
msgstr ""

#: serverguide/C/dns.xml:417(title) 
msgid "named-checkzone"
msgstr ""

#: serverguide/C/dns.xml:418(para) 
msgid "A great way to test your zone files is by using the <application>named-checkzone</application> utility installed with the <application>bind9</application> package. This utility allows you to make sure the configuration is correct before restarting <application>BIND9</application> and making the changes live."
msgstr ""

#: serverguide/C/dns.xml:425(para) 
msgid "To test our example Forward zone file enter the following from a command prompt:"
msgstr ""

#: serverguide/C/dns.xml:429(command) 
msgid "named-checkzone example.com /etc/bind/db.example.com"
msgstr ""

#: serverguide/C/dns.xml:431(para) 
msgid "If everything is configured correctly you should see output similar to:"
msgstr ""

#: serverguide/C/dns.xml:434(programlisting) 
#, no-wrap
msgid "\nzone example.com/IN: loaded serial 6\nOK\n"
msgstr ""

#: serverguide/C/dns.xml:440(para) 
msgid "Similarly, to test the Reverse zone file enter the following:"
msgstr ""

#: serverguide/C/dns.xml:444(command) 
msgid "named-checkzone example.com /etc/bind/db.192"
msgstr ""

#: serverguide/C/dns.xml:446(para) 
msgid "The output should be similar to:"
msgstr ""

#: serverguide/C/dns.xml:449(programlisting) 
#, no-wrap
msgid "\nzone example.com/IN: loaded serial 3\nOK\n"
msgstr ""

#: serverguide/C/dns.xml:456(para) 
msgid "The <emphasis>Serial Number</emphasis> of your zone file will probably be different."
msgstr ""

#: serverguide/C/dns.xml:463(title) 
msgid "Logging"
msgstr ""

#: serverguide/C/dns.xml:464(para) 
msgid "<application>BIND9</application> has a wide variety of logging configuration options available. There are two main options. The <emphasis>channel</emphasis> option configures where logs go, and the the <emphasis>category</emphasis> option determines what information to log."
msgstr ""

#: serverguide/C/dns.xml:468(para) 
msgid "If no logging option is configured the default option is:"
msgstr ""

#: serverguide/C/dns.xml:471(programlisting) 
#, no-wrap
msgid "\nlogging {\n     category default { default_syslog; default_debug; };\n     category unmatched { null; };\n};\n"
msgstr ""

#: serverguide/C/dns.xml:477(para) 
msgid "This section covers configuring <application>BIND9</application> to send <emphasis>debug</emphasis> messages related to DNS queries to a separate file."
msgstr ""

#: serverguide/C/dns.xml:482(para) 
msgid "First, we need to configure a channel to specify which file to send the messages to. Edit <filename>/etc/bind/named.conf.local</filename> and add the following:"
msgstr ""

#: serverguide/C/dns.xml:486(programlisting) 
#, no-wrap
msgid "\nlogging {\n    channel query.log {      \n        file \"/var/log/query.log\";\n        severity debug 3; \n    }; \n};\n"
msgstr ""

#: serverguide/C/dns.xml:496(para) 
msgid "Next, configure a category to send all DNS queries to the query file:"
msgstr ""

#: serverguide/C/dns.xml:499(programlisting) 
#, no-wrap
msgid "\nlogging {\n    channel query.log {      \n        file \"/var/log/query.log\"; \n        severity debug 3; \n    }; \n    <emphasis>category queries { query.log; };</emphasis> \n};\n"
msgstr ""

#: serverguide/C/dns.xml:511(para) 
msgid "Note: the <emphasis>debug</emphasis> option can be set from 1 to 3. If a level isn't specified level 1 is the default."
msgstr ""

#: serverguide/C/dns.xml:517(para) 
msgid "Since the <emphasis>named daemon</emphasis> runs as the <emphasis>bind</emphasis> user the <filename>/var/log/query.log</filename> file must be created and the ownership changed:"
msgstr ""

#: serverguide/C/dns.xml:522(command) 
msgid "sudo touch /var/log/query.log"
msgstr ""

#: serverguide/C/dns.xml:523(command) 
msgid "sudo chown bind /var/log/query.log"
msgstr ""

#: serverguide/C/dns.xml:527(para) 
msgid "Before <application>named</application> daemon can write to the new log file the <application>AppArmor</application> profile must be updated. First, edit <filename>/etc/apparmor.d/usr.sbin.named</filename> and add:"
msgstr ""

#: serverguide/C/dns.xml:531(programlisting) 
#, no-wrap
msgid "\n/var/log/query.log w,\n"
msgstr ""

#: serverguide/C/dns.xml:534(para) 
msgid "Next, reload the profile:"
msgstr ""

#: serverguide/C/dns.xml:538(command) 
msgid "cat /etc/apparmor.d/usr.sbin.named | sudo apparmor_parser -r"
msgstr ""

#: serverguide/C/dns.xml:540(para) 
msgid "For more information on <application>AppArmor</application> see <xref linkend=\"apparmor\"/>"
msgstr ""

#: serverguide/C/dns.xml:545(para) 
msgid "Now restart <application>BIND9</application> for the changes to take affect:"
msgstr ""

#: serverguide/C/dns.xml:553(para) 
msgid "You should see the file <filename>/var/log/query.log</filename> fill with query information. This is a simple example of the <application>BIND9</application> logging options. For coverage of advanced options see <xref linkend=\"dns-more-info\"/>."
msgstr ""

#: serverguide/C/dns.xml:562(title) 
msgid "Common Record Types"
msgstr ""

#: serverguide/C/dns.xml:563(para) 
msgid "This section covers some of the most common DNS record types."
msgstr ""

#: serverguide/C/dns.xml:568(para) 
msgid "<emphasis>A</emphasis> record: This record maps an IP Address to a hostname."
msgstr ""

#: serverguide/C/dns.xml:571(programlisting) 
#, no-wrap
msgid "\nwww      IN    A      192.168.1.12\n"
msgstr ""

#: serverguide/C/dns.xml:576(para) 
msgid "<emphasis>CNAME</emphasis> record: Used to create an alias to an existing A record. You cannot create a CNAME record pointing to another CNAME record."
msgstr ""

#: serverguide/C/dns.xml:579(programlisting) 
#, no-wrap
msgid "\nweb     IN    CNAME  www\n"
msgstr ""

#: serverguide/C/dns.xml:584(para) 
msgid "<emphasis>MX</emphasis> record: Used to define where email should be sent to. Must point to an A record, not a CNAME."
msgstr ""

#: serverguide/C/dns.xml:587(programlisting) 
#, no-wrap
msgid "\n        IN    MX      mail.example.com.\nmail    IN    A       192.168.1.13\n"
msgstr ""

#: serverguide/C/dns.xml:593(para) 
msgid "<emphasis>NS</emphasis> record: Used to define which servers serve copies of a zone. It must point to an A record, not a CNAME. This is where Primary and Secondary servers are defined."
msgstr ""

#: serverguide/C/dns.xml:597(programlisting) 
#, no-wrap
msgid "\n        IN    NS     ns.example.com.\n\tIN    NS     ns2.example.com.\nns      IN    A      192.168.1.10\nns2\tIN    A\t     192.168.1.11\n"
msgstr ""

#: serverguide/C/dns.xml:607(title) 
msgid "More Information"
msgstr ""

#: serverguide/C/dns.xml:608(para) 
msgid "The <ulink url=\"http://www.tldp.org/HOWTO/DNS-HOWTO.html\">DNS HOWTO</ulink> explains more advanced options for configuring BIND9."
msgstr ""

#: serverguide/C/dns.xml:611(para) 
msgid "For in depth coverage of <emphasis>DNS</emphasis> and <application>BIND9</application> see <ulink url=\"http://www.bind9.net/\">Bind9.net</ulink>."
msgstr ""

#: serverguide/C/dns.xml:614(para) 
msgid "<ulink url=\"http://www.oreilly.com/catalog/dns5/index.html\">DNS and BIND</ulink> is a popular book now in it's fifth edition."
msgstr ""

#: serverguide/C/dns.xml:617(para) 
msgid "A great place to ask for <application>BIND9</application> assistance, and get involved with the Ubuntu Server community, is the <emphasis>#ubuntu-server</emphasis> IRC channel on <ulink url=\"http://freenode.net\">freenode</ulink>."
msgstr ""

#: serverguide/C/databases.xml:13(title) 
msgid "Databases"
msgstr ""

#: serverguide/C/databases.xml:14(para) 
msgid "Ubuntu provides two popular database servers. They are:"
msgstr ""

#: serverguide/C/databases.xml:22(application) serverguide/C/databases.xml:136(title) 
msgid "PostgreSQL"
msgstr ""

#: serverguide/C/databases.xml:25(para) 
msgid "They are available in the main repository. This section explains how to install and configure these database servers."
msgstr ""

#: serverguide/C/databases.xml:32(para) 
msgid "MySQL is a fast, multi-threaded, multi-user, and robust SQL database server. It is intended for mission-critical, heavy-load production systems as well as for embedding into mass-deployed software."
msgstr ""

#: serverguide/C/databases.xml:41(para) 
msgid "To install MySQL, run the following command from a terminal prompt:"
msgstr ""

#: serverguide/C/databases.xml:46(command) 
msgid "sudo apt-get install mysql-server"
msgstr ""

#: serverguide/C/databases.xml:48(para) 
msgid "During the installation process you will be prompted to enter a password for the <application>MySQL</application> root user."
msgstr ""

#: serverguide/C/databases.xml:53(para) 
msgid "Once the installation is complete, the MySQL server should be started automatically. You can run the following command from a terminal prompt to check whether the MySQL server is running:"
msgstr ""

#: serverguide/C/databases.xml:61(command) 
msgid "sudo netstat -tap | grep mysql"
msgstr ""

#: serverguide/C/databases.xml:70(programlisting) 
#, no-wrap
msgid "\ntcp        0      0 localhost.localdomain:mysql           *:* LISTEN -\n"
msgstr ""

#: serverguide/C/databases.xml:73(para) 
msgid "If the server is not running correctly, you can type the following command to start it:"
msgstr ""

#: serverguide/C/databases.xml:76(command) serverguide/C/databases.xml:102(command) 
msgid "sudo /etc/init.d/mysql restart"
msgstr ""

#: serverguide/C/databases.xml:83(para) 
msgid "You can edit the <filename>/etc/mysql/my.cnf</filename> file to configure the basic settings -- log file, port number, etc. For example, to configure <application>MySQL</application> to listen for connections from network hosts, change the <emphasis>bind_address</emphasis> directive to the server's IP address:"
msgstr ""

#: serverguide/C/databases.xml:89(programlisting) 
#, no-wrap
msgid "\nbind-address            = 192.168.0.5\n"
msgstr ""

#: serverguide/C/databases.xml:93(para) 
msgid "Replace 192.168.0.5 with the appropriate address."
msgstr ""

#: serverguide/C/databases.xml:97(para) 
msgid "After making a change to <filename>/etc/mysql/my.cnf</filename> the <application>mysql</application> daemon will need to be restarted:"
msgstr ""

#: serverguide/C/databases.xml:109(para) 
msgid "See the <ulink url=\"http://www.mysql.com/\">MySQL Home Page</ulink> for more information."
msgstr ""

#: serverguide/C/databases.xml:114(para) 
msgid "The <emphasis>MySQL Handbook</emphasis> is also available in the <application>mysql-doc-5.0</application> package. To install the package enter the following in a terminal:"
msgstr ""

#: serverguide/C/databases.xml:119(command) 
msgid "sudo apt-get install mysql-doc-5.0"
msgstr ""

#: serverguide/C/databases.xml:121(para) 
msgid "The documentation is in HTML format, to view them enter <command>file:///usr/share/doc/mysql-doc-5.0/refman-5.0-en.html-chapter/index.html</command> in your browser's address bar."
msgstr ""

#: serverguide/C/databases.xml:127(para) serverguide/C/databases.xml:269(para) 
msgid "For general SQL information see <ulink url=\"http://www.informit.com/store/product.aspx?isbn=0768664128\">Using SQL Special Edition</ulink> by Rafe Colburn."
msgstr ""

#: serverguide/C/databases.xml:137(para) 
msgid "PostgreSQL is an object-relational database system that has the features of traditional commercial database systems with enhancements to be found in next-generation DBMS systems."
msgstr ""

#: serverguide/C/databases.xml:144(para) 
msgid "To install PostgreSQL, run the following command in the command prompt:"
msgstr ""

#: serverguide/C/databases.xml:151(command) 
msgid "sudo apt-get install postgresql"
msgstr ""

#: serverguide/C/databases.xml:155(para) 
msgid "Once the installation is complete, you should configure the PostgreSQL server based on your needs, although the default configuration is viable."
msgstr ""

#: serverguide/C/databases.xml:163(para) 
msgid "By default, connection via TCP/IP is disabled. PostgreSQL supports multiple client authentication methods. By default, IDENT authentication method is used for <application>postgres</application> and local users. Please refer <ulink url=\"http://www.postgresql.org/docs/8.3/static/admin.html\"> the PostgreSQL Administrator's Guide</ulink>."
msgstr ""

#: serverguide/C/databases.xml:170(para) 
msgid "The following discussion assumes that you wish to enable TCP/IP connections and use the MD5 method for client authentication. PostgreSQL configuration files are stored in the <filename>/etc/postgresql/&lt;version&gt;/main</filename> directory. For example, if you install PostgreSQL 8.3, the configuration files are stored in the <filename>/etc/postgresql/8.3/main</filename> directory."
msgstr ""

#: serverguide/C/databases.xml:180(para) 
msgid "To configure <emphasis>ident</emphasis> authentication, add entries to the <filename>/etc/postgresql/8.3/main/pg_ident.conf</filename> file."
msgstr ""

#: serverguide/C/databases.xml:187(para) 
msgid "To enable TCP/IP connections, edit the file <filename>/etc/postgresql/8.3/main/postgresql.conf</filename>"
msgstr ""

#: serverguide/C/databases.xml:189(para) 
msgid "Locate the line <emphasis>#listen_addresses = 'localhost'</emphasis> and change it to:"
msgstr ""

#: serverguide/C/databases.xml:192(programlisting) 
#, no-wrap
msgid "\nlisten_addresses = 'localhost'\n"
msgstr ""

#: serverguide/C/databases.xml:196(para) 
msgid "To allow other computers to connect to your <application>PostgreSQL</application> server replace 'localhost' with the <emphasis>IP Address</emphasis> of your server."
msgstr ""

#: serverguide/C/databases.xml:201(para) 
msgid "You may also edit all other parameters, if you know what you are doing! For details, refer to the configuration file or to the PostgreSQL documentation."
msgstr ""

#: serverguide/C/databases.xml:206(para) 
msgid "Now that we can connect to our <application>PostgreSQL</application> server, the next step is to set a password for the <emphasis>postgres</emphasis> user. Run the following command at a terminal prompt to connect to the default PostgreSQL template database:"
msgstr ""

#: serverguide/C/databases.xml:213(command) 
msgid "sudo -u postgres psql template1"
msgstr ""

#: serverguide/C/databases.xml:215(para) 
msgid "The above command connects to PostgreSQL database <emphasis>template1</emphasis> as user <emphasis>postgres</emphasis>. Once you connect to the PostgreSQL server, you will be at a SQL prompt. You can run the following SQL command at the <application>psql</application> prompt to configure the password for the user <emphasis role=\"italics\">postgres</emphasis>."
msgstr ""

#: serverguide/C/databases.xml:223(command) 
msgid "ALTER USER postgres with encrypted password 'your_password';"
msgstr ""

#: serverguide/C/databases.xml:225(para) 
msgid "After configuring the password, edit the file <filename>/etc/postgresql/8.3/main/pg_hba.conf</filename> to use <emphasis>MD5</emphasis> authentication with the <emphasis>postgres</emphasis> user:"
msgstr ""

#: serverguide/C/databases.xml:231(programlisting) 
#, no-wrap
msgid "\nlocal   all         postgres                          md5 sameuser\n"
msgstr ""

#: serverguide/C/databases.xml:235(para) 
msgid "Finally, you should restart the <application>PostgreSQL</application> service to initialize the new configuration. From a terminal prompt enter the following to restart <application>PostgreSQL</application>:"
msgstr ""

#: serverguide/C/databases.xml:241(command) 
msgid "sudo /etc/init.d/postgresql-8.3 restart"
msgstr ""

#: serverguide/C/databases.xml:244(para) 
msgid "The above configuration is not complete by any means. Please refer <ulink url=\"http://www.postgresql.org/docs/8.3/static/admin.html\"> the PostgreSQL Administrator's Guide</ulink> to configure more parameters."
msgstr ""

#: serverguide/C/databases.xml:255(para) 
msgid "As mentioned above the <ulink url=\"http://www.postgresql.org/docs/8.3/static/admin.html\">Administrator's Guide</ulink> is an excellent resource. The guide is also available in the <application>postgresql-doc-8.3</application> package. Execute the following in a terminal to install the package:"
msgstr ""

#: serverguide/C/databases.xml:261(command) 
msgid "sudo apt-get install postgresql-doc-8.3"
msgstr ""

#: serverguide/C/databases.xml:263(para) 
msgid "To view the guide enter <command>file:///usr/share/doc/postgresql-doc-8.3/html/index.html</command> into the address bar of your browser."
msgstr ""

#: serverguide/C/backups.xml:13(title) 
msgid "Backups"
msgstr ""

#: serverguide/C/backups.xml:14(para) 
msgid "There are many ways to backup a Ubuntu installation. The most import thing about backups is to develop a <emphasis>backup plan</emphasis> consisting of what to backup, where to backup it up to, and how to restore it."
msgstr ""

#: serverguide/C/backups.xml:18(para) 
msgid "The following sections discuss various ways of accomplishing these tasks."
msgstr ""

#: serverguide/C/backups.xml:22(title) 
msgid "Shell Scripts"
msgstr ""

#: serverguide/C/backups.xml:23(para) 
msgid "One of the simplest ways to backup a system is using a <emphasis>shell script</emphasis>. For example, a script can be used to configure which directories to backup, and use those directories as arguments to the <application>tar</application> utility creating an archive file. The archive file can then be moved or copied to another location. The archive can also be created on a remote file system such as an <emphasis>NFS</emphasis> mount."
msgstr ""

#: serverguide/C/backups.xml:29(para) 
msgid "The <application>tar</application> utility creates one archive file out of many files or directories. <application>tar</application> can also filter the files through compression utilities reducing the size of the archive file."
msgstr ""

#: serverguide/C/backups.xml:35(title) 
msgid "Simple Shell Script"
msgstr ""

#: serverguide/C/backups.xml:36(para) 
msgid "The following shell script uses <application>tar</application> to create an archive file on a remotely mounted NFS file system. The archive filename is determined using additional command line utilities."
msgstr ""

#: serverguide/C/backups.xml:40(programlisting) 
#, no-wrap
msgid "\n#!/bin/sh\n####################################\n#\n# Backup to NFS mount script.\n#\n####################################\n\n# What to backup. \nbackup_files=\"/home /var/spool/mail /etc /root /boot /opt\"\n\n# Where to backup to.\ndest=\"/mnt/backup\"\n\n# Create archive filename.\nday=$(date +%A)\nhostname=$(hostname -s)\narchive_file=\"$hostname-$day.tgz\"\n\n# Print start status message.\necho \"Backing up $backup_files to $dest/$archive_file\"\ndate\necho\n\n# Backup the files using tar.\ntar czf $dest/$archive_file $backup_files\n\n# Print end status message.\necho\necho \"Backup finished\"\ndate\n\n# Long listing of files in $dest to check file sizes.\nls -lh $dest\n"
msgstr ""

#: serverguide/C/backups.xml:77(para) 
msgid "<emphasis>$backup_files:</emphasis> a variable listing which directories you would like to backup. The list should be customized to fit your needs."
msgstr ""

#: serverguide/C/backups.xml:83(para) 
msgid "<emphasis>$day:</emphasis> a variable holding the day of the week (Monday, Tuesday, Wednesday, etc). This is used to create an archive file for each day of the week, giving a backup history of seven days. There are other ways to accomplish this including other ways using the <application>date</application> utility."
msgstr ""

#: serverguide/C/backups.xml:90(para) 
msgid "<emphasis>$hostname:</emphasis> variable containing the <emphasis>short</emphasis> hostname of the system. Using the hostname in the archive filename gives you the option of placing daily archive files from multiple systems in the same directory."
msgstr ""

#: serverguide/C/backups.xml:97(para) 
msgid "<emphasis>$archive_file:</emphasis> the full archive filename."
msgstr ""

#: serverguide/C/backups.xml:102(para) 
msgid "<emphasis>$dest:</emphasis> destination of the archive file. The directory needs to be created and in this case <emphasis>mounted</emphasis> before executing the backup script. See <xref linkend=\"network-file-system\"/> for details using <emphasis>NFS</emphasis>."
msgstr ""

#: serverguide/C/backups.xml:109(para) 
msgid "<emphasis>status messages:</emphasis> optional messages printed to the console using the <application>echo</application> utility."
msgstr ""

#: serverguide/C/backups.xml:115(para) 
msgid "<emphasis>tar czf $dest/$archive_file $backup_files:</emphasis> the <application>tar</application> command used to create the archive file."
msgstr ""

#: serverguide/C/backups.xml:121(para) 
msgid "<emphasis>c:</emphasis> creates an archive."
msgstr ""

#: serverguide/C/backups.xml:126(para) 
msgid "<emphasis>z:</emphasis> filter the archive through the <application>gzip</application> utility compressing the archive."
msgstr ""

#: serverguide/C/backups.xml:131(para) 
msgid "<emphasis>f:</emphasis> use archive file. Otherwise the <application>tar</application> output will be sent to STDOUT."
msgstr ""

#: serverguide/C/backups.xml:138(para) 
msgid "<emphasis>ls -lh $dest:</emphasis> optional statement prints a <emphasis>-l</emphasis> long listing in <emphasis>-h</emphasis> human readable format of the destination directory. This is useful for a quick file size check of the archive file. This check should not replace testing the archive file."
msgstr ""

#: serverguide/C/backups.xml:145(para) 
msgid "This is a simple example of a backup shell script. There are large amount of options that can be included in a backup script. See <xref linkend=\"backup-shellscript-references\"/> for links to resources providing more in depth shell scripting information."
msgstr ""

#: serverguide/C/backups.xml:152(title) 
msgid "Executing the Script"
msgstr ""

#: serverguide/C/backups.xml:154(title) 
msgid "Executing from a Terminal"
msgstr ""

#: serverguide/C/backups.xml:155(para) 
msgid "The simplest way of executing the above backup script is to copy and paste the contents into a file. <filename>backup.sh</filename> for example. Then from a terminal prompt:"
msgstr ""

#: serverguide/C/backups.xml:160(command) 
msgid "sudo bash backup.sh"
msgstr ""

#: serverguide/C/backups.xml:162(para) 
msgid "This is a great way to test the script to make sure everything works as expected."
msgstr ""

#: serverguide/C/backups.xml:167(title) 
msgid "Executing with cron"
msgstr ""

#: serverguide/C/backups.xml:168(para) 
msgid "The <application>cron</application> utility can be used to automate the script execution. The <application>cron</application> daemon allows the execution of scripts, or commands, at a specified time and date."
msgstr ""

#: serverguide/C/backups.xml:172(para) 
msgid "<application>cron</application> is configured through entries in a <filename>crontab</filename> file. <filename>crontab</filename> files are separated into fields:"
msgstr ""

#: serverguide/C/backups.xml:176(programlisting) 
#, no-wrap
msgid "\n# m h dom mon dow   command\n"
msgstr ""

#: serverguide/C/backups.xml:181(para) 
msgid "<emphasis>m:</emphasis> minute the command executes on between 0 and 59."
msgstr ""

#: serverguide/C/backups.xml:186(para) 
msgid "<emphasis>h:</emphasis> hour the command executes on between 0 and 23."
msgstr ""

#: serverguide/C/backups.xml:191(para) 
msgid "<emphasis>dom:</emphasis> day of month the command executes on."
msgstr ""

#: serverguide/C/backups.xml:196(para) 
msgid "<emphasis>mon:</emphasis> the month the command executes on between 1 and 12."
msgstr ""

#: serverguide/C/backups.xml:201(para) 
msgid "<emphasis>dow:</emphasis> the day of the week the command executes on between 0 and 7. Sunday may be specified by using 0 or 7, both values are valid."
msgstr ""

#: serverguide/C/backups.xml:206(para) 
msgid "<emphasis>command:</emphasis> the command to execute."
msgstr ""

#: serverguide/C/backups.xml:211(para) 
msgid "To add or change entries in a <filename>crontab</filename> file the <application>crontab -e</application> command should be used. Also, the contents of a <filename>crontab</filename> file can be viewed using the <application>crontab -l</application> command."
msgstr ""

#: serverguide/C/backups.xml:215(para) 
msgid "To execute the <application>backup.sh</application> script listed above using <application>cron</application>. Enter the following from a terminal prompt:"
msgstr ""

#: serverguide/C/backups.xml:220(command) 
msgid "sudo crontab -e"
msgstr ""

#: serverguide/C/backups.xml:223(para) 
msgid "Using <application>sudo</application> with the <application>crontab -e</application> command edits the <emphasis>root</emphasis> user's crontab. This is necessary if you are backing up directories only the root user has access to."
msgstr ""

#: serverguide/C/backups.xml:228(para) 
msgid "Add the following entry to the <filename>crontab</filename> file:"
msgstr ""

#: serverguide/C/backups.xml:231(programlisting) 
#, no-wrap
msgid "\n# m h dom mon dow   command\n0 0 * * * bash /usr/local/bin/backup.sh\n"
msgstr ""

#: serverguide/C/backups.xml:235(para) 
msgid "The <application>backup.sh</application> script will now be executed every day at 12:00 am."
msgstr ""

#: serverguide/C/backups.xml:239(para) 
msgid "The <application>backup.sh</application> script will need to be copied to the <filename>/usr/local/bin/</filename> directory in order for this entry to execute properly. The script can reside anywhere on the file system simply change the script path appropriately."
msgstr ""

#: serverguide/C/backups.xml:244(para) 
msgid "For more in depth <application>crontab</application> options see <xref linkend=\"backup-shellscript-references\"/>."
msgstr ""

#: serverguide/C/backups.xml:250(title) 
msgid "Restoring from the Archive"
msgstr ""

#: serverguide/C/backups.xml:251(para) 
msgid "Once an archive has been created it is important to test the archive. The archive can be tested by listing the files it contains, but the best test is to <emphasis>restore</emphasis> a file from the archive."
msgstr ""

#: serverguide/C/backups.xml:257(para) 
msgid "To see a listing of the archive contents. From a terminal prompt:"
msgstr ""

#: serverguide/C/backups.xml:261(command) 
msgid "tar -tzvf /mnt/backup/host-Monday.tgz"
msgstr ""

#: serverguide/C/backups.xml:265(para) 
msgid "To restore a file from the archive to a different directory enter:"
msgstr ""

#: serverguide/C/backups.xml:269(command) 
msgid "tar -xzvf /mnt/backup/host-Monday.tgz -C /tmp etc/hosts"
msgstr ""

#: serverguide/C/backups.xml:271(para) 
msgid "The <emphasis>-C</emphasis> option to <application>tar</application> redirects the extracted files to the specified directory. The above example will extract the <filename>/etc/hosts</filename> file to <filename>/tmp/etc/hosts</filename>. <application>tar</application> recreates the directory structure that it contains."
msgstr ""

#: serverguide/C/backups.xml:276(para) 
msgid "Also, notice the leading <emphasis>\"/\"</emphasis> is left off the path of the file to restore."
msgstr ""

#: serverguide/C/backups.xml:281(para) 
msgid "To restore all files in the archive enter the following:"
msgstr ""

#: serverguide/C/backups.xml:285(command) 
msgid "cd /"
msgstr ""

#: serverguide/C/backups.xml:286(command) 
msgid "sudo tar -xzvf /mnt/backup/host-Monday.tgz"
msgstr ""

#: serverguide/C/backups.xml:291(para) 
msgid "This will overwrite the files currently on the file system."
msgstr ""

#: serverguide/C/backups.xml:300(para) 
msgid "For more information on shell scripting see the <ulink url=\"http://tldp.org/LDP/abs/html/\">Advanced Bash-Scripting Guide</ulink>"
msgstr ""

#: serverguide/C/backups.xml:305(para) 
msgid "The book <ulink url=\"http://safari.samspublishing.com/0672323583\">Teach Yourself Shell Programming in 24 Hours</ulink> is available online and a great resource for shell scripting."
msgstr ""

#: serverguide/C/backups.xml:311(para) 
msgid "The <ulink url=\"https://help.ubuntu.com/community/CronHowto\">CronHowto Wiki Page</ulink> contains details on advanced <application>cron</application> options."
msgstr ""

#: serverguide/C/backups.xml:318(para) 
msgid "See the <ulink url=\"http://www.gnu.org/software/tar/manual/index.html\">GNU tar Manual</ulink> for more <application>tar</application> options."
msgstr ""

#: serverguide/C/backups.xml:324(para) 
msgid "The Wikipedia <ulink url=\"http://en.wikipedia.org/wiki/Backup_rotation_scheme\">Backup Rotation Scheme</ulink> article contains information on other backup rotation schemes."
msgstr ""

#: serverguide/C/backups.xml:330(para) 
msgid "The shell script uses <application>tar</application> to create the archive, but there many other command line utilities that can be used. For example:"
msgstr ""

#: serverguide/C/backups.xml:336(para) 
msgid "<ulink url=\"http://www.gnu.org/software/cpio/\">cpio</ulink>: used to copy files to and from archives."
msgstr ""

#: serverguide/C/backups.xml:341(para) 
msgid "<ulink url=\"http://www.gnu.org/software/coreutils/\">dd</ulink>: part of the <application>coreutils</application> package. A low level utility that can copy data from one format to another"
msgstr ""

#: serverguide/C/backups.xml:347(para) 
msgid "<ulink url=\"http://www.rsnapshot.org/\">rsnapshot</ulink>: a file system snap shot utility used to create copies of an entire file system."
msgstr ""

#: serverguide/C/backups.xml:358(title) 
msgid "Archive Rotation"
msgstr ""

#: serverguide/C/backups.xml:359(para) 
msgid "The shell script in section <xref linkend=\"backup-shellscripts\"/> only allows for seven different archives. For a server whose data doesn't change often this may be enough. If the server has a large amount of data a more robust rotation scheme should be used."
msgstr ""

#: serverguide/C/backups.xml:365(title) 
msgid "Rotating NFS Archives"
msgstr ""

#: serverguide/C/backups.xml:366(para) 
msgid "In this section the shell script will be slightly modified to implement a grandfather-father-son rotation scheme (monthly-weekly-daily):"
msgstr ""

#: serverguide/C/backups.xml:372(para) 
msgid "The rotation will do a <emphasis>daily</emphasis> backup Sunday through Friday."
msgstr ""

#: serverguide/C/backups.xml:377(para) 
msgid "On Saturday a <emphasis>weekly</emphasis> backup is done giving you four weekly backups a month."
msgstr ""

#: serverguide/C/backups.xml:382(para) 
msgid "The <emphasis>monthly</emphasis> backup is done on the first of the month rotating two monthly backups based on if the month is odd or even."
msgstr ""

#: serverguide/C/backups.xml:388(para) 
msgid "Here is the new script:"
msgstr ""

#: serverguide/C/backups.xml:391(programlisting) 
#, no-wrap
msgid "\n#!/bin/bash\n####################################\n#\n# Backup to NFS mount script with\n# grandfather-father-son rotation.\n#\n####################################\n\n# What to backup. \nbackup_files=\"/home /var/spool/mail /etc /root /boot /opt\"\n\n# Where to backup to.\ndest=\"/mnt/backup\"\n\n# Setup variables for the archive filename.\nday=$(date +%A)\nhostname=$(hostname -s)\n\n# Find which week of the month 1-4 it is.\nday_num=$(date +%d)\nif (( $day_num &lt;= 7 )); then\n        week_file=\"$hostname-week1.tgz\"\nelif (( $day_num &gt; 7 &amp;&amp; $day_num &lt;= 14 )); then\n        week_file=\"$hostname-week2.tgz\"\nelif (( $day_num &gt; 14 &amp;&amp; $day_num &lt;= 21 )); then\n        week_file=\"$hostname-week3.tgz\"\nelif (( $day_num &gt; 21 &amp;&amp; $day_num &lt; 32 )); then\n        week_file=\"$hostname-week4.tgz\"\nfi\n\n# Find if the Month is odd or even.\nmonth_num=$(date +%m)\nmonth=$(expr $month_num % 2)\nif [ $month -eq 0 ]; then\n        month_file=\"$hostname-month2.tgz\"\nelse\n        month_file=\"$hostname-month1.tgz\"\nfi\n\n# Create archive filename.\nif [ $day_num == 1 ]; then\n\tarchive_file=$month_file\nelif [ $day != \"Saturday\" ]; then\n        archive_file=\"$hostname-$day.tgz\"\nelse \n\tarchive_file=$week_file\nfi\n\n# Print start status message.\necho \"Backing up $backup_files to $dest/$archive_file\"\ndate\necho\n\n# Backup the files using tar.\ntar czf $dest/$archive_file $backup_files\n\n# Print end status message.\necho\necho \"Backup finished\"\ndate\n\n# Long listing of files in $dest to check file sizes.\nls -lh $dest/\n"
msgstr ""

#: serverguide/C/backups.xml:456(para) 
msgid "The script can be executed using the same methods as in <xref linkend=\"backup-executing-shellscript\"/>."
msgstr ""

#: serverguide/C/backups.xml:459(para) 
msgid "It is good practice to take backup media off site in case of a disaster. In the shell script example the backup media is another server providing an NFS share. In all likelihood taking the NFS server to another location would not be practical. Depending upon connection speeds it may be an option to copy the archive file over a WAN link to a server in another location."
msgstr ""

#: serverguide/C/backups.xml:465(para) 
msgid "Another option is to copy the archive file to an external hard drive which can then be taken off site. Since the price of external hard drives continue to decrease it may be cost affective to use two drives for each archive level. This would allow you to have one external drive attached to the backup server and one in another location."
msgstr ""

#: serverguide/C/backups.xml:472(title) 
msgid "Tape Drives"
msgstr ""

#: serverguide/C/backups.xml:473(para) 
msgid "A tape drive attached to the server can be used instead of a NFS share. Using a tape drive simplifies archive rotation, and taking the media off site as well."
msgstr ""

#: serverguide/C/backups.xml:477(para) 
msgid "When using a tape drive the filename portions of the script aren't needed because the date is sent directly to the tape device. Some commands to manipulate the tape are needed. This is accomplished using <application>mt</application>, a magnetic tape control utility part of the <application>cpio</application> package."
msgstr ""

#: serverguide/C/backups.xml:482(para) 
msgid "Here is the shell script modified to use a tape drive:"
msgstr ""

#: serverguide/C/backups.xml:485(programlisting) 
#, no-wrap
msgid "\n#!/bin/bash\n####################################\n#\n# Backup to tape drive script.\n#\n####################################\n\n# What to backup. \nbackup_files=\"/home /var/spool/mail /etc /root /boot /opt\"\n\n# Where to backup to.\ndest=\"/dev/st0\"\n\n# Print start status message.\necho \"Backing up $backup_files to $dest\"\ndate\necho\n\n# Make sure the tape is rewound.\nmt -f $dest rewind\n\n# Backup the files using tar.\ntar czf $dest $backup_files\n\n# Rewind and eject the tape.\nmt -f $dest rewoffl\n\n# Print end status message.\necho\necho \"Backup finished\"\ndate\n"
msgstr ""

#: serverguide/C/backups.xml:519(para) 
msgid "The default device name for a SCSI tape drive is <filename>/dev/st0</filename>. Use the appropriate device path for your system."
msgstr ""

#: serverguide/C/backups.xml:524(para) 
msgid "Restoring from a tape drive is basically the same as restoring from a file. Simply rewind the tape and use the device path instead of a file path. For example to restore the <filename>/etc/hosts</filename> file to <filename>/tmp/etc/hosts</filename>:"
msgstr ""

#: serverguide/C/backups.xml:529(command) 
msgid "mt -f /dev/st0 rewind"
msgstr ""

#: serverguide/C/backups.xml:530(command) 
msgid "tar -xzf /dev/st0 -C /tmp etc/hosts"
msgstr ""

#: serverguide/C/backups.xml:535(title) 
msgid "Bacula"
msgstr ""

#: serverguide/C/backups.xml:536(para) 
msgid "<application>Bacula</application> is a backup program enabling you to backup, restore, and verify data across your network. There are Bacula clients for Linux, Windows, and Mac OSX. Making it a cross platform network wide solution."
msgstr ""

#: serverguide/C/backups.xml:542(para) 
msgid "<application>Bacula</application> is made up of several components and services used to manage which files to backup and where to back them up to:"
msgstr ""

#: serverguide/C/backups.xml:548(para) 
msgid "<application>Bacula Director:</application> a service that controls all backup, restore, verify, and archive operations."
msgstr ""

#: serverguide/C/backups.xml:553(para) 
msgid "<application>Bacula Console:</application> an application allowing communication with the Director. There are three versions of the Console:"
msgstr ""

#: serverguide/C/backups.xml:558(para) 
msgid "Text based command line version."
msgstr ""

#: serverguide/C/backups.xml:559(para) 
msgid "Gnome based GTK+ Graphical User Interface (GUI) interface."
msgstr ""

#: serverguide/C/backups.xml:560(para) 
msgid "wxWidgets GUI interface."
msgstr ""

#: serverguide/C/backups.xml:564(para) 
msgid "<application>Bacula File:</application> also known as the <application>Bacula Client</application> program. This application is installed on machines to be backed up, and is responsible for the data requested by the Director."
msgstr ""

#: serverguide/C/backups.xml:570(para) 
msgid "<application>Bacula Storage:</application> the programs that perform the storage and recovery of data to the physical media."
msgstr ""

#: serverguide/C/backups.xml:575(para) 
msgid "<application>Bacula Catalog:</application> is responsible for maintaining the file indexes and volume databases for all files backed up, enabling quick location and restoration of archived files. The Catalog supports three different databases MySQL, PostgreSQL, and SQLite."
msgstr ""

#: serverguide/C/backups.xml:581(para) 
msgid "<application>Bacula Monitor:</application> allows the monitoring of the Director, File daemons, and Storage daemons. Currently the Monitor is only available as a GTK+ GUI application."
msgstr ""

#: serverguide/C/backups.xml:587(para) 
msgid "These services and applications can be run on multiple servers and clients, or they can be installed on one machine if backing up a single disk or volume."
msgstr ""

#: serverguide/C/backups.xml:594(para) 
msgid "There are multiple packages containing the different <application>Bacula</application> components. To install Bacula, from a terminal prompt enter:"
msgstr ""

#: serverguide/C/backups.xml:599(command) 
msgid "sudo apt-get install bacula"
msgstr ""

#: serverguide/C/backups.xml:601(para) 
msgid "By default installing the <application>bacula</application> package will use a <application>MySQL</application> database for the Catalog. If you want to use SQLite or PostgreSQL, for the Catalog, install <application>bacula-director-sqlite3</application> or <application>bacula-director-pgsql</application> respectively."
msgstr ""

#: serverguide/C/backups.xml:607(para) 
msgid "During the install process you will be asked to supply credentials for the database <emphasis>administrator</emphasis> and the <emphasis>bacula</emphasis> database <emphasis>owner</emphasis>. The database administrator will need to have the appropriate rights to create a database, see <xref linkend=\"mysql\"/> for more information."
msgstr ""

#: serverguide/C/backups.xml:617(para) 
msgid "<application>Bacula</application> configuration files are formatted based on <emphasis>resources</emphasis> comprising of <emphasis>directives</emphasis> surrounded by <quote>{}</quote> braces. Each Bacula component has an individual file in the <filename role=\"directory\">/etc/bacula</filename> directory."
msgstr ""

#: serverguide/C/backups.xml:622(para) 
msgid "The various <application>Bacula</application> components must authorize themselves to each other. This is accomplished using the <emphasis>password</emphasis> directive. For example, the <emphasis>Storage</emphasis> resource password in the <filename>/etc/bacula/bacula-dir.conf</filename> file must match the <emphasis>Director</emphasis> resource password in <filename>/etc/bacula/bacula-sd.conf</filename>."
msgstr ""

#: serverguide/C/backups.xml:628(para) 
msgid "By default the backup job named <emphasis>Client1</emphasis> is configured to archive the <application>Bacula</application> Catalog. If you plan on using the server to backup more than one client you should change the name of this job to something more descriptive. To change the name edit <filename>/etc/bacula/bacula-dir.conf</filename>:"
msgstr ""

#: serverguide/C/backups.xml:633(programlisting) 
#, no-wrap
msgid "\n#\n# Define the main nightly save backup job\n#   By default, this job will back up to disk in \nJob {\n  Name = \"BackupServer\"\n  JobDefs = \"DefaultJob\"\n  Write Bootstrap = \"/var/lib/bacula/Client1.bsr\"\n}\n"
msgstr ""

#: serverguide/C/backups.xml:644(para) 
msgid "The example above changes the job name to <emphasis>BackupServer</emphasis> matching the machine's host name. Replace <quote>BackupServer</quote> with your appropriate hostname, or other descriptive name."
msgstr ""

#: serverguide/C/backups.xml:649(para) 
msgid "The <emphasis>Console</emphasis> can be used to query the <emphasis>Director</emphasis> about jobs, but to use the Console with a <emphasis>non-root</emphasis> user, the user needs to be in the <emphasis>bacula</emphasis> group. To add a user to the bacula group enter the following from a terminal:"
msgstr ""

#: serverguide/C/backups.xml:655(command) 
msgid "sudo adduser $username bacula"
msgstr ""

#: serverguide/C/backups.xml:658(para) 
msgid "Replace <emphasis>$username</emphasis> with the actual username. Also, if you are adding the current user to the group you should log out and back in for the new permissions to take effect."
msgstr ""

#: serverguide/C/backups.xml:665(title) 
msgid "Localhost Backup"
msgstr ""

#: serverguide/C/backups.xml:666(para) 
msgid "This section describes how to backup specified directories on a single host to a local tape drive."
msgstr ""

#: serverguide/C/backups.xml:671(para) 
msgid "First, the <emphasis>Storage</emphasis> device needs to be configured. Edit <filename>/etc/bacula/bacula-sd.conf</filename> add:"
msgstr ""

#: serverguide/C/backups.xml:674(programlisting) 
#, no-wrap
msgid "\nDevice {\n  Name = \"Tape Drive\"\n  Device Type = tape\n  Media Type = DDS-4\n  Archive Device = /dev/st0\n  Hardware end of medium = No;\n  AutomaticMount = yes;               # when device opened, read it\n  AlwaysOpen = Yes;\n  RemovableMedia = yes;\n  RandomAccess = no;\n  Alert Command = \"sh -c 'tapeinfo -f %c | grep TapeAlert'\"\n}\n"
msgstr ""

#: serverguide/C/backups.xml:688(para) 
msgid "The example is for a <emphasis>DDS-4</emphasis> tape drive. Adjust the Media Type and Archive Device to match your hardware."
msgstr ""

#: serverguide/C/backups.xml:691(para) 
msgid "You could also uncomment one of the other examples in the file."
msgstr ""

#: serverguide/C/backups.xml:696(para) 
msgid "After editing <filename>/etc/bacula/bacula-sd.conf</filename> the <application>Storage</application> daemon will need to be restarted:"
msgstr ""

#: serverguide/C/backups.xml:701(command) 
msgid "sudo /etc/init.d/bacula-sd restart"
msgstr ""

#: serverguide/C/backups.xml:705(para) 
msgid "Now add a <emphasis>Storage</emphasis> resource in <filename>/etc/bacula/bacula-dir.conf</filename> to use the new Device:"
msgstr ""

#: serverguide/C/backups.xml:708(programlisting) 
#, no-wrap
msgid "\n# Definition of \"Tape Drive\" storage device\nStorage {\n  Name = TapeDrive\n  # Do not use \"localhost\" here    \n  Address = backupserver               # N.B. Use a fully qualified name here\n  SDPort = 9103\n  Password = \"Cv70F6pf1t6pBopT4vQOnigDrR0v3LT3Cgkiyj\"\n  Device = \"Tape Drive\"\n  Media Type = tape\n}\n"
msgstr ""

#: serverguide/C/backups.xml:720(para) 
msgid "The <emphasis>Address</emphasis> directive needs to be the Fully Qualified Domain Name (FQDN) of the server. Change <emphasis>backupserver</emphasis> to the actual host name."
msgstr ""

#: serverguide/C/backups.xml:724(para) 
msgid "Also, make sure the <emphasis>Password</emphasis> directive matches the password string in <filename>/etc/bacula/bacula-sd.conf</filename>."
msgstr ""

#: serverguide/C/backups.xml:730(para) 
msgid "Create a new <emphasis>FileSet</emphasis>, which will determine what directories to backup, by adding:"
msgstr ""

#: serverguide/C/backups.xml:733(programlisting) 
#, no-wrap
msgid "\n# LocalhostBacup FileSet.\nFileSet {\n  Name = \"LocalhostFiles\"\n  Include {\n    Options {\n      signature = MD5\n      compression=GZIP\n    }\n    File = /etc\n    File = /home\n  }\n}\n"
msgstr ""

#: serverguide/C/backups.xml:747(para) 
msgid "This <emphasis>FileSet</emphasis> will backup the <filename role=\"directory\">/etc</filename> and <filename role=\"directory\">/home</filename> directories. The <emphasis>Options</emphasis> resource directives configure the FileSet to create a MD5 signature for each file backed up, and to compress the files using GZIP."
msgstr ""

#: serverguide/C/backups.xml:754(para) 
msgid "Next, create a new <emphasis>Schedule</emphasis> for the backup job:"
msgstr ""

#: serverguide/C/backups.xml:757(programlisting) 
#, no-wrap
msgid "\n# LocalhostBackup Schedule -- Daily.\nSchedule {\n  Name = \"LocalhostDaily\"\n  Run = Full daily at 00:01\n}\n"
msgstr ""

#: serverguide/C/backups.xml:764(para) 
msgid "The job will run every day at 00:01 or 12:01 am. There are many other scheduling options available."
msgstr ""

#: serverguide/C/backups.xml:769(para) 
msgid "Finally create the <emphasis>Job</emphasis>:"
msgstr ""

#: serverguide/C/backups.xml:772(programlisting) 
#, no-wrap
msgid "\n# Localhost backup.\nJob {\n  Name = \"LocalhostBackup\"\n  JobDefs = \"DefaultJob\"\n  Enabled = yes\n  Level = Full\n  FileSet = \"LocalhostFiles\"\n  Schedule = \"LocalhostDaily\"\n  Storage = TapeDrive\n  Write Bootstrap = \"/var/lib/bacula/LocalhostBackup.bsr\"\n}  \n"
msgstr ""

#: serverguide/C/backups.xml:785(para) 
msgid "The job will do a <emphasis>Full</emphasis> backup every day to the tape drive."
msgstr ""

#: serverguide/C/backups.xml:790(para) 
msgid "Each tape used will need to have a <emphasis>Label</emphasis>. If the current tape does not have a label <application>Bacula</application> will send an email letting you know. To label a tape using the <application>Console</application> enter the following from a terminal:"
msgstr ""

#: serverguide/C/backups.xml:796(command) 
msgid "bconsole"
msgstr ""

#: serverguide/C/backups.xml:800(para) 
msgid "At the Bacula Console prompt enter:"
msgstr ""

#: serverguide/C/backups.xml:804(command) 
msgid "label"
msgstr ""

#: serverguide/C/backups.xml:808(para) 
msgid "You will then be prompted for the <emphasis>Storage</emphasis> resource:"
msgstr ""

#: serverguide/C/backups.xml:818(userinput) 
#, no-wrap
msgid "2"
msgstr ""

#: serverguide/C/backups.xml:812(computeroutput) 
#, no-wrap
msgid "\nAutomatically selected Catalog: MyCatalog\nUsing Catalog \"MyCatalog\"\nThe defined Storage resources are:\n     1: File\n     2: TapeDrive\nSelect Storage resource (1-2):<placeholder-1/>\n"
msgstr ""

#: serverguide/C/backups.xml:823(para) 
msgid "Enter the new <emphasis>Volume</emphasis> name:"
msgstr ""

#: serverguide/C/backups.xml:828(userinput) 
#, no-wrap
msgid "Sunday"
msgstr ""

#: serverguide/C/backups.xml:827(computeroutput) 
#, no-wrap
msgid "\nEnter new Volume name: <placeholder-1/>\nDefined Pools:\n     1: Default\n     2: Scratch"
msgstr ""

#: serverguide/C/backups.xml:833(para) 
msgid "Replace <emphasis>Sunday</emphasis> with the desired label."
msgstr ""

#: serverguide/C/backups.xml:838(para) 
msgid "Now, select the <emphasis>Pool</emphasis>:"
msgstr ""

#: serverguide/C/backups.xml:843(userinput) 
#, no-wrap
msgid "1"
msgstr ""

#: serverguide/C/backups.xml:842(computeroutput) 
#, no-wrap
msgid "\nSelect the Pool (1-2): <placeholder-1/>\nConnecting to Storage daemon TapeDrive at backupserver:9103 ...\nSending label command for Volume \"Sunday\" Slot 0 ...\n"
msgstr ""

#: serverguide/C/backups.xml:850(para) 
msgid "Congratulations, you have now configured <emphasis>Bacula</emphasis> to backup the localhost to an attached tape drive."
msgstr ""

#: serverguide/C/backups.xml:858(para) 
msgid "For more <emphasis>Bacula</emphasis> configuration options refer to the <ulink url=\"http://www.bacula.org/en/rel-manual/index.html\">Bacula User's Manual</ulink>"
msgstr ""

#: serverguide/C/backups.xml:864(para) 
msgid "The <ulink url=\"http://www.bacula.org/\">Bacula Home Page</ulink> contains the latest Bacula news and developments."
msgstr ""

#. Put one translator per line, in the form of NAME <EMAIL>, YEAR1, YEAR2.
#: serverguide/C/backups.xml:0(None) 
msgid "translator-credits"
msgstr ""

